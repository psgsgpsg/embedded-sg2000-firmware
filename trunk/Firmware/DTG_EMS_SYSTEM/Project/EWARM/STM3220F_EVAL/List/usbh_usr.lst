###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.10.1.52143/W32 for ARM     19/Jan/2012  11:08:52 #
# Copyright 1999-2010 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\USB\usbh #
#                    _usr.c                                                   #
#    Command line =  F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\USB\usbh #
#                    _usr.c -D USE_STDPERIPH_DRIVER -D STM32F2XX -D           #
#                    USE_STM3220F_EVAL -D USE_USB_OTG_FS -D                   #
#                    RTC_CLOCK_SOURCE_LSE -lC F:\Work\S&G2000\Firmware\DTG_EM #
#                    S_SYSTEM\Project\EWARM\STM3220F_EVAL\List\ -lA           #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\ST #
#                    M3220F_EVAL\List\ -o F:\Work\S&G2000\Firmware\DTG_EMS_SY #
#                    STEM\Project\EWARM\STM3220F_EVAL\Obj\ --no_cse           #
#                    --no_unroll --no_inline --no_code_motion --no_tbaa       #
#                    --no_clustering --no_scheduling --debug --endian=little  #
#                    --cpu=Cortex-M3 -e --fpu=None --dlib_config "C:\Program  #
#                    Files\IAR Systems\Embedded Workbench                     #
#                    6.0\arm\INC\c\DLib_Config_Full.h" -I                     #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \ -I F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWA #
#                    RM\..\..\Libraries\CMSIS\CM3\CoreSupport\ -I             #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\CMSIS\CM3\DeviceSupport\ST\STM32F2xx\ -I   #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32F2xx_StdPeriph_Driver\inc\ -I         #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Utilities\STM32_EVAL\ -I                             #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Utilities\STM32_EVAL\Common\ -I                      #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Utilities\STM32_EVAL\STM3220F_EVAL\ -I               #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32_USB_OTG_Driver\inc\ -I               #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32_USB_Device_Library\Core\inc\ -I      #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32_USB_Device_Library\Class\msc\inc\    #
#                    -I F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM #
#                    \..\Usb\ -I F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Proj #
#                    ect\EWARM\..\Usb\Inc\ -I F:\Work\S&G2000\Firmware\DTG_EM #
#                    S_SYSTEM\Project\EWARM\..\Usb\src\ -I                    #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32_USB_HOST_Library\Core\inc\ -I        #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32_USB_HOST_Library\Class\MSC\inc\ -I   #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32_USB_Device_Library\Class\cdc\inc\    #
#                    -Ol --use_c++_inline                                     #
#    List file    =  F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\ST #
#                    M3220F_EVAL\List\usbh_usr.lst                            #
#    Object file  =  F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\ST #
#                    M3220F_EVAL\Obj\usbh_usr.o                               #
#                                                                             #
#                                                                             #
###############################################################################

F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\USB\usbh_usr.c
      1          /**
      2          ******************************************************************************
      3          * @file    usbh_usr.c
      4          * @author  MCD Application Team
      5          * @version V2.0.0RC1
      6          * @date    18-March-2011
      7          * @brief   This file includes the usb host library user callbacks
      8          ******************************************************************************
      9          * @attention
     10          *
     11          * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
     12          * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
     13          * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
     14          * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
     15          * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
     16          * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
     17          *
     18          * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
     19          ******************************************************************************
     20          */
     21          
     22          /* Includes ------------------------------------------------------------------*/
     23          #include <string.h>

   \                                 In section .text, align 2
   \   __intrinsic __interwork __softfp void *memcpy(void *, void const *, size_t)
   \                     memcpy:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
   \   00000004   2000               MOVS     R0,R4
   \   00000006   ........           BL       __aeabi_memcpy
   \   0000000A   2000               MOVS     R0,R4
   \   0000000C   10BD               POP      {R4,PC}          ;; return

   \                                 In section .text, align 2
   \   __intrinsic __interwork __softfp void *memset(void *, int, size_t)
   \                     memset:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
   \   00000004   1000               MOVS     R0,R2
   \   00000006   0A00               MOVS     R2,R1
   \   00000008   0100               MOVS     R1,R0
   \   0000000A   2000               MOVS     R0,R4
   \   0000000C   ........           BL       __aeabi_memset
   \   00000010   2000               MOVS     R0,R4
   \   00000012   10BD               POP      {R4,PC}          ;; return
     24          
     25          #include "main.h"

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void NVIC_SystemReset(void)
   \                     NVIC_SystemReset:
   \   00000000   ....               LDR.N    R0,??DataTable66  ;; 0xe000ed0c
   \   00000002   0068               LDR      R0,[R0, #+0]
   \   00000004   10F4E060           ANDS     R0,R0,#0x700
   \   00000008   ....               LDR.N    R1,??DataTable66_1  ;; 0x5fa0004
   \   0000000A   0843               ORRS     R0,R1,R0
   \   0000000C   ....               LDR.N    R1,??DataTable66  ;; 0xe000ed0c
   \   0000000E   0860               STR      R0,[R1, #+0]
   \   00000010   BFF34F8F           DSB      
   \                     ??NVIC_SystemReset_0:
   \   00000014   FEE7               B.N      ??NVIC_SystemReset_0

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void LED2_OFF(void)
   \                     LED2_OFF:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   4FF40061           MOV      R1,#+2048
   \   00000006   ....               LDR.N    R0,??DataTable66_2  ;; 0x40021800
   \   00000008   ........           BL       GPIO_SetBits
   \   0000000C   4FF48051           MOV      R1,#+4096
   \   00000010   ....               LDR.N    R0,??DataTable66_2  ;; 0x40021800
   \   00000012   ........           BL       GPIO_SetBits
   \   00000016   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void LED2_GREEN(void)
   \                     LED2_GREEN:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   4FF40061           MOV      R1,#+2048
   \   00000006   ....               LDR.N    R0,??DataTable66_2  ;; 0x40021800
   \   00000008   ........           BL       GPIO_SetBits
   \   0000000C   4FF48051           MOV      R1,#+4096
   \   00000010   ....               LDR.N    R0,??DataTable66_2  ;; 0x40021800
   \   00000012   ........           BL       GPIO_ResetBits
   \   00000016   01BD               POP      {R0,PC}          ;; return
     26          #include "usbh_usr.h"
     27          #include "ff.h"       /* FATFS */
     28          #include "usbh_msc_core.h"
     29          #include "usbh_msc_scsi.h"
     30          #include "usbh_msc_bot.h"
     31          #include "Key_Process.h"
     32          #include "Log.h"
     33          #include "RTC.h"
     34          #include "Memory.h"
     35          #include "Voice.h"
     36          #include "flash_if.h"
     37          #include "fsmc_nand.h"
     38          /** @addtogroup USBH_USER
     39          * @{
     40          */
     41          
     42          /** @addtogroup USBH_MSC_DEMO_USER_CALLBACKS
     43          * @{
     44          */
     45          
     46          /** @defgroup USBH_USR 
     47          * @brief    This file includes the usb host stack user callbacks
     48          * @{
     49          */ 
     50          
     51          /** @defgroup USBH_USR_Private_TypesDefinitions
     52          * @{
     53          */ 
     54          /**
     55          * @}
     56          */ 
     57          
     58          
     59          /** @defgroup USBH_USR_Private_Defines
     60          * @{
     61          */ 
     62          /**
     63          * @}
     64          */ 
     65          
     66          
     67          /** @defgroup USBH_USR_Private_Macros
     68          * @{
     69          */ 
     70          extern USB_OTG_CORE_HANDLE          USB_OTG_Core;
     71          /**
     72          * @}
     73          */ 
     74          
     75          
     76          /** @defgroup USBH_USR_Private_Variables
     77          * @{
     78          */ 

   \                                 In section .bss, align 1
     79          uint8_t USBH_USR_ApplicationState = USH_USR_FS_INIT;
   \                     USBH_USR_ApplicationState:
   \   00000000                      DS8 1

   \                                 In section .data, align 1
     80          uint8_t USBH_USR_ActionFlag = USH_USR_FS_IDLE;
   \                     USBH_USR_ActionFlag:
   \   00000000   01                 DC8 1

   \                                 In section .bss, align 4
     81          uint8_t USBH_USR_Log_Buffer[100] ;
   \                     USBH_USR_Log_Buffer:
   \   00000000                      DS8 100

   \                                 In section .bss, align 4
     82          uint8_t USBH_USR_DTG_Buffer[MAX_USB_FILE_SIZE] ;
   \                     USBH_USR_DTG_Buffer:
   \   00000000                      DS8 256

   \                                 In section .bss, align 4
     83          uint8_t USB_File_Buffer[MAX_USB_FILE_SIZE];
   \                     USB_File_Buffer:
   \   00000000                      DS8 256
     84          

   \                                 In section .bss, align 4
     85          FATFS fatfs;
   \                     fatfs:
   \   00000000                      DS8 560

   \                                 In section .bss, align 4
     86          FIL file;
   \                     file:
   \   00000000                      DS8 548

   \                                 In section .bss, align 4
     87          FILINFO finfo;
   \                     finfo:
   \   00000000                      DS8 32
     88          /*  Points to the DEVICE_PROP structure of current device */
     89          /*  The purpose of this register is to speed up the execution */
     90          

   \                                 In section .data, align 4
     91          USBH_Usr_cb_TypeDef USR_cb =
   \                     USR_cb:
   \   00000000   ............       DC32 USBH_USR_Init, USBH_USR_DeInit, USBH_USR_DeviceAttached
   \              ............
   \   0000000C   ............       DC32 USBH_USR_ResetDevice, USBH_USR_DeviceDisconnected
   \              ....        
   \   00000014   ............       DC32 USBH_USR_OverCurrentDetected, USBH_USR_DeviceSpeedDetected
   \              ....        
   \   0000001C   ............       DC32 USBH_USR_Device_DescAvailable, USBH_USR_DeviceAddressAssigned
   \              ....        
   \   00000024   ............       DC32 USBH_USR_Configuration_DescAvailable, USBH_USR_Manufacturer_String
   \              ....        
   \   0000002C   ............       DC32 USBH_USR_Product_String, USBH_USR_SerialNum_String
   \              ....        
   \   00000034   ............       DC32 USBH_USR_EnumerationDone, USBH_USR_UserInput
   \              ....        
   \   0000003C   ............       DC32 USBH_USR_MSC_Application, USBH_USR_DeviceNotSupported
   \              ....        
   \   00000044   ........           DC32 USBH_USR_UnrecoveredError
     92          {
     93               USBH_USR_Init,
     94               USBH_USR_DeInit,
     95               USBH_USR_DeviceAttached,
     96               USBH_USR_ResetDevice,
     97               USBH_USR_DeviceDisconnected,
     98               USBH_USR_OverCurrentDetected,
     99               USBH_USR_DeviceSpeedDetected,
    100               USBH_USR_Device_DescAvailable,
    101               USBH_USR_DeviceAddressAssigned,
    102               USBH_USR_Configuration_DescAvailable,
    103               USBH_USR_Manufacturer_String,
    104               USBH_USR_Product_String,
    105               USBH_USR_SerialNum_String,
    106               USBH_USR_EnumerationDone,
    107               USBH_USR_UserInput,
    108               USBH_USR_MSC_Application,
    109               USBH_USR_DeviceNotSupported,
    110               USBH_USR_UnrecoveredError
    111                    
    112          };
    113          
    114          /**
    115          * @}
    116          */
    117          
    118          /** @defgroup USBH_USR_Private_Constants
    119          * @{
    120          */ 
    121          /*--------------- LCD Messages ---------------*/

   \                                 In section .text, align 4, keep-with-next
    122          const uint8_t MSG_HOST_INIT[]        = "> Host Library Initialized\r\n";
   \                     MSG_HOST_INIT:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E20486F7374       DC8 62, 32, 72, 111, 115, 116, 32, 76, 105, 98
   \              204C6962    
   \   0000000A   726172792049       DC8 114, 97, 114, 121, 32, 73, 110, 105, 116, 105
   \              6E697469    
   \   00000014   616C697A6564       DC8 97, 108, 105, 122, 101, 100, 13, 10, 0, 0
   \              0D0A0000    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
    123          const uint8_t MSG_DEV_ATTACHED[]     = "> Device Attached \r\n";
   \                     MSG_DEV_ATTACHED:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   3E2044657669       DC8 62, 32, 68, 101, 118, 105, 99, 101, 32, 65
   \              63652041    
   \   0000000A   747461636865       DC8 116, 116, 97, 99, 104, 101, 100, 32, 13, 10
   \              64200D0A    
   \   00000014   00000000           DC8 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
    124          const uint8_t MSG_DEV_DISCONNECTED[] = "> Device Disconnected\r\n";
   \                     MSG_DEV_DISCONNECTED:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   3E2044657669       DC8 62, 32, 68, 101, 118, 105, 99, 101, 32, 68
   \              63652044    
   \   0000000A   6973636F6E6E       DC8 105, 115, 99, 111, 110, 110, 101, 99, 116, 101
   \              65637465    
   \   00000014   640D0A00           DC8 100, 13, 10, 0

   \                                 In section .text, align 4, keep-with-next
    125          const uint8_t MSG_DEV_ENUMERATED[]   = "> Enumeration completed \r\n";
   \                     MSG_DEV_ENUMERATED:
   \   00000000                      ; Initializer data, 28 bytes
   \   00000000   3E20456E756D       DC8 62, 32, 69, 110, 117, 109, 101, 114, 97, 116
   \              65726174    
   \   0000000A   696F6E20636F       DC8 105, 111, 110, 32, 99, 111, 109, 112, 108, 101
   \              6D706C65    
   \   00000014   746564200D0A       DC8 116, 101, 100, 32, 13, 10, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
    126          const uint8_t MSG_DEV_HIGHSPEED[]    = "> High speed device detected\r\n";
   \                     MSG_DEV_HIGHSPEED:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E2048696768       DC8 62, 32, 72, 105, 103, 104, 32, 115, 112, 101
   \              20737065    
   \   0000000A   656420646576       DC8 101, 100, 32, 100, 101, 118, 105, 99, 101, 32
   \              69636520    
   \   00000014   646574656374       DC8 100, 101, 116, 101, 99, 116, 101, 100, 13, 10
   \              65640D0A    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
    127          const uint8_t MSG_DEV_FULLSPEED[]    = "> Full speed device detected\r\n";
   \                     MSG_DEV_FULLSPEED:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E2046756C6C       DC8 62, 32, 70, 117, 108, 108, 32, 115, 112, 101
   \              20737065    
   \   0000000A   656420646576       DC8 101, 100, 32, 100, 101, 118, 105, 99, 101, 32
   \              69636520    
   \   00000014   646574656374       DC8 100, 101, 116, 101, 99, 116, 101, 100, 13, 10
   \              65640D0A    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
    128          const uint8_t MSG_DEV_LOWSPEED[]     = "> Low speed device detected\\rn";
   \                     MSG_DEV_LOWSPEED:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E204C6F7720       DC8 62, 32, 76, 111, 119, 32, 115, 112, 101, 101
   \              73706565    
   \   0000000A   642064657669       DC8 100, 32, 100, 101, 118, 105, 99, 101, 32, 100
   \              63652064    
   \   00000014   657465637465       DC8 101, 116, 101, 99, 116, 101, 100, 92, 114, 110
   \              645C726E    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
    129          const uint8_t MSG_DEV_ERROR[]        = "> Device fault \r\n";
   \                     MSG_DEV_ERROR:
   \   00000000                      ; Initializer data, 20 bytes
   \   00000000   3E2044657669       DC8 62, 32, 68, 101, 118, 105, 99, 101, 32, 102
   \              63652066    
   \   0000000A   61756C74200D       DC8 97, 117, 108, 116, 32, 13, 10, 0, 0, 0
   \              0A000000    
    130          

   \                                 In section .text, align 4, keep-with-next
    131          const uint8_t MSG_MSC_CLASS[]      = "> Mass storage device connected\r\n";
   \                     MSG_MSC_CLASS:
   \   00000000                      ; Initializer data, 36 bytes
   \   00000000   3E204D617373       DC8 62, 32, 77, 97, 115, 115, 32, 115, 116, 111
   \              2073746F    
   \   0000000A   726167652064       DC8 114, 97, 103, 101, 32, 100, 101, 118, 105, 99
   \              65766963    
   \   00000014   6520636F6E6E       DC8 101, 32, 99, 111, 110, 110, 101, 99, 116, 101
   \              65637465    
   \   0000001E   640D0A000000       DC8 100, 13, 10, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
    132          const uint8_t MSG_HID_CLASS[]      = "> HID device connected\r\n";
   \                     MSG_HID_CLASS:
   \   00000000                      ; Initializer data, 28 bytes
   \   00000000   3E2048494420       DC8 62, 32, 72, 73, 68, 32, 100, 101, 118, 105
   \              64657669    
   \   0000000A   636520636F6E       DC8 99, 101, 32, 99, 111, 110, 110, 101, 99, 116
   \              6E656374    
   \   00000014   65640D0A0000       DC8 101, 100, 13, 10, 0, 0, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
    133          const uint8_t MSG_DISK_SIZE[]      = "> Size of the disk in MBytes: \r\n";
   \                     MSG_DISK_SIZE:
   \   00000000                      ; Initializer data, 36 bytes
   \   00000000   3E2053697A65       DC8 62, 32, 83, 105, 122, 101, 32, 111, 102, 32
   \              206F6620    
   \   0000000A   746865206469       DC8 116, 104, 101, 32, 100, 105, 115, 107, 32, 105
   \              736B2069    
   \   00000014   6E204D427974       DC8 110, 32, 77, 66, 121, 116, 101, 115, 58, 32
   \              65733A20    
   \   0000001E   0D0A00000000       DC8 13, 10, 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
    134          const uint8_t MSG_LUN[]            = "> LUN Available in the device:\r\n";
   \                     MSG_LUN:
   \   00000000                      ; Initializer data, 36 bytes
   \   00000000   3E204C554E20       DC8 62, 32, 76, 85, 78, 32, 65, 118, 97, 105
   \              41766169    
   \   0000000A   6C61626C6520       DC8 108, 97, 98, 108, 101, 32, 105, 110, 32, 116
   \              696E2074    
   \   00000014   686520646576       DC8 104, 101, 32, 100, 101, 118, 105, 99, 101, 58
   \              6963653A    
   \   0000001E   0D0A00000000       DC8 13, 10, 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
    135          const uint8_t MSG_ROOT_CONT[]      = "> Exploring disk flash ...\r\n";
   \                     MSG_ROOT_CONT:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E204578706C       DC8 62, 32, 69, 120, 112, 108, 111, 114, 105, 110
   \              6F72696E    
   \   0000000A   67206469736B       DC8 103, 32, 100, 105, 115, 107, 32, 102, 108, 97
   \              20666C61    
   \   00000014   7368202E2E2E       DC8 115, 104, 32, 46, 46, 46, 13, 10, 0, 0
   \              0D0A0000    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
    136          const uint8_t MSG_WR_PROTECT[]      = "> The disk is write protected\r\n";
   \                     MSG_WR_PROTECT:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E2054686520       DC8 62, 32, 84, 104, 101, 32, 100, 105, 115, 107
   \              6469736B    
   \   0000000A   206973207772       DC8 32, 105, 115, 32, 119, 114, 105, 116, 101, 32
   \              69746520    
   \   00000014   70726F746563       DC8 112, 114, 111, 116, 101, 99, 116, 101, 100, 13
   \              7465640D    
   \   0000001E   0A00               DC8 10, 0

   \                                 In section .text, align 4, keep-with-next
    137          const uint8_t MSG_UNREC_ERROR[]     = "> UNRECOVERED ERROR STATE\r\n";
   \                     MSG_UNREC_ERROR:
   \   00000000                      ; Initializer data, 28 bytes
   \   00000000   3E20554E5245       DC8 62, 32, 85, 78, 82, 69, 67, 79, 86, 69
   \              434F5645    
   \   0000000A   524544204552       DC8 82, 69, 68, 32, 69, 82, 82, 79, 82, 32
   \              524F5220    
   \   00000014   53544154450D       DC8 83, 84, 65, 84, 69, 13, 10, 0
   \              0A00        
    138          
    139          /**
    140          * @}
    141          */
    142          
    143          
    144          
    145          /** @defgroup USBH_USR_Private_FunctionPrototypes
    146          * @{
    147          */
    148          
    149          
    150          /**
    151          * @}
    152          */ 
    153          
    154          
    155          /** @defgroup USBH_USR_Private_Functions
    156          * @{
    157          */ 
    158          
    159          
    160          /**
    161          * @brief  USBH_USR_Init 
    162          *         Displays the message on LCD for host lib initialization
    163          * @param  None
    164          * @retval None
    165          */

   \                                 In section .text, align 2, keep-with-next
    166          void USBH_USR_Init(void)
    167          {
   \                     USBH_USR_Init:
   \   00000000   80B5               PUSH     {R7,LR}
    168               // LOG -------------------------------------------------------------------------
    169               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable66_3
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   07D5               BPL.N    ??USBH_USR_Init_0
    170               {
    171                    sprintf((char *)Buffer,"USB Initailze \r\n "); 
   \   0000000A   ....               LDR.N    R1,??DataTable66_4
   \   0000000C   ....               LDR.N    R0,??DataTable66_5
   \   0000000E   ........           BL       sprintf
    172                    Write_Log(Buffer, NORMAL_LOG);
   \   00000012   0121               MOVS     R1,#+1
   \   00000014   ....               LDR.N    R0,??DataTable66_5
   \   00000016   ........           BL       Write_Log
    173               }            
    174               // -----------------------------------------------------------------------------
    175          }
   \                     ??USBH_USR_Init_0:
   \   0000001A   01BD               POP      {R0,PC}          ;; return
    176          
    177          /**
    178          * @brief  USBH_USR_DeviceAttached 
    179          *         Displays the message on LCD on device attached
    180          * @param  None
    181          * @retval None
    182          */

   \                                 In section .text, align 2, keep-with-next
    183          void USBH_USR_DeviceAttached(void)
    184          {
   \                     USBH_USR_DeviceAttached:
   \   00000000   80B5               PUSH     {R7,LR}
    185               // LOG -------------------------------------------------------------------------
    186               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable66_3
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   07D5               BPL.N    ??USBH_USR_DeviceAttached_0
    187               {
    188                    sprintf((char *)Buffer, (void *)MSG_DEV_ATTACHED); 
   \   0000000A   ....               LDR.N    R1,??DataTable66_6
   \   0000000C   ....               LDR.N    R0,??DataTable66_5
   \   0000000E   ........           BL       sprintf
    189                    Write_Log(Buffer, NORMAL_LOG);
   \   00000012   0121               MOVS     R1,#+1
   \   00000014   ....               LDR.N    R0,??DataTable66_5
   \   00000016   ........           BL       Write_Log
    190               }            
    191               // -----------------------------------------------------------------------------     
    192          }
   \                     ??USBH_USR_DeviceAttached_0:
   \   0000001A   01BD               POP      {R0,PC}          ;; return
    193          
    194          
    195          /**
    196          * @brief  USBH_USR_UnrecoveredError
    197          * @param  None
    198          * @retval None
    199          */

   \                                 In section .text, align 2, keep-with-next
    200          void USBH_USR_UnrecoveredError (void)
    201          {
   \                     USBH_USR_UnrecoveredError:
   \   00000000   80B5               PUSH     {R7,LR}
    202               
    203               /* Set default screen color*/ 
    204               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable66_3
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   07D5               BPL.N    ??USBH_USR_UnrecoveredError_0
    205               {
    206                    sprintf((char *)Buffer, (void *)MSG_UNREC_ERROR); 
   \   0000000A   ....               LDR.N    R1,??DataTable66_7
   \   0000000C   ....               LDR.N    R0,??DataTable66_5
   \   0000000E   ........           BL       sprintf
    207                    Write_Log(Buffer, ERROR_LOG);
   \   00000012   0421               MOVS     R1,#+4
   \   00000014   ....               LDR.N    R0,??DataTable66_5
   \   00000016   ........           BL       Write_Log
    208               }            
    209          }
   \                     ??USBH_USR_UnrecoveredError_0:
   \   0000001A   01BD               POP      {R0,PC}          ;; return
    210          
    211          
    212          /**
    213          * @brief  USBH_DisconnectEvent
    214          *         Device disconnect event
    215          * @param  None
    216          * @retval Staus
    217          */

   \                                 In section .text, align 2, keep-with-next
    218          void USBH_USR_DeviceDisconnected (void)
    219          {
   \                     USBH_USR_DeviceDisconnected:
   \   00000000   80B5               PUSH     {R7,LR}
    220               /* Set default screen color*/
    221               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable66_3
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   07D5               BPL.N    ??USBH_USR_DeviceDisconnected_0
    222               {
    223                    sprintf((char *)Buffer, (void *)MSG_DEV_DISCONNECTED); 
   \   0000000A   ....               LDR.N    R1,??DataTable66_8
   \   0000000C   ....               LDR.N    R0,??DataTable66_5
   \   0000000E   ........           BL       sprintf
    224                    Write_Log(Buffer, ERROR_LOG);
   \   00000012   0421               MOVS     R1,#+4
   \   00000014   ....               LDR.N    R0,??DataTable66_5
   \   00000016   ........           BL       Write_Log
    225               }     
    226          }
   \                     ??USBH_USR_DeviceDisconnected_0:
   \   0000001A   01BD               POP      {R0,PC}          ;; return
    227          /**
    228          * @brief  USBH_USR_ResetUSBDevice 
    229          * @param  None
    230          * @retval None
    231          */

   \                                 In section .text, align 2, keep-with-next
    232          void USBH_USR_ResetDevice(void)
    233          {
   \                     USBH_USR_ResetDevice:
   \   00000000   80B5               PUSH     {R7,LR}
    234               /* callback for USB-Reset */
    235               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable66_3
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   07D5               BPL.N    ??USBH_USR_ResetDevice_0
    236               {
    237                    sprintf((char *)Buffer, "USB_Reset \r\n"); 
   \   0000000A   ....               LDR.N    R1,??DataTable66_9
   \   0000000C   ....               LDR.N    R0,??DataTable66_5
   \   0000000E   ........           BL       sprintf
    238                    Write_Log(Buffer, NORMAL_LOG);
   \   00000012   0121               MOVS     R1,#+1
   \   00000014   ....               LDR.N    R0,??DataTable66_5
   \   00000016   ........           BL       Write_Log
    239               }          
    240          }
   \                     ??USBH_USR_ResetDevice_0:
   \   0000001A   01BD               POP      {R0,PC}          ;; return
    241          
    242          
    243          /**
    244          * @brief  USBH_USR_DeviceSpeedDetected 
    245          *         Displays the message on LCD for device speed
    246          * @param  Device speed
    247          * @retval None
    248          */

   \                                 In section .text, align 2, keep-with-next
    249          void USBH_USR_DeviceSpeedDetected(uint8_t DeviceSpeed)
    250          {
   \                     USBH_USR_DeviceSpeedDetected:
   \   00000000   80B5               PUSH     {R7,LR}
    251               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R1,??DataTable66_3
   \   00000004   0968               LDR      R1,[R1, #+0]
   \   00000006   C904               LSLS     R1,R1,#+19
   \   00000008   1FD5               BPL.N    ??USBH_USR_DeviceSpeedDetected_0
    252               {     
    253                    if(DeviceSpeed == HPRT0_PRTSPD_HIGH_SPEED)
   \   0000000A   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000000C   0028               CMP      R0,#+0
   \   0000000E   04D1               BNE.N    ??USBH_USR_DeviceSpeedDetected_1
    254                    {
    255                         sprintf((char *)Buffer,(void *)MSG_DEV_HIGHSPEED);
   \   00000010   ....               LDR.N    R1,??DataTable66_10
   \   00000012   ....               LDR.N    R0,??DataTable66_5
   \   00000014   ........           BL       sprintf
   \   00000018   13E0               B.N      ??USBH_USR_DeviceSpeedDetected_2
    256                    }  
    257                    else if(DeviceSpeed == HPRT0_PRTSPD_FULL_SPEED)
   \                     ??USBH_USR_DeviceSpeedDetected_1:
   \   0000001A   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000001C   0128               CMP      R0,#+1
   \   0000001E   04D1               BNE.N    ??USBH_USR_DeviceSpeedDetected_3
    258                    {
    259                         sprintf((char *)Buffer,(void *)MSG_DEV_FULLSPEED);
   \   00000020   ....               LDR.N    R1,??DataTable66_11
   \   00000022   ....               LDR.N    R0,??DataTable66_5
   \   00000024   ........           BL       sprintf
   \   00000028   0BE0               B.N      ??USBH_USR_DeviceSpeedDetected_2
    260                    }
    261                    else if(DeviceSpeed == HPRT0_PRTSPD_LOW_SPEED)
   \                     ??USBH_USR_DeviceSpeedDetected_3:
   \   0000002A   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000002C   0228               CMP      R0,#+2
   \   0000002E   04D1               BNE.N    ??USBH_USR_DeviceSpeedDetected_4
    262                    {
    263                         sprintf((char *)Buffer,(void *)MSG_DEV_LOWSPEED);
   \   00000030   ....               LDR.N    R1,??DataTable66_12
   \   00000032   ....               LDR.N    R0,??DataTable66_5
   \   00000034   ........           BL       sprintf
   \   00000038   03E0               B.N      ??USBH_USR_DeviceSpeedDetected_2
    264                    }
    265                    else
    266                    {
    267                         sprintf((char *)Buffer,(void *)MSG_DEV_ERROR);
   \                     ??USBH_USR_DeviceSpeedDetected_4:
   \   0000003A   ....               LDR.N    R1,??DataTable66_13
   \   0000003C   ....               LDR.N    R0,??DataTable66_5
   \   0000003E   ........           BL       sprintf
    268                    }
    269                    Write_Log(Buffer, NORMAL_LOG);
   \                     ??USBH_USR_DeviceSpeedDetected_2:
   \   00000042   0121               MOVS     R1,#+1
   \   00000044   ....               LDR.N    R0,??DataTable66_5
   \   00000046   ........           BL       Write_Log
    270               }
    271          }
   \                     ??USBH_USR_DeviceSpeedDetected_0:
   \   0000004A   01BD               POP      {R0,PC}          ;; return
    272          
    273          /**
    274          * @brief  USBH_USR_Device_DescAvailable 
    275          *         Displays the message on LCD for device descriptor
    276          * @param  device descriptor
    277          * @retval None
    278          */

   \                                 In section .text, align 2, keep-with-next
    279          void USBH_USR_Device_DescAvailable(void *DeviceDesc)
    280          { 
   \                     USBH_USR_Device_DescAvailable:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
    281               USBH_DevDesc_TypeDef *hs;
    282               hs = DeviceDesc;  
    283               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000004   ....               LDR.N    R0,??DataTable66_3
   \   00000006   0068               LDR      R0,[R0, #+0]
   \   00000008   C004               LSLS     R0,R0,#+19
   \   0000000A   11D5               BPL.N    ??USBH_USR_Device_DescAvailable_0
    284               {       
    285                    sprintf((char *)Buffer,"> VID : %04Xh\r\n" , (uint32_t)(*hs).idVendor); 
   \   0000000C   2289               LDRH     R2,[R4, #+8]
   \   0000000E   ....               LDR.N    R1,??DataTable66_14
   \   00000010   ....               LDR.N    R0,??DataTable66_5
   \   00000012   ........           BL       sprintf
    286                    Write_Log(Buffer, NORMAL_LOG);
   \   00000016   0121               MOVS     R1,#+1
   \   00000018   ....               LDR.N    R0,??DataTable66_5
   \   0000001A   ........           BL       Write_Log
    287                    sprintf((char *)Buffer,"> PID : %04Xh\r\n" , (uint32_t)(*hs).idProduct);
   \   0000001E   6289               LDRH     R2,[R4, #+10]
   \   00000020   ....               LDR.N    R1,??DataTable66_15
   \   00000022   ....               LDR.N    R0,??DataTable66_5
   \   00000024   ........           BL       sprintf
    288                    Write_Log(Buffer, NORMAL_LOG);
   \   00000028   0121               MOVS     R1,#+1
   \   0000002A   ....               LDR.N    R0,??DataTable66_5
   \   0000002C   ........           BL       Write_Log
    289               }
    290          }
   \                     ??USBH_USR_Device_DescAvailable_0:
   \   00000030   10BD               POP      {R4,PC}          ;; return
    291          
    292          /**
    293          * @brief  USBH_USR_DeviceAddressAssigned 
    294          *         USB device is successfully assigned the Address 
    295          * @param  None
    296          * @retval None
    297          */

   \                                 In section .text, align 2, keep-with-next
    298          void USBH_USR_DeviceAddressAssigned(void)
    299          {  
    300          }
   \                     USBH_USR_DeviceAddressAssigned:
   \   00000000   7047               BX       LR               ;; return
    301          
    302          
    303          /**
    304          * @brief  USBH_USR_Conf_Desc 
    305          *         Displays the message on LCD for configuration descriptor
    306          * @param  Configuration descriptor
    307          * @retval None
    308          */

   \                                 In section .text, align 2, keep-with-next
    309          void USBH_USR_Configuration_DescAvailable(USBH_CfgDesc_TypeDef * cfgDesc,
    310                                                    USBH_InterfaceDesc_TypeDef *itfDesc,
    311                                                    USBH_EpDesc_TypeDef *epDesc)
    312          {
   \                     USBH_USR_Configuration_DescAvailable:
   \   00000000   80B5               PUSH     {R7,LR}
    313               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable66_3
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   12D5               BPL.N    ??USBH_USR_Configuration_DescAvailable_0
    314               {      
    315                    USBH_InterfaceDesc_TypeDef *id;  
    316                    
    317                    id = itfDesc;  
    318                    
    319                    if((*id).bInterfaceClass  == 0x08)
   \   0000000A   4879               LDRB     R0,[R1, #+5]
   \   0000000C   0828               CMP      R0,#+8
   \   0000000E   04D1               BNE.N    ??USBH_USR_Configuration_DescAvailable_1
    320                    {
    321                         sprintf((char *)Buffer,(void *)MSG_MSC_CLASS);
   \   00000010   ....               LDR.N    R1,??DataTable66_16
   \   00000012   ....               LDR.N    R0,??DataTable66_5
   \   00000014   ........           BL       sprintf
   \   00000018   06E0               B.N      ??USBH_USR_Configuration_DescAvailable_2
    322                         
    323                    }
    324                    else if((*id).bInterfaceClass  == 0x03)
   \                     ??USBH_USR_Configuration_DescAvailable_1:
   \   0000001A   4879               LDRB     R0,[R1, #+5]
   \   0000001C   0328               CMP      R0,#+3
   \   0000001E   03D1               BNE.N    ??USBH_USR_Configuration_DescAvailable_2
    325                    {
    326                         sprintf((char *)Buffer,(void *)MSG_HID_CLASS);
   \   00000020   ....               LDR.N    R1,??DataTable66_17
   \   00000022   ....               LDR.N    R0,??DataTable66_5
   \   00000024   ........           BL       sprintf
    327                    }    
    328                    Write_Log(Buffer, NORMAL_LOG);
   \                     ??USBH_USR_Configuration_DescAvailable_2:
   \   00000028   0121               MOVS     R1,#+1
   \   0000002A   ....               LDR.N    R0,??DataTable66_5
   \   0000002C   ........           BL       Write_Log
    329               }
    330          }
   \                     ??USBH_USR_Configuration_DescAvailable_0:
   \   00000030   01BD               POP      {R0,PC}          ;; return
    331          
    332          /**
    333          * @brief  USBH_USR_Manufacturer_String 
    334          *         Displays the message on LCD for Manufacturer String 
    335          * @param  Manufacturer String 
    336          * @retval None
    337          */

   \                                 In section .text, align 2, keep-with-next
    338          void USBH_USR_Manufacturer_String(void *ManufacturerString)
    339          {
   \                     USBH_USR_Manufacturer_String:
   \   00000000   80B5               PUSH     {R7,LR}
    340               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R1,??DataTable66_3
   \   00000004   0968               LDR      R1,[R1, #+0]
   \   00000006   C904               LSLS     R1,R1,#+19
   \   00000008   0AD5               BPL.N    ??USBH_USR_Manufacturer_String_0
    341               {               
    342                    sprintf((char *)Buffer, "> Manufacturer : %s \r\n", (char *)ManufacturerString);
   \   0000000A   0200               MOVS     R2,R0
   \   0000000C   ....               LDR.N    R1,??DataTable66_18
   \   0000000E   ........           LDR.W    R0,??DataTable68
   \   00000012   ........           BL       sprintf
    343                    Write_Log(Buffer, NORMAL_LOG);
   \   00000016   0121               MOVS     R1,#+1
   \   00000018   ........           LDR.W    R0,??DataTable68
   \   0000001C   ........           BL       Write_Log
    344               }
    345          }
   \                     ??USBH_USR_Manufacturer_String_0:
   \   00000020   01BD               POP      {R0,PC}          ;; return
    346          
    347          /**
    348          * @brief  USBH_USR_Product_String 
    349          *         Displays the message on LCD for Product String
    350          * @param  Product String
    351          * @retval None
    352          */

   \                                 In section .text, align 2, keep-with-next
    353          void USBH_USR_Product_String(void *ProductString)
    354          {          
   \                     USBH_USR_Product_String:
   \   00000000   80B5               PUSH     {R7,LR}
    355               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R1,??DataTable66_3
   \   00000004   0968               LDR      R1,[R1, #+0]
   \   00000006   C904               LSLS     R1,R1,#+19
   \   00000008   0BD5               BPL.N    ??USBH_USR_Product_String_0
    356               {   
    357                    sprintf((char *)Buffer, "> Product : %s \r\n", (char *)ProductString);  
   \   0000000A   0200               MOVS     R2,R0
   \   0000000C   ........           LDR.W    R1,??DataTable67
   \   00000010   ........           LDR.W    R0,??DataTable68
   \   00000014   ........           BL       sprintf
    358                    Write_Log(Buffer, NORMAL_LOG);
   \   00000018   0121               MOVS     R1,#+1
   \   0000001A   ........           LDR.W    R0,??DataTable68
   \   0000001E   ........           BL       Write_Log
    359               }
    360          }
   \                     ??USBH_USR_Product_String_0:
   \   00000022   01BD               POP      {R0,PC}          ;; return
    361          
    362          /**
    363          * @brief  USBH_USR_SerialNum_String 
    364          *         Displays the message on LCD for SerialNum_String 
    365          * @param  SerialNum_String 
    366          * @retval None
    367          */

   \                                 In section .text, align 2, keep-with-next
    368          void USBH_USR_SerialNum_String(void *SerialNumString)
    369          {
   \                     USBH_USR_SerialNum_String:
   \   00000000   80B5               PUSH     {R7,LR}
    370               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R1,??DataTable66_3
   \   00000004   0968               LDR      R1,[R1, #+0]
   \   00000006   C904               LSLS     R1,R1,#+19
   \   00000008   0BD5               BPL.N    ??USBH_USR_SerialNum_String_0
    371               {
    372                    sprintf((char *)Buffer, "> Serial Number : %s \r\n", (char *)SerialNumString);    
   \   0000000A   0200               MOVS     R2,R0
   \   0000000C   ........           LDR.W    R1,??DataTable67_1
   \   00000010   ........           LDR.W    R0,??DataTable68
   \   00000014   ........           BL       sprintf
    373                    Write_Log(Buffer, NORMAL_LOG);
   \   00000018   0121               MOVS     R1,#+1
   \   0000001A   ........           LDR.W    R0,??DataTable68
   \   0000001E   ........           BL       Write_Log
    374               }    
    375          } 
   \                     ??USBH_USR_SerialNum_String_0:
   \   00000022   01BD               POP      {R0,PC}          ;; return
    376          
    377          
    378          
    379          /**
    380          * @brief  EnumerationDone 
    381          *         User response request is displayed to ask application jump to class
    382          * @param  None
    383          * @retval None
    384          */

   \                                 In section .text, align 2, keep-with-next
    385          void USBH_USR_EnumerationDone(void)
    386          {
   \                     USBH_USR_EnumerationDone:
   \   00000000   80B5               PUSH     {R7,LR}
    387               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable66_3
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   0AD5               BPL.N    ??USBH_USR_EnumerationDone_0
    388               {
    389                    /* Enumeration complete */
    390                    sprintf((char *)Buffer, (void *)MSG_DEV_ENUMERATED); 
   \   0000000A   ........           LDR.W    R1,??DataTable67_2
   \   0000000E   ........           LDR.W    R0,??DataTable68
   \   00000012   ........           BL       sprintf
    391                    Write_Log(Buffer, NORMAL_LOG);
   \   00000016   0121               MOVS     R1,#+1
   \   00000018   ........           LDR.W    R0,??DataTable68
   \   0000001C   ........           BL       Write_Log
    392                    //  LCD_SetTextColor(Green);
    393                    //  LCD_DisplayStringLine( LCD_PIXEL_HEIGHT - 42, "To see the root content of the disk : " );
    394                    //  LCD_DisplayStringLine( LCD_PIXEL_HEIGHT - 30, "Press Key...                       ");
    395                    //  LCD_SetTextColor(LCD_LOG_DEFAULT_COLOR); 
    396               }
    397          } 
   \                     ??USBH_USR_EnumerationDone_0:
   \   00000020   01BD               POP      {R0,PC}          ;; return
    398          
    399          
    400          /**
    401          * @brief  USBH_USR_DeviceNotSupported
    402          *         Device is not supported
    403          * @param  None
    404          * @retval None
    405          */

   \                                 In section .text, align 2, keep-with-next
    406          void USBH_USR_DeviceNotSupported(void)
    407          {
   \                     USBH_USR_DeviceNotSupported:
   \   00000000   80B5               PUSH     {R7,LR}
    408               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable66_3
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   0AD5               BPL.N    ??USBH_USR_DeviceNotSupported_0
    409               {     
    410                    sprintf((char *)Buffer, "> Device not supported.\r\n" ); 
   \   0000000A   ........           LDR.W    R1,??DataTable67_3
   \   0000000E   ........           LDR.W    R0,??DataTable68
   \   00000012   ........           BL       sprintf
    411                    Write_Log(Buffer, ERROR_LOG);
   \   00000016   0421               MOVS     R1,#+4
   \   00000018   ........           LDR.W    R0,??DataTable68
   \   0000001C   ........           BL       Write_Log
    412               }
    413          }  
   \                     ??USBH_USR_DeviceNotSupported_0:
   \   00000020   01BD               POP      {R0,PC}          ;; return
    414          
    415          
    416          /**
    417          * @brief  USBH_USR_UserInput
    418          *         User Action for application state entry
    419          * @param  None
    420          * @retval USBH_USR_Status : User response for key button
    421          */

   \                                 In section .text, align 2, keep-with-next
    422          USBH_USR_Status USBH_USR_UserInput(void)
    423          {
    424               USBH_USR_Status usbh_usr_status;
    425          //     usbh_usr_status = USBH_USR_NO_RESP;     
    426               /*Key B3 is in polling mode to detect user action */
    427          //     if(IsKey_ECO()==RESET)  
    428          //     {          
    429               
    430               usbh_usr_status = USBH_USR_RESP_OK;          
   \                     USBH_USR_UserInput:
   \   00000000   0120               MOVS     R0,#+1
    431          //     } 
    432               return usbh_usr_status;
   \   00000002   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   7047               BX       LR               ;; return
    433          }  
    434          
    435          /**
    436          * @brief  USBH_USR_OverCurrentDetected
    437          *         Over Current Detected on VBUS
    438          * @param  None
    439          * @retval Staus
    440          */

   \                                 In section .text, align 2, keep-with-next
    441          void USBH_USR_OverCurrentDetected (void)
    442          {
   \                     USBH_USR_OverCurrentDetected:
   \   00000000   80B5               PUSH     {R7,LR}
    443               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable66_3
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   0AD5               BPL.N    ??USBH_USR_OverCurrentDetected_0
    444               {     
    445                    sprintf((char *)Buffer, "> Overcurrent detected.\r\n" ); 
   \   0000000A   ........           LDR.W    R1,??DataTable67_4
   \   0000000E   ........           LDR.W    R0,??DataTable68
   \   00000012   ........           BL       sprintf
    446                    Write_Log(Buffer, ERROR_LOG);
   \   00000016   0421               MOVS     R1,#+4
   \   00000018   ........           LDR.W    R0,??DataTable68
   \   0000001C   ........           BL       Write_Log
    447               }     
    448          }
   \                     ??USBH_USR_OverCurrentDetected_0:
   \   00000020   01BD               POP      {R0,PC}          ;; return
    449          
    450          
    451          /**
    452          * @brief  USBH_USR_MSC_Application 
    453          *         Demo application for mass storage
    454          * @param  None
    455          * @retval Staus
    456          */

   \                                 In section .text, align 2, keep-with-next
    457          int USBH_USR_MSC_Application(void)
    458          {
   \                     USBH_USR_MSC_Application:
   \   00000000   2DE9F047           PUSH     {R4-R10,LR}
   \   00000004   90B0               SUB      SP,SP,#+64
    459               FRESULT res;   
    460          
    461               uint16_t bytesWritten, bytesToWrite;
    462               uint16_t numOfReadBytes;
    463               uint8_t FileName[20];
    464               u16 i,i2,i3;
    465               u32 Address = 0;
   \   00000006   0026               MOVS     R6,#+0
    466          
    467               u8 Rdata;
    468               u32 FlashSize;
    469               uint32_t flashdestination;
    470                 
    471               u16 LedCount;
    472               u16 BackupPercent;
    473               u16 BackupNum;
    474               u16 BackupPercent2;
    475               
    476               switch(USBH_USR_ApplicationState)
   \   00000008   ........           LDR.W    R0,??DataTable68_1
   \   0000000C   0078               LDRB     R0,[R0, #+0]
   \   0000000E   0028               CMP      R0,#+0
   \   00000010   1FD0               BEQ.N    ??USBH_USR_MSC_Application_0
   \   00000012   0128               CMP      R0,#+1
   \   00000014   00F09980           BEQ.W    ??USBH_USR_MSC_Application_1
   \   00000018   0228               CMP      R0,#+2
   \   0000001A   00F01A81           BEQ.W    ??USBH_USR_MSC_Application_2
   \   0000001E   0328               CMP      R0,#+3
   \   00000020   00F06681           BEQ.W    ??USBH_USR_MSC_Application_3
   \   00000024   0428               CMP      R0,#+4
   \   00000026   00F0C882           BEQ.W    ??USBH_USR_MSC_Application_4
   \   0000002A   0528               CMP      R0,#+5
   \   0000002C   00F00F85           BEQ.W    ??USBH_USR_MSC_Application_5
   \   00000030   0628               CMP      R0,#+6
   \   00000032   00F02884           BEQ.W    ??USBH_USR_MSC_Application_6
   \   00000036   0728               CMP      R0,#+7
   \   00000038   00F09F83           BEQ.W    ??USBH_USR_MSC_Application_7
   \   0000003C   0928               CMP      R0,#+9
   \   0000003E   00F0C584           BEQ.W    ??USBH_USR_MSC_Application_8
   \   00000042   0A28               CMP      R0,#+10
   \   00000044   00F06882           BEQ.W    ??USBH_USR_MSC_Application_9
   \   00000048   0B28               CMP      R0,#+11
   \   0000004A   00F0F081           BEQ.W    ??USBH_USR_MSC_Application_10
   \   0000004E   00F08ABD           B.W      ??USBH_USR_MSC_Application_11
    477               {
    478                    case USH_USR_FS_INIT: 
    479                    
    480                    /* Initialises the File System*/
    481                    if ( f_mount( 0, &fatfs ) != FR_OK ) 
   \                     ??USBH_USR_MSC_Application_0:
   \   00000052   ........           LDR.W    R1,??DataTable68_2
   \   00000056   0020               MOVS     R0,#+0
   \   00000058   ........           BL       f_mount
   \   0000005C   0028               CMP      R0,#+0
   \   0000005E   13D0               BEQ.N    ??USBH_USR_MSC_Application_12
    482                    {
    483                         /* efs initialisation fails*/
    484                         if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000060   ........           LDR.W    R0,??DataTable68_3
   \   00000064   0068               LDR      R0,[R0, #+0]
   \   00000066   C004               LSLS     R0,R0,#+19
   \   00000068   0AD5               BPL.N    ??USBH_USR_MSC_Application_13
    485                         {     
    486                              sprintf((char *)Buffer, "> Cannot initialize File System.\r\n" ); 
   \   0000006A   ........           LDR.W    R1,??DataTable68_4
   \   0000006E   ........           LDR.W    R0,??DataTable68
   \   00000072   ........           BL       sprintf
    487                              Write_Log(Buffer, ERROR_LOG);
   \   00000076   0421               MOVS     R1,#+4
   \   00000078   ........           LDR.W    R0,??DataTable68
   \   0000007C   ........           BL       Write_Log
    488                         }                    
    489                         return(-1);
   \                     ??USBH_USR_MSC_Application_13:
   \   00000080   5FF0FF30           MOVS     R0,#-1
   \   00000084   00F070BD           B.W      ??USBH_USR_MSC_Application_14
    490                    }
    491                    if(LOGWRITE & LOG_USB_SYSTEM)                       
   \                     ??USBH_USR_MSC_Application_12:
   \   00000088   ........           LDR.W    R0,??DataTable68_3
   \   0000008C   0068               LDR      R0,[R0, #+0]
   \   0000008E   C004               LSLS     R0,R0,#+19
   \   00000090   1DD5               BPL.N    ??USBH_USR_MSC_Application_15
    492                    {     
    493                         sprintf((char *)Buffer, "> File System initialized.\r\n" ); 
   \   00000092   ........           LDR.W    R1,??DataTable68_5
   \   00000096   ........           LDR.W    R0,??DataTable68
   \   0000009A   ........           BL       sprintf
    494                         Write_Log(Buffer, NORMAL_LOG);
   \   0000009E   0121               MOVS     R1,#+1
   \   000000A0   ........           LDR.W    R0,??DataTable68
   \   000000A4   ........           BL       Write_Log
    495                         sprintf((char *)Buffer, "> Disk capacity : %u Bytes\r\n",(long)( USBH_MSC_Param.MSCapacity * USBH_MSC_Param.MSPageLength));
   \   000000A8   ........           LDR.W    R0,??DataTable68_6
   \   000000AC   0068               LDR      R0,[R0, #+0]
   \   000000AE   ........           LDR.W    R1,??DataTable68_6
   \   000000B2   0989               LDRH     R1,[R1, #+8]
   \   000000B4   01FB00F2           MUL      R2,R1,R0
   \   000000B8   ........           LDR.W    R1,??DataTable68_7
   \   000000BC   ........           LDR.W    R0,??DataTable68
   \   000000C0   ........           BL       sprintf
    496                         Write_Log(Buffer, NORMAL_LOG);
   \   000000C4   0121               MOVS     R1,#+1
   \   000000C6   ........           LDR.W    R0,??DataTable68
   \   000000CA   ........           BL       Write_Log
    497                    }           
    498                    
    499                    if(USBH_MSC_Param.MSWriteProtect == DISK_WRITE_PROTECTED)
   \                     ??USBH_USR_MSC_Application_15:
   \   000000CE   ........           LDR.W    R0,??DataTable68_6
   \   000000D2   007B               LDRB     R0,[R0, #+12]
   \   000000D4   0128               CMP      R0,#+1
   \   000000D6   0FD1               BNE.N    ??USBH_USR_MSC_Application_16
    500                    {
    501                         if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   000000D8   ........           LDR.W    R0,??DataTable68_3
   \   000000DC   0068               LDR      R0,[R0, #+0]
   \   000000DE   C004               LSLS     R0,R0,#+19
   \   000000E0   0AD5               BPL.N    ??USBH_USR_MSC_Application_16
    502                         {     
    503                              sprintf((char *)Buffer, (void *)MSG_WR_PROTECT); 
   \   000000E2   ........           LDR.W    R1,??DataTable68_8
   \   000000E6   ........           LDR.W    R0,??DataTable68
   \   000000EA   ........           BL       sprintf
    504                              Write_Log(Buffer, ERROR_LOG);
   \   000000EE   0421               MOVS     R1,#+4
   \   000000F0   ........           LDR.W    R0,??DataTable68
   \   000000F4   ........           BL       Write_Log
    505                         }                 
    506                    }
    507                      
    508                    IWDG_ReloadCounter();                   // Clear IWDG
   \                     ??USBH_USR_MSC_Application_16:
   \   000000F8   ........           BL       IWDG_ReloadCounter
    509                    f_mount(0, &fatfs);
   \   000000FC   ........           LDR.W    R1,??DataTable68_2
   \   00000100   0020               MOVS     R0,#+0
   \   00000102   ........           BL       f_mount
    510                    f_mkdir("0:\\LOG_File");
   \   00000106   ........           LDR.W    R0,??DataTable68_9
   \   0000010A   ........           BL       f_mkdir
    511                    f_mkdir("0:\\DTG_File");
   \   0000010E   ........           LDR.W    R0,??DataTable68_10
   \   00000112   ........           BL       f_mkdir
    512                    f_mkdir("0:\\BACKUP_File");
   \   00000116   ........           LDR.W    R0,??DataTable68_11
   \   0000011A   ........           BL       f_mkdir
    513                    f_mkdir("0:\\EMS_File");          
   \   0000011E   ........           LDR.W    R0,??DataTable68_12
   \   00000122   ........           BL       f_mkdir
    514                    f_mkdir("0:\\EVENT_File");          
   \   00000126   ........           LDR.W    R0,??DataTable68_13
   \   0000012A   ........           BL       f_mkdir
    515                    f_mkdir("0:\\Config");
   \   0000012E   ........           LDR.W    R0,??DataTable68_14
   \   00000132   ........           BL       f_mkdir
    516                    f_mount(0, NULL);
   \   00000136   0021               MOVS     R1,#+0
   \   00000138   0020               MOVS     R0,#+0
   \   0000013A   ........           BL       f_mount
    517                    //USBH_USR_ApplicationState = USH_USR_FS_IDLE;       // 
    518                    USBH_USR_ApplicationState = USH_USR_FS_IDLE;           // 
   \   0000013E   ........           LDR.W    R0,??DataTable68_1
   \   00000142   0121               MOVS     R1,#+1
   \   00000144   0170               STRB     R1,[R0, #+0]
    519                    break;
   \   00000146   00F00EBD           B.W      ??USBH_USR_MSC_Application_11
    520                   
    521                    case USH_USR_FS_IDLE:
    522                    {
    523                         //  
    524                         if( USBH_USR_ActionFlag == USH_USR_FS_IDLE )      //              
   \                     ??USBH_USR_MSC_Application_1:
   \   0000014A   ........           LDR.W    R0,??DataTable68_15
   \   0000014E   0078               LDRB     R0,[R0, #+0]
   \   00000150   0128               CMP      R0,#+1
   \   00000152   07D1               BNE.N    ??USBH_USR_MSC_Application_17
    525                         {
    526                              USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   00000154   ........           LDR.W    R0,??DataTable68_1
   \   00000158   0121               MOVS     R1,#+1
   \   0000015A   0170               STRB     R1,[R0, #+0]
    527                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;
   \   0000015C   ........           LDR.W    R0,??DataTable68_15
   \   00000160   0121               MOVS     R1,#+1
   \   00000162   0170               STRB     R1,[R0, #+0]
    528                         }               
    529                         if( USBH_USR_ActionFlag == USH_USR_FS_WRITELOG )       //  
   \                     ??USBH_USR_MSC_Application_17:
   \   00000164   ........           LDR.W    R0,??DataTable68_15
   \   00000168   0078               LDRB     R0,[R0, #+0]
   \   0000016A   0228               CMP      R0,#+2
   \   0000016C   07D1               BNE.N    ??USBH_USR_MSC_Application_18
    530                         {
    531                              USBH_USR_ApplicationState = USH_USR_FS_WRITELOG;
   \   0000016E   ........           LDR.W    R0,??DataTable68_1
   \   00000172   0221               MOVS     R1,#+2
   \   00000174   0170               STRB     R1,[R0, #+0]
    532                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;
   \   00000176   ........           LDR.W    R0,??DataTable68_15
   \   0000017A   0121               MOVS     R1,#+1
   \   0000017C   0170               STRB     R1,[R0, #+0]
    533                         }
    534                         if( USBH_USR_ActionFlag == USH_USR_FS_WRITEFILE )      // 1 
   \                     ??USBH_USR_MSC_Application_18:
   \   0000017E   ........           LDR.W    R0,??DataTable68_15
   \   00000182   0078               LDRB     R0,[R0, #+0]
   \   00000184   0328               CMP      R0,#+3
   \   00000186   07D1               BNE.N    ??USBH_USR_MSC_Application_19
    535                         {
    536                              USBH_USR_ApplicationState = USH_USR_FS_WRITEFILE;
   \   00000188   ........           LDR.W    R0,??DataTable68_1
   \   0000018C   0321               MOVS     R1,#+3
   \   0000018E   0170               STRB     R1,[R0, #+0]
    537                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;
   \   00000190   ........           LDR.W    R0,??DataTable68_15
   \   00000194   0121               MOVS     R1,#+1
   \   00000196   0170               STRB     R1,[R0, #+0]
    538                         }               
    539                         if( USBH_USR_ActionFlag == USH_USR_FS_WRITEBACKUP )      //              
   \                     ??USBH_USR_MSC_Application_19:
   \   00000198   ........           LDR.W    R0,??DataTable68_15
   \   0000019C   0078               LDRB     R0,[R0, #+0]
   \   0000019E   0428               CMP      R0,#+4
   \   000001A0   07D1               BNE.N    ??USBH_USR_MSC_Application_20
    540                         {
    541                              USBH_USR_ApplicationState = USH_USR_FS_WRITEBACKUP;
   \   000001A2   ........           LDR.W    R0,??DataTable68_1
   \   000001A6   0421               MOVS     R1,#+4
   \   000001A8   0170               STRB     R1,[R0, #+0]
    542                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   000001AA   ........           LDR.W    R0,??DataTable68_15
   \   000001AE   0121               MOVS     R1,#+1
   \   000001B0   0170               STRB     R1,[R0, #+0]
    543                         }
    544                         if( USBH_USR_ActionFlag == USH_USR_FS_UPDATE )      //              
   \                     ??USBH_USR_MSC_Application_20:
   \   000001B2   ........           LDR.W    R0,??DataTable68_15
   \   000001B6   0078               LDRB     R0,[R0, #+0]
   \   000001B8   0628               CMP      R0,#+6
   \   000001BA   07D1               BNE.N    ??USBH_USR_MSC_Application_21
    545                         {
    546                              USBH_USR_ApplicationState = USH_USR_FS_UPDATE;
   \   000001BC   ........           LDR.W    R0,??DataTable68_1
   \   000001C0   0621               MOVS     R1,#+6
   \   000001C2   0170               STRB     R1,[R0, #+0]
    547                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   000001C4   ........           LDR.W    R0,??DataTable68_15
   \   000001C8   0121               MOVS     R1,#+1
   \   000001CA   0170               STRB     R1,[R0, #+0]
    548                         }               
    549                         if( USBH_USR_ActionFlag == USH_USR_FS_SOUND )      //               
   \                     ??USBH_USR_MSC_Application_21:
   \   000001CC   ........           LDR.W    R0,??DataTable68_15
   \   000001D0   0078               LDRB     R0,[R0, #+0]
   \   000001D2   0728               CMP      R0,#+7
   \   000001D4   07D1               BNE.N    ??USBH_USR_MSC_Application_22
    550                         {
    551                              USBH_USR_ApplicationState = USH_USR_FS_SOUND;
   \   000001D6   ........           LDR.W    R0,??DataTable68_1
   \   000001DA   0721               MOVS     R1,#+7
   \   000001DC   0170               STRB     R1,[R0, #+0]
    552                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   000001DE   ........           LDR.W    R0,??DataTable68_15
   \   000001E2   0121               MOVS     R1,#+1
   \   000001E4   0170               STRB     R1,[R0, #+0]
    553                         }
    554                         if( USBH_USR_ActionFlag == USH_USR_FS_READPARAMETER )      //              
   \                     ??USBH_USR_MSC_Application_22:
   \   000001E6   ........           LDR.W    R0,??DataTable68_15
   \   000001EA   0078               LDRB     R0,[R0, #+0]
   \   000001EC   0528               CMP      R0,#+5
   \   000001EE   07D1               BNE.N    ??USBH_USR_MSC_Application_23
    555                         {
    556                              USBH_USR_ApplicationState = USH_USR_FS_READPARAMETER;
   \   000001F0   ........           LDR.W    R0,??DataTable68_1
   \   000001F4   0521               MOVS     R1,#+5
   \   000001F6   0170               STRB     R1,[R0, #+0]
    557                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   000001F8   ........           LDR.W    R0,??DataTable68_15
   \   000001FC   0121               MOVS     R1,#+1
   \   000001FE   0170               STRB     R1,[R0, #+0]
    558                         }
    559                         if( USBH_USR_ActionFlag == USH_USR_FS_READDRIVER )      //   
   \                     ??USBH_USR_MSC_Application_23:
   \   00000200   ........           LDR.W    R0,??DataTable68_15
   \   00000204   0078               LDRB     R0,[R0, #+0]
   \   00000206   0928               CMP      R0,#+9
   \   00000208   07D1               BNE.N    ??USBH_USR_MSC_Application_24
    560                         {
    561                              USBH_USR_ApplicationState = USH_USR_FS_READDRIVER;
   \   0000020A   ........           LDR.W    R0,??DataTable68_1
   \   0000020E   0921               MOVS     R1,#+9
   \   00000210   0170               STRB     R1,[R0, #+0]
    562                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   00000212   ........           LDR.W    R0,??DataTable68_15
   \   00000216   0121               MOVS     R1,#+1
   \   00000218   0170               STRB     R1,[R0, #+0]
    563                         }
    564                         if( USBH_USR_ActionFlag == USH_USR_FS_WRITEACCIDENT )      //  
   \                     ??USBH_USR_MSC_Application_24:
   \   0000021A   ........           LDR.W    R0,??DataTable68_15
   \   0000021E   0078               LDRB     R0,[R0, #+0]
   \   00000220   0A28               CMP      R0,#+10
   \   00000222   07D1               BNE.N    ??USBH_USR_MSC_Application_25
    565                         {
    566                              USBH_USR_ApplicationState = USH_USR_FS_WRITEACCIDENT;
   \   00000224   ........           LDR.W    R0,??DataTable68_1
   \   00000228   0A21               MOVS     R1,#+10
   \   0000022A   0170               STRB     R1,[R0, #+0]
    567                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   0000022C   ........           LDR.W    R0,??DataTable68_15
   \   00000230   0121               MOVS     R1,#+1
   \   00000232   0170               STRB     R1,[R0, #+0]
    568                         }               
    569                         if( USBH_USR_ActionFlag == USH_USR_FS_READACCIDENT )      //  
   \                     ??USBH_USR_MSC_Application_25:
   \   00000234   ........           LDR.W    R0,??DataTable68_15
   \   00000238   0078               LDRB     R0,[R0, #+0]
   \   0000023A   0B28               CMP      R0,#+11
   \   0000023C   07D1               BNE.N    ??USBH_USR_MSC_Application_26
    570                         {
    571                              USBH_USR_ApplicationState = USH_USR_FS_READACCIDENT;
   \   0000023E   ........           LDR.W    R0,??DataTable68_1
   \   00000242   0B21               MOVS     R1,#+11
   \   00000244   0170               STRB     R1,[R0, #+0]
    572                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   00000246   ........           LDR.W    R0,??DataTable68_15
   \   0000024A   0121               MOVS     R1,#+1
   \   0000024C   0170               STRB     R1,[R0, #+0]
    573                         }                          
    574                    }break;
   \                     ??USBH_USR_MSC_Application_26:
   \   0000024E   00F08ABC           B.W      ??USBH_USR_MSC_Application_11
    575                    case USH_USR_FS_WRITELOG:
    576                    {
    577                                   
    578                         IWDG_ReloadCounter();                   // Clear IWDG
   \                     ??USBH_USR_MSC_Application_2:
   \   00000252   ........           BL       IWDG_ReloadCounter
    579                         sprintf((char *) FileName, "0:\\Log_File\\%d%d%d.txt", SYSTEM_TIME.tm_year,SYSTEM_TIME.tm_mon,SYSTEM_TIME.tm_mday);
   \   00000256   ........           LDR.W    R0,??DataTable68_16
   \   0000025A   C068               LDR      R0,[R0, #+12]
   \   0000025C   0090               STR      R0,[SP, #+0]
   \   0000025E   ........           LDR.W    R0,??DataTable68_16
   \   00000262   0369               LDR      R3,[R0, #+16]
   \   00000264   ........           LDR.W    R0,??DataTable68_16
   \   00000268   4269               LDR      R2,[R0, #+20]
   \   0000026A   ........           LDR.W    R1,??DataTable68_17
   \   0000026E   03A8               ADD      R0,SP,#+12
   \   00000270   ........           BL       sprintf
    580                         if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
   \   00000274   ........           LDR.W    R0,??DataTable68_18
   \   00000278   ........           BL       HCD_IsDeviceConnected
   \   0000027C   0028               CMP      R0,#+0
   \   0000027E   05D1               BNE.N    ??USBH_USR_MSC_Application_27
    581                         {
    582                              USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   00000280   ........           LDR.W    R0,??DataTable68_1
   \   00000284   0121               MOVS     R1,#+1
   \   00000286   0170               STRB     R1,[R0, #+0]
    583                              break;
   \   00000288   00F06DBC           B.W      ??USBH_USR_MSC_Application_11
    584                         }
    585                         f_mount(0, &fatfs);               
   \                     ??USBH_USR_MSC_Application_27:
   \   0000028C   ........           LDR.W    R1,??DataTable68_2
   \   00000290   0020               MOVS     R0,#+0
   \   00000292   ........           BL       f_mount
    586                         if(f_open(&file, (char*)FileName,FA_OPEN_ALWAYS | FA_WRITE) == FR_OK) 
   \   00000296   1222               MOVS     R2,#+18
   \   00000298   03A9               ADD      R1,SP,#+12
   \   0000029A   ........           LDR.W    R0,??DataTable68_19
   \   0000029E   ........           BL       f_open
   \   000002A2   0028               CMP      R0,#+0
   \   000002A4   1ED1               BNE.N    ??USBH_USR_MSC_Application_28
    587                         {
    588                              bytesToWrite = strlen(( char * )USBH_USR_Log_Buffer ); 
   \   000002A6   ........           LDR.W    R0,??DataTable68_20
   \   000002AA   ........           BL       strlen
   \   000002AE   0400               MOVS     R4,R0
    589          //                    f_stat(FileName,&finfo);
    590                              f_lseek(&file,file.fsize);
   \   000002B0   ........           LDR.W    R0,??DataTable68_19
   \   000002B4   C168               LDR      R1,[R0, #+12]
   \   000002B6   ........           LDR.W    R0,??DataTable68_19
   \   000002BA   ........           BL       f_lseek
    591                              res= f_write (&file, USBH_USR_Log_Buffer, bytesToWrite, (void *)&bytesWritten);                      
   \   000002BE   0DF10603           ADD      R3,SP,#+6
   \   000002C2   A4B2               UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   000002C4   2200               MOVS     R2,R4
   \   000002C6   ........           LDR.W    R1,??DataTable68_20
   \   000002CA   ........           LDR.W    R0,??DataTable68_19
   \   000002CE   ........           BL       f_write
   \   000002D2   0400               MOVS     R4,R0
    592                              
    593                              f_close(&file);
   \   000002D4   ........           LDR.W    R0,??DataTable68_19
   \   000002D8   ........           BL       f_close
    594                              f_mount(0, NULL);                     
   \   000002DC   0021               MOVS     R1,#+0
   \   000002DE   0020               MOVS     R0,#+0
   \   000002E0   ........           BL       f_mount
    595                         }
    596                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \                     ??USBH_USR_MSC_Application_28:
   \   000002E4   ........           LDR.W    R0,??DataTable68_1
   \   000002E8   0121               MOVS     R1,#+1
   \   000002EA   0170               STRB     R1,[R0, #+0]
    597                         
    598                    }break;
   \   000002EC   00F03BBC           B.W      ??USBH_USR_MSC_Application_11
    599                    case USH_USR_FS_WRITEFILE:              // 1 
    600                    {
    601          
    602                         IWDG_ReloadCounter();                   // Clear IWDG               
   \                     ??USBH_USR_MSC_Application_3:
   \   000002F0   ........           BL       IWDG_ReloadCounter
    603                         sprintf((char *) FileName, "0:\\DTG_File\\%04d%02d%02d.txt", SYSTEM_TIME.tm_year,SYSTEM_TIME.tm_mon,SYSTEM_TIME.tm_mday);
   \   000002F4   ........           LDR.W    R0,??DataTable68_16
   \   000002F8   C068               LDR      R0,[R0, #+12]
   \   000002FA   0090               STR      R0,[SP, #+0]
   \   000002FC   ........           LDR.W    R0,??DataTable68_16
   \   00000300   0369               LDR      R3,[R0, #+16]
   \   00000302   ........           LDR.W    R0,??DataTable68_16
   \   00000306   4269               LDR      R2,[R0, #+20]
   \   00000308   ........           ADR.W    R1,`?<Constant "0:\\\\DTG_File\\\\%04d%02d%...">`
   \   0000030C   03A8               ADD      R0,SP,#+12
   \   0000030E   ........           BL       sprintf
    604                         if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
   \   00000312   ........           LDR.W    R0,??DataTable68_18
   \   00000316   ........           BL       HCD_IsDeviceConnected
   \   0000031A   0028               CMP      R0,#+0
   \   0000031C   05D1               BNE.N    ??USBH_USR_MSC_Application_29
    605                         {
    606                              USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   0000031E   ........           LDR.W    R0,??DataTable68_1
   \   00000322   0121               MOVS     R1,#+1
   \   00000324   0170               STRB     R1,[R0, #+0]
    607                              break;
   \   00000326   00F01EBC           B.W      ??USBH_USR_MSC_Application_11
    608                         }
    609                         f_mount(0, &fatfs);               
   \                     ??USBH_USR_MSC_Application_29:
   \   0000032A   ........           LDR.W    R1,??DataTable68_2
   \   0000032E   0020               MOVS     R0,#+0
   \   00000330   ........           BL       f_mount
    610                         if(f_open(&file,  (char*)FileName,FA_OPEN_ALWAYS | FA_WRITE) == FR_OK) 
   \   00000334   1222               MOVS     R2,#+18
   \   00000336   03A9               ADD      R1,SP,#+12
   \   00000338   ........           LDR.W    R0,??DataTable68_19
   \   0000033C   ........           BL       f_open
   \   00000340   0028               CMP      R0,#+0
   \   00000342   1ED1               BNE.N    ??USBH_USR_MSC_Application_30
    611                         {
    612                              bytesToWrite = strlen(( char * )USBH_USR_DTG_Buffer); 
   \   00000344   ........           LDR.W    R0,??DataTable68_21
   \   00000348   ........           BL       strlen
   \   0000034C   0400               MOVS     R4,R0
    613          //                    USBH_USR_DTG_Buffer[20]=0;
    614          //                    printf("%s\r\n",USBH_USR_DTG_Buffer);
    615          //                    f_stat(FileName,&finfo);
    616                              f_lseek(&file,file.fsize);
   \   0000034E   ........           LDR.W    R0,??DataTable68_19
   \   00000352   C168               LDR      R1,[R0, #+12]
   \   00000354   ........           LDR.W    R0,??DataTable68_19
   \   00000358   ........           BL       f_lseek
    617                              res= f_write (&file, USBH_USR_DTG_Buffer, bytesToWrite, (void *)&bytesWritten);                      
   \   0000035C   0DF10603           ADD      R3,SP,#+6
   \   00000360   A4B2               UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000362   2200               MOVS     R2,R4
   \   00000364   ........           LDR.W    R1,??DataTable68_21
   \   00000368   ........           LDR.W    R0,??DataTable68_19
   \   0000036C   ........           BL       f_write
   \   00000370   0400               MOVS     R4,R0
    618                              
    619                              f_close(&file);
   \   00000372   ........           LDR.W    R0,??DataTable68_19
   \   00000376   ........           BL       f_close
    620                              f_mount(0, NULL);                     
   \   0000037A   0021               MOVS     R1,#+0
   \   0000037C   0020               MOVS     R0,#+0
   \   0000037E   ........           BL       f_mount
    621                         }
    622                         if(Flag.EMS_Data_Save == 1)             //    EMS   
   \                     ??USBH_USR_MSC_Application_30:
   \   00000382   ........           LDR.W    R0,??DataTable68_22
   \   00000386   407C               LDRB     R0,[R0, #+17]
   \   00000388   0128               CMP      R0,#+1
   \   0000038A   47D1               BNE.N    ??USBH_USR_MSC_Application_31
    623                         {
    624                              sprintf((char *) FileName, "0:\\EMS_File\\%04d%02d%02d.txt", SYSTEM_TIME.tm_year,SYSTEM_TIME.tm_mon,SYSTEM_TIME.tm_mday);
   \   0000038C   ........           LDR.W    R0,??DataTable68_16
   \   00000390   C068               LDR      R0,[R0, #+12]
   \   00000392   0090               STR      R0,[SP, #+0]
   \   00000394   ........           LDR.W    R0,??DataTable68_16
   \   00000398   0369               LDR      R3,[R0, #+16]
   \   0000039A   ........           LDR.W    R0,??DataTable68_16
   \   0000039E   4269               LDR      R2,[R0, #+20]
   \   000003A0   ........           ADR.W    R1,`?<Constant "0:\\\\EMS_File\\\\%04d%02d%...">`
   \   000003A4   03A8               ADD      R0,SP,#+12
   \   000003A6   ........           BL       sprintf
    625                              if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
   \   000003AA   ........           LDR.W    R0,??DataTable68_18
   \   000003AE   ........           BL       HCD_IsDeviceConnected
   \   000003B2   0028               CMP      R0,#+0
   \   000003B4   04D1               BNE.N    ??USBH_USR_MSC_Application_32
    626                              {
    627                                   USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   000003B6   ........           LDR.W    R0,??DataTable68_1
   \   000003BA   0121               MOVS     R1,#+1
   \   000003BC   0170               STRB     R1,[R0, #+0]
    628                                   break;
   \   000003BE   D2E3               B.N      ??USBH_USR_MSC_Application_11
    629                              }
    630                              f_mount(0, &fatfs);               
   \                     ??USBH_USR_MSC_Application_32:
   \   000003C0   ........           LDR.W    R1,??DataTable68_2
   \   000003C4   0020               MOVS     R0,#+0
   \   000003C6   ........           BL       f_mount
    631                              
    632                              if(f_open(&file,  (char*)FileName,FA_OPEN_ALWAYS | FA_WRITE) == FR_OK) 
   \   000003CA   1222               MOVS     R2,#+18
   \   000003CC   03A9               ADD      R1,SP,#+12
   \   000003CE   ........           LDR.W    R0,??DataTable68_19
   \   000003D2   ........           BL       f_open
   \   000003D6   0028               CMP      R0,#+0
   \   000003D8   20D1               BNE.N    ??USBH_USR_MSC_Application_31
    633                              {
    634                                   Conver_EMS_Data();       // EMS                          
   \   000003DA   ........           BL       Conver_EMS_Data
    635                                   bytesToWrite = strlen(( char * )USBH_USR_DTG_Buffer); 
   \   000003DE   ........           LDR.W    R0,??DataTable68_21
   \   000003E2   ........           BL       strlen
   \   000003E6   0400               MOVS     R4,R0
    636                                   f_lseek(&file,file.fsize);
   \   000003E8   ........           LDR.W    R0,??DataTable68_19
   \   000003EC   C168               LDR      R1,[R0, #+12]
   \   000003EE   ........           LDR.W    R0,??DataTable68_19
   \   000003F2   ........           BL       f_lseek
    637                                   res= f_write (&file, USBH_USR_DTG_Buffer, bytesToWrite, (void *)&bytesWritten);                      
   \   000003F6   0DF10603           ADD      R3,SP,#+6
   \   000003FA   A4B2               UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   000003FC   2200               MOVS     R2,R4
   \   000003FE   ........           LDR.W    R1,??DataTable68_21
   \   00000402   ........           LDR.W    R0,??DataTable68_19
   \   00000406   ........           BL       f_write
   \   0000040A   0400               MOVS     R4,R0
    638                                   
    639                                   f_close(&file);
   \   0000040C   ........           LDR.W    R0,??DataTable68_19
   \   00000410   ........           BL       f_close
    640                                   f_mount(0, NULL);                     
   \   00000414   0021               MOVS     R1,#+0
   \   00000416   0020               MOVS     R0,#+0
   \   00000418   ........           BL       f_mount
    641                              }               
    642                              /*
    643                              sprintf((char *) FileName, "0:\\BACKUP_File\\Bk%04d%02d%02d.dtg", SYSTEM_TIME.tm_year,SYSTEM_TIME.tm_mon,SYSTEM_TIME.tm_mday);
    644                              if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
    645                              {
    646                                   USBH_USR_ApplicationState = USH_USR_FS_IDLE;
    647                                   break;
    648                              }
    649                              f_mount(0, &fatfs);               
    650                              
    651                              if(f_open(&file,  (char*)FileName,FA_OPEN_ALWAYS | FA_WRITE) == FR_OK) 
    652                              {
    653                                   Conver_EMS_Data();       // EMS                          
    654                                   bytesToWrite = strlen(( char * )USBH_USR_DTG_Buffer); 
    655                                   f_lseek(&file,file.fsize);
    656                                   res= f_write (&file, USBH_USR_DTG_Buffer, bytesToWrite, (void *)&bytesWritten);                      
    657                                   
    658                                   f_close(&file);
    659                                   f_mount(0, NULL);                     
    660                              }               
    661                              */
    662                              
    663                         }
    664                         Flag.EMS_Data_Save = 0;
   \                     ??USBH_USR_MSC_Application_31:
   \   0000041C   ........           LDR.W    R0,??DataTable68_22
   \   00000420   0021               MOVS     R1,#+0
   \   00000422   4174               STRB     R1,[R0, #+17]
    665                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   00000424   ........           LDR.W    R0,??DataTable68_1
   \   00000428   0121               MOVS     R1,#+1
   \   0000042A   0170               STRB     R1,[R0, #+0]
    666                         
    667                    }break;          
   \   0000042C   9BE3               B.N      ??USBH_USR_MSC_Application_11
    668                    case USH_USR_FS_READACCIDENT:
    669                    {
    670          
    671                         u8 Time[13] = {0,};
   \                     ??USBH_USR_MSC_Application_10:
   \   0000042E   08A8               ADD      R0,SP,#+32
   \   00000430   1021               MOVS     R1,#+16
   \   00000432   ........           BL       __aeabi_memclr4
    672                         for( i2 = 0 ; i2 < Info.AccidentCount ; i2++)
   \   00000436   0026               MOVS     R6,#+0
   \   00000438   24E0               B.N      ??USBH_USR_MSC_Application_33
    673                         {
    674                              Accident_DataLoad(i2); 
    675                              memcpy(Time,NAND_Buffer,13);
    676                              sprintf((char *) FileName, "0:\\EVENT_File\\Bk%s.evt",Time   );
    677                              if(NAND_Buffer[8190] != 0xAA || NAND_Buffer[8191] != 0xAA )
    678                                   break;
    679                              if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
    680                              {
    681                                   USBH_USR_ApplicationState = USH_USR_FS_IDLE;
    682                                   break;
    683                              }
    684                              f_mount(0, &fatfs);            
    685                              if( f_open(&file,  (char*)FileName, FA_OPEN_ALWAYS | FA_WRITE) == FR_OK )                     
    686                              {
    687                                   f_lseek(&file,file.fsize);
    688                                   for( i = 0 ; i < 32 ; i ++ )
    689                                   {
    690                                        memcpy(USB_File_Buffer,& NAND_Buffer[i * MAX_USB_FILE_SIZE], MAX_USB_FILE_SIZE);
   \                     ??USBH_USR_MSC_Application_34:
   \   0000043A   4FF48072           MOV      R2,#+256
   \   0000043E   ADB2               UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   00000440   4FF48070           MOV      R0,#+256
   \   00000444   ........           LDR.W    R1,??DataTable68_23
   \   00000448   00FB0511           MLA      R1,R0,R5,R1
   \   0000044C   ........           LDR.W    R0,??DataTable68_24
   \   00000450   ........           BL       memcpy
    691                                        res= f_write (&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&bytesWritten);                      
   \   00000454   0DF10603           ADD      R3,SP,#+6
   \   00000458   4FF48072           MOV      R2,#+256
   \   0000045C   ........           LDR.W    R1,??DataTable68_24
   \   00000460   ........           LDR.W    R0,??DataTable68_19
   \   00000464   ........           BL       f_write
   \   00000468   0400               MOVS     R4,R0
    692                                   }                                           
   \   0000046A   6D1C               ADDS     R5,R5,#+1
   \                     ??USBH_USR_MSC_Application_35:
   \   0000046C   ADB2               UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   0000046E   202D               CMP      R5,#+32
   \   00000470   E3D3               BCC.N    ??USBH_USR_MSC_Application_34
    693                                   f_close(&file);
   \   00000472   ........           LDR.W    R0,??DataTable68_19
   \   00000476   ........           BL       f_close
    694                              }                     
    695                              
    696                              f_mount(0, NULL);   
   \                     ??USBH_USR_MSC_Application_36:
   \   0000047A   0021               MOVS     R1,#+0
   \   0000047C   0020               MOVS     R0,#+0
   \   0000047E   ........           BL       f_mount
   \   00000482   761C               ADDS     R6,R6,#+1
   \                     ??USBH_USR_MSC_Application_33:
   \   00000484   ........           LDR.W    R0,??DataTable68_25
   \   00000488   808C               LDRH     R0,[R0, #+36]
   \   0000048A   B6B2               UXTH     R6,R6            ;; ZeroExt  R6,R6,#+16,#+16
   \   0000048C   8642               CMP      R6,R0
   \   0000048E   19D2               BCS.N    ??USBH_USR_MSC_Application_37
   \   00000490   3000               MOVS     R0,R6
   \   00000492   80B2               UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   00000494   ........           BL       Accident_DataLoad
   \   00000498   0D22               MOVS     R2,#+13
   \   0000049A   ........           LDR.W    R1,??DataTable68_23
   \   0000049E   08A8               ADD      R0,SP,#+32
   \   000004A0   ........           BL       memcpy
   \   000004A4   08AA               ADD      R2,SP,#+32
   \   000004A6   ........           ADR.W    R1,`?<Constant "0:\\\\EVENT_File\\\\Bk%s.evt">`
   \   000004AA   03A8               ADD      R0,SP,#+12
   \   000004AC   ........           BL       sprintf
   \   000004B0   ........           LDR.W    R0,??DataTable68_26
   \   000004B4   0078               LDRB     R0,[R0, #+0]
   \   000004B6   AA28               CMP      R0,#+170
   \   000004B8   04D1               BNE.N    ??USBH_USR_MSC_Application_38
   \   000004BA   ........           LDR.W    R0,??DataTable68_27
   \   000004BE   0078               LDRB     R0,[R0, #+0]
   \   000004C0   AA28               CMP      R0,#+170
   \   000004C2   08D0               BEQ.N    ??USBH_USR_MSC_Application_39
    697                         }                                   
    698                         Input_Mode = 3;
   \                     ??USBH_USR_MSC_Application_38:
   \                     ??USBH_USR_MSC_Application_37:
   \   000004C4   ........           LDR.W    R0,??DataTable68_28
   \   000004C8   0321               MOVS     R1,#+3
   \   000004CA   0170               STRB     R1,[R0, #+0]
    699                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   000004CC   ........           LDR.W    R0,??DataTable68_1
   \   000004D0   0121               MOVS     R1,#+1
   \   000004D2   0170               STRB     R1,[R0, #+0]
    700                    }break;
   \   000004D4   47E3               B.N      ??USBH_USR_MSC_Application_11
   \                     ??USBH_USR_MSC_Application_39:
   \   000004D6   ........           LDR.W    R0,??DataTable68_18
   \   000004DA   ........           BL       HCD_IsDeviceConnected
   \   000004DE   0028               CMP      R0,#+0
   \   000004E0   04D1               BNE.N    ??USBH_USR_MSC_Application_40
   \   000004E2   ........           LDR.W    R0,??DataTable68_1
   \   000004E6   0121               MOVS     R1,#+1
   \   000004E8   0170               STRB     R1,[R0, #+0]
   \   000004EA   EBE7               B.N      ??USBH_USR_MSC_Application_37
   \                     ??USBH_USR_MSC_Application_40:
   \   000004EC   ........           LDR.W    R1,??DataTable68_2
   \   000004F0   0020               MOVS     R0,#+0
   \   000004F2   ........           BL       f_mount
   \   000004F6   1222               MOVS     R2,#+18
   \   000004F8   03A9               ADD      R1,SP,#+12
   \   000004FA   ........           LDR.W    R0,??DataTable68_19
   \   000004FE   ........           BL       f_open
   \   00000502   0028               CMP      R0,#+0
   \   00000504   B9D1               BNE.N    ??USBH_USR_MSC_Application_36
   \   00000506   ........           LDR.W    R0,??DataTable68_19
   \   0000050A   C168               LDR      R1,[R0, #+12]
   \   0000050C   ........           LDR.W    R0,??DataTable68_19
   \   00000510   ........           BL       f_lseek
   \   00000514   0025               MOVS     R5,#+0
   \   00000516   A9E7               B.N      ??USBH_USR_MSC_Application_35
    701                    case USH_USR_FS_WRITEACCIDENT :
    702                    {
    703                         sprintf((char *) FileName, "0:\\EVENT_File\\%s.evt",Accident_Time   );
   \                     ??USBH_USR_MSC_Application_9:
   \   00000518   ........           LDR.W    R2,??DataTable68_29
   \   0000051C   ........           ADR.W    R1,`?<Constant "0:\\\\EVENT_File\\\\%s.evt">`
   \   00000520   03A8               ADD      R0,SP,#+12
   \   00000522   ........           BL       sprintf
    704                         if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
   \   00000526   ........           LDR.W    R0,??DataTable68_18
   \   0000052A   ........           BL       HCD_IsDeviceConnected
   \   0000052E   0028               CMP      R0,#+0
   \   00000530   04D1               BNE.N    ??USBH_USR_MSC_Application_41
    705                         {
    706                              USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   00000532   ........           LDR.W    R0,??DataTable68_1
   \   00000536   0121               MOVS     R1,#+1
   \   00000538   0170               STRB     R1,[R0, #+0]
    707                              break;
   \   0000053A   14E3               B.N      ??USBH_USR_MSC_Application_11
    708                         }
    709                         f_mount(0, &fatfs);
   \                     ??USBH_USR_MSC_Application_41:
   \   0000053C   ........           LDR.W    R1,??DataTable68_2
   \   00000540   0020               MOVS     R0,#+0
   \   00000542   ........           BL       f_mount
    710                         if( f_open(&file,  (char*)FileName, FA_OPEN_ALWAYS | FA_WRITE) == FR_OK )                     
   \   00000546   1222               MOVS     R2,#+18
   \   00000548   03A9               ADD      R1,SP,#+12
   \   0000054A   ........           LDR.W    R0,??DataTable68_19
   \   0000054E   ........           BL       f_open
   \   00000552   0028               CMP      R0,#+0
   \   00000554   2CD1               BNE.N    ??USBH_USR_MSC_Application_42
    711                         {
    712                              f_lseek(&file,file.fsize);
   \   00000556   ........           LDR.W    R0,??DataTable68_19
   \   0000055A   C168               LDR      R1,[R0, #+12]
   \   0000055C   ........           LDR.W    R0,??DataTable68_19
   \   00000560   ........           BL       f_lseek
    713                              for( i = 0 ; i < 32 ; i ++ )
   \   00000564   0025               MOVS     R5,#+0
   \   00000566   18E0               B.N      ??USBH_USR_MSC_Application_43
    714                              {
    715                                   memcpy(USB_File_Buffer,& NAND_Buffer[i * MAX_USB_FILE_SIZE], MAX_USB_FILE_SIZE);
   \                     ??USBH_USR_MSC_Application_44:
   \   00000568   4FF48072           MOV      R2,#+256
   \   0000056C   ADB2               UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   0000056E   4FF48070           MOV      R0,#+256
   \   00000572   ........           LDR.W    R1,??DataTable68_23
   \   00000576   00FB0511           MLA      R1,R0,R5,R1
   \   0000057A   ........           LDR.W    R0,??DataTable68_24
   \   0000057E   ........           BL       memcpy
    716          //                         bytesToWrite = strlen(( char * )USBH_USR_DTG_Buffer); 
    717                                   res= f_write (&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&bytesWritten);                      
   \   00000582   0DF10603           ADD      R3,SP,#+6
   \   00000586   4FF48072           MOV      R2,#+256
   \   0000058A   ........           LDR.W    R1,??DataTable68_24
   \   0000058E   ........           LDR.W    R0,??DataTable68_19
   \   00000592   ........           BL       f_write
   \   00000596   0400               MOVS     R4,R0
    718                              }
   \   00000598   6D1C               ADDS     R5,R5,#+1
   \                     ??USBH_USR_MSC_Application_43:
   \   0000059A   ADB2               UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   0000059C   202D               CMP      R5,#+32
   \   0000059E   E3D3               BCC.N    ??USBH_USR_MSC_Application_44
    719                              f_close(&file);
   \   000005A0   ........           LDR.W    R0,??DataTable68_19
   \   000005A4   ........           BL       f_close
    720                              f_mount(0, NULL);                     
   \   000005A8   0021               MOVS     R1,#+0
   \   000005AA   0020               MOVS     R0,#+0
   \   000005AC   ........           BL       f_mount
    721                         }               
    722                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \                     ??USBH_USR_MSC_Application_42:
   \   000005B0   ........           LDR.W    R0,??DataTable68_1
   \   000005B4   0121               MOVS     R1,#+1
   \   000005B6   0170               STRB     R1,[R0, #+0]
    723                    }break;
   \   000005B8   D5E2               B.N      ??USBH_USR_MSC_Application_11
    724                    case USH_USR_FS_WRITEBACKUP:
    725                    {
    726                         LedCount = 0 ;
   \                     ??USBH_USR_MSC_Application_4:
   \   000005BA   0027               MOVS     R7,#+0
    727                         for( i = 0 ; i < VIEW_Header.Search_Count ; i++)
   \   000005BC   0025               MOVS     R5,#+0
   \   000005BE   08E0               B.N      ??USBH_USR_MSC_Application_45
    728                         {
    729                              VIEW_Header.Header = Read_Header_Information( GetHeader_Index( VIEW_Header.Start_Index , i ) ) ;
    730                              
    731                              if(VIEW_Header.Header.Start_Page == VIEW_Header.Header.End_Page )
    732                                   continue;
    733                              
    734                              sprintf((char *) FileName, "0:\\BACKUP_File\\%02d%02d%02d.bin",
    735                                      VIEW_Header.Header.Date[0],
    736                                      VIEW_Header.Header.Date[1],
    737                                      VIEW_Header.Header.Date[2]);
    738                              
    739                              if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
    740                              {
    741                                   USBH_USR_ApplicationState = USH_USR_FS_IDLE;
    742                                   break;
    743                              }
    744          
    745                              f_mount(0, &fatfs);
    746                              
    747                              BackupPercent = VIEW_Header.Header.End_Page - VIEW_Header.Header.Start_Page;
    748                              BackupPercent2 = 1;
    749                              
    750                              if( f_open(&file,  (char*)FileName, FA_OPEN_ALWAYS | FA_WRITE) == FR_OK ) 
    751                              {
    752                                   f_lseek(&file,file.fsize);
    753                                   sprintf(( char * )Buffer,"000 %%");
    754                                   GLcd_PutString2(7,16,Buffer,1);
                                          ^
Warning[Pe223]: function "GLcd_PutString2" declared implicitly
    755                                   
    756                                   for( i2 = VIEW_Header.Header.Start_Page ; i2 < VIEW_Header.Header.End_Page ;i2++)
    757                                   {
    758                                        IWDG_ReloadCounter();                   // Clear IWDG
    759          
    760                                        DTG_EMS_DataLoad(i2); 
    761                                        if(LedCount  < 1 )
    762                                        {     
    763                                             LED2_OFF();
    764                                        }
    765                                        else if( LedCount < 2)
    766                                        {
    767                                             LED2_GREEN();
    768                                        }else 
    769                                             LedCount = 0;
    770                                        LedCount ++ ;
    771                                        BackupNum = (u16)((float)((float)BackupPercent2 / (float)BackupPercent)  * 100);
    772                                        sprintf(( char * )Buffer,"%03d %%",BackupNum);
    773                                        BackupPercent2++;
    774                                        GLcd_PutString2(7,16,Buffer,1);  
    775          
    776                                        for(i3 = 0 ; i3 < 16 ; i3++)
    777                                             res= f_write (&file, &NAND_Buffer[ i3 * 512 ], 512, (void *)&bytesWritten);
    778                                   }
    779                              }
    780          
    781                              f_close(&file);
   \                     ??USBH_USR_MSC_Application_46:
   \   000005C0   ........           LDR.W    R0,??DataTable68_19
   \   000005C4   ........           BL       f_close
    782                              f_mount(0, NULL);
   \   000005C8   0021               MOVS     R1,#+0
   \   000005CA   0020               MOVS     R0,#+0
   \   000005CC   ........           BL       f_mount
   \                     ??USBH_USR_MSC_Application_47:
   \   000005D0   6D1C               ADDS     R5,R5,#+1
   \                     ??USBH_USR_MSC_Application_45:
   \   000005D2   ADB2               UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   000005D4   ........           LDR.W    R0,??DataTable68_30
   \   000005D8   4068               LDR      R0,[R0, #+4]
   \   000005DA   8542               CMP      R5,R0
   \   000005DC   37D2               BCS.N    ??USBH_USR_MSC_Application_48
   \   000005DE   2900               MOVS     R1,R5
   \   000005E0   09B2               SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   000005E2   ........           LDR.W    R0,??DataTable68_30
   \   000005E6   0068               LDR      R0,[R0, #+0]
   \   000005E8   80B2               UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   000005EA   ........           BL       GetHeader_Index
   \   000005EE   0100               MOVS     R1,R0
   \   000005F0   89B2               UXTH     R1,R1            ;; ZeroExt  R1,R1,#+16,#+16
   \   000005F2   0CA8               ADD      R0,SP,#+48
   \   000005F4   ........           BL       Read_Header_Information
   \   000005F8   0020               MOVS     R0,#+0
   \                     ??USBH_USR_MSC_Application_49:
   \   000005FA   ........           LDR.W    R1,??DataTable68_30
   \   000005FE   4118               ADDS     R1,R0,R1
   \   00000600   0CAA               ADD      R2,SP,#+48
   \   00000602   825C               LDRB     R2,[R0, R2]
   \   00000604   0A72               STRB     R2,[R1, #+8]
   \   00000606   401C               ADDS     R0,R0,#+1
   \   00000608   1028               CMP      R0,#+16
   \   0000060A   F6DB               BLT.N    ??USBH_USR_MSC_Application_49
   \   0000060C   ........           LDR.W    R0,??DataTable68_30
   \   00000610   C068               LDR      R0,[R0, #+12]
   \   00000612   ........           LDR.W    R1,??DataTable68_30
   \   00000616   0969               LDR      R1,[R1, #+16]
   \   00000618   8842               CMP      R0,R1
   \   0000061A   D9D0               BEQ.N    ??USBH_USR_MSC_Application_47
   \                     ??USBH_USR_MSC_Application_50:
   \   0000061C   ........           LDR.W    R0,??DataTable68_30
   \   00000620   807A               LDRB     R0,[R0, #+10]
   \   00000622   0090               STR      R0,[SP, #+0]
   \   00000624   ........           LDR.W    R0,??DataTable68_30
   \   00000628   437A               LDRB     R3,[R0, #+9]
   \   0000062A   ........           LDR.W    R0,??DataTable68_30
   \   0000062E   027A               LDRB     R2,[R0, #+8]
   \   00000630   ........           ADR.W    R1,`?<Constant "0:\\\\BACKUP_File\\\\%02d%0...">`
   \   00000634   03A8               ADD      R0,SP,#+12
   \   00000636   ........           BL       sprintf
   \   0000063A   ........           LDR.W    R0,??DataTable68_18
   \   0000063E   ........           BL       HCD_IsDeviceConnected
   \   00000642   0028               CMP      R0,#+0
   \   00000644   0CD1               BNE.N    ??USBH_USR_MSC_Application_51
   \   00000646   ........           LDR.W    R0,??DataTable68_1
   \   0000064A   0121               MOVS     R1,#+1
   \   0000064C   0170               STRB     R1,[R0, #+0]
    783                         }
    784          
    785                         Input_Mode = 3;          //       
   \                     ??USBH_USR_MSC_Application_48:
   \   0000064E   ........           LDR.W    R0,??DataTable68_28
   \   00000652   0321               MOVS     R1,#+3
   \   00000654   0170               STRB     R1,[R0, #+0]
    786                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   00000656   ........           LDR.W    R0,??DataTable68_1
   \   0000065A   0121               MOVS     R1,#+1
   \   0000065C   0170               STRB     R1,[R0, #+0]
    787                         
    788                    }break;
   \   0000065E   82E2               B.N      ??USBH_USR_MSC_Application_11
   \                     ??USBH_USR_MSC_Application_51:
   \   00000660   ........           LDR.W    R1,??DataTable68_2
   \   00000664   0020               MOVS     R0,#+0
   \   00000666   ........           BL       f_mount
   \   0000066A   ........           LDR.W    R0,??DataTable68_30
   \   0000066E   0069               LDR      R0,[R0, #+16]
   \   00000670   ........           LDR.W    R1,??DataTable68_30
   \   00000674   C968               LDR      R1,[R1, #+12]
   \   00000676   B0EB0108           SUBS     R8,R0,R1
   \   0000067A   5FF00109           MOVS     R9,#+1
   \   0000067E   1222               MOVS     R2,#+18
   \   00000680   03A9               ADD      R1,SP,#+12
   \   00000682   ........           LDR.W    R0,??DataTable68_19
   \   00000686   ........           BL       f_open
   \   0000068A   0028               CMP      R0,#+0
   \   0000068C   98D1               BNE.N    ??USBH_USR_MSC_Application_46
   \   0000068E   ........           LDR.W    R0,??DataTable68_19
   \   00000692   C168               LDR      R1,[R0, #+12]
   \   00000694   ........           LDR.W    R0,??DataTable68_19
   \   00000698   ........           BL       f_lseek
   \   0000069C   ........           ADR.W    R1,`?<Constant "000 %%">`
   \   000006A0   ........           LDR.W    R0,??DataTable68
   \   000006A4   ........           BL       sprintf
   \   000006A8   0123               MOVS     R3,#+1
   \   000006AA   ........           LDR.W    R2,??DataTable68
   \   000006AE   1021               MOVS     R1,#+16
   \   000006B0   0720               MOVS     R0,#+7
   \   000006B2   ........           BL       GLcd_PutString2
   \   000006B6   ........           LDR.W    R0,??DataTable68_30
   \   000006BA   C668               LDR      R6,[R0, #+12]
   \   000006BC   18E0               B.N      ??USBH_USR_MSC_Application_52
   \                     ??USBH_USR_MSC_Application_53:
   \   000006BE   0DF10603           ADD      R3,SP,#+6
   \   000006C2   4FF40072           MOV      R2,#+512
   \   000006C6   1FFA8AFA           UXTH     R10,R10          ;; ZeroExt  R10,R10,#+16,#+16
   \   000006CA   4FF40070           MOV      R0,#+512
   \   000006CE   ........           LDR.W    R1,??DataTable68_23
   \   000006D2   00FB0A11           MLA      R1,R0,R10,R1
   \   000006D6   ........           LDR.W    R0,??DataTable68_19
   \   000006DA   ........           BL       f_write
   \   000006DE   0400               MOVS     R4,R0
   \   000006E0   1AF1010A           ADDS     R10,R10,#+1
   \                     ??USBH_USR_MSC_Application_54:
   \   000006E4   1FFA8AFA           UXTH     R10,R10          ;; ZeroExt  R10,R10,#+16,#+16
   \   000006E8   BAF1100F           CMP      R10,#+16
   \   000006EC   E7D3               BCC.N    ??USBH_USR_MSC_Application_53
   \   000006EE   761C               ADDS     R6,R6,#+1
   \                     ??USBH_USR_MSC_Application_52:
   \   000006F0   B6B2               UXTH     R6,R6            ;; ZeroExt  R6,R6,#+16,#+16
   \   000006F2   ........           LDR.W    R0,??DataTable68_30
   \   000006F6   0069               LDR      R0,[R0, #+16]
   \   000006F8   8642               CMP      R6,R0
   \   000006FA   BFF461AF           BCS.W    ??USBH_USR_MSC_Application_46
   \   000006FE   ........           BL       IWDG_ReloadCounter
   \   00000702   B6B2               UXTH     R6,R6            ;; ZeroExt  R6,R6,#+16,#+16
   \   00000704   3000               MOVS     R0,R6
   \   00000706   ........           BL       DTG_EMS_DataLoad
   \   0000070A   BFB2               UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   0000070C   012F               CMP      R7,#+1
   \   0000070E   02D2               BCS.N    ??USBH_USR_MSC_Application_55
   \   00000710   ........           BL       LED2_OFF
   \   00000714   06E0               B.N      ??USBH_USR_MSC_Application_56
   \                     ??USBH_USR_MSC_Application_55:
   \   00000716   BFB2               UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   00000718   022F               CMP      R7,#+2
   \   0000071A   02D2               BCS.N    ??USBH_USR_MSC_Application_57
   \   0000071C   ........           BL       LED2_GREEN
   \   00000720   00E0               B.N      ??USBH_USR_MSC_Application_56
   \                     ??USBH_USR_MSC_Application_57:
   \   00000722   0027               MOVS     R7,#+0
   \                     ??USBH_USR_MSC_Application_56:
   \   00000724   7F1C               ADDS     R7,R7,#+1
   \   00000726   1FFA89F9           UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   0000072A   4846               MOV      R0,R9
   \   0000072C   ........           BL       __aeabi_ui2f
   \   00000730   0400               MOVS     R4,R0
   \   00000732   1FFA88F8           UXTH     R8,R8            ;; ZeroExt  R8,R8,#+16,#+16
   \   00000736   4046               MOV      R0,R8
   \   00000738   ........           BL       __aeabi_ui2f
   \   0000073C   0100               MOVS     R1,R0
   \   0000073E   2000               MOVS     R0,R4
   \   00000740   ........           BL       __aeabi_fdiv
   \   00000744   0100               MOVS     R1,R0
   \   00000746   ........           LDR.W    R0,??DataTable68_31  ;; 0x42c80000
   \   0000074A   ........           BL       __aeabi_fmul
   \   0000074E   ........           BL       __aeabi_f2iz
   \   00000752   80B2               UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   00000754   0200               MOVS     R2,R0
   \   00000756   ........           ADR.W    R1,`?<Constant "%03d %%">`
   \   0000075A   ........           LDR.W    R0,??DataTable68
   \   0000075E   ........           BL       sprintf
   \   00000762   19F10109           ADDS     R9,R9,#+1
   \   00000766   0123               MOVS     R3,#+1
   \   00000768   ........           LDR.W    R2,??DataTable68
   \   0000076C   1021               MOVS     R1,#+16
   \   0000076E   0720               MOVS     R0,#+7
   \   00000770   ........           BL       GLcd_PutString2
   \   00000774   5FF0000A           MOVS     R10,#+0
   \   00000778   B4E7               B.N      ??USBH_USR_MSC_Application_54
    789                    case USH_USR_FS_SOUND:
    790                    {
    791                           
    792                         if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
   \                     ??USBH_USR_MSC_Application_7:
   \   0000077A   ........           LDR.W    R0,??DataTable68_18
   \   0000077E   ........           BL       HCD_IsDeviceConnected
   \   00000782   0028               CMP      R0,#+0
   \   00000784   04D1               BNE.N    ??USBH_USR_MSC_Application_58
    793                         {
    794                              USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   00000786   ........           LDR.W    R0,??DataTable68_1
   \   0000078A   0121               MOVS     R1,#+1
   \   0000078C   0170               STRB     R1,[R0, #+0]
    795                              break;
   \   0000078E   EAE1               B.N      ??USBH_USR_MSC_Application_11
    796                         }               
    797                         f_mount(0, &fatfs);
   \                     ??USBH_USR_MSC_Application_58:
   \   00000790   ........           LDR.W    R1,??DataTable68_2
   \   00000794   0020               MOVS     R0,#+0
   \   00000796   ........           BL       f_mount
    798          
    799                         res = f_open(&file, "0:\\Config\\Sound.bin", FA_OPEN_EXISTING | FA_READ);    
   \   0000079A   0122               MOVS     R2,#+1
   \   0000079C   ........           ADR.W    R1,`?<Constant "0:\\\\Config\\\\Sound.bin">`
   \   000007A0   ........           LDR.W    R0,??DataTable68_19
   \   000007A4   ........           BL       f_open
   \   000007A8   0400               MOVS     R4,R0
    800                         if (res == FR_OK)
   \   000007AA   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000007AC   002C               CMP      R4,#+0
   \   000007AE   59D1               BNE.N    ??USBH_USR_MSC_Application_59
    801                         {
    802                              GLcd_PutString2(0,16,(char *)"DataLoading...      ",1);
                                     ^
Warning[Pe223]: function "GLcd_PutString2" declared implicitly
   \   000007B0   0123               MOVS     R3,#+1
   \   000007B2   ........           ADR.W    R2,`?<Constant "DataLoading...      ">`
   \   000007B6   1021               MOVS     R1,#+16
   \   000007B8   0020               MOVS     R0,#+0
   \   000007BA   ........           BL       GLcd_PutString2
    803                              SerialFlash_ProgramWirte_Start();       //  IC  
   \   000007BE   ........           BL       SerialFlash_ProgramWirte_Start
    804                              
    805                              Address = 0;                               
   \   000007C2   0026               MOVS     R6,#+0
   \   000007C4   14E0               B.N      ??USBH_USR_MSC_Application_60
    806                              //for (Address=0;Address<MaxAddress;Address+=256){
    807                              while (HCD_IsDeviceConnected(&USB_OTG_Core))                                        
    808                              {                     
    809                                   IWDG_ReloadCounter();                   // Clear IWDG
    810                                   res = f_read(&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
    811                                   if((numOfReadBytes == 0) || (res != FR_OK)) /*EOF or Error*/
    812                                   {
    813                                        break; 
    814                                   }
    815                                   SerialFlash_busy_check();
    816                                   SerialFlash_Program(Address);
    817                                   for(i = 0 ; i < numOfReadBytes; i+= 1)
    818                                   {
    819                                        SerialFlash_Write_8bit( USB_File_Buffer[i] );
   \                     ??USBH_USR_MSC_Application_61:
   \   000007C6   ADB2               UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   000007C8   ........           LDR.W    R0,??DataTable68_24
   \   000007CC   285C               LDRB     R0,[R5, R0]
   \   000007CE   ........           BL       SerialFlash_Write_8bit
    820                                   }
   \   000007D2   6D1C               ADDS     R5,R5,#+1
   \                     ??USBH_USR_MSC_Application_62:
   \   000007D4   BDF80400           LDRH     R0,[SP, #+4]
   \   000007D8   ADB2               UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   000007DA   8542               CMP      R5,R0
   \   000007DC   F3D3               BCC.N    ??USBH_USR_MSC_Application_61
    821                                   
    822                                   VOICE_CSB_HIGH(); 
   \   000007DE   4FF48071           MOV      R1,#+256
   \   000007E2   ........           LDR.W    R0,??DataTable68_32  ;; 0x40021400
   \   000007E6   ........           BL       GPIO_SetBits
    823                                   //    
    824                                   //                                        SerialFlash_busy_check();
    825                                   //                                        SerialFlash_Read_Program(Address);
    826                                   //                                        for(i = 0 ; i < numOfReadBytes; i+= 1)
    827                                   //                                        {
    828                                   //                                             TempBuffer[i] = SerialFlash_Read_8bit();
    829                                   //                                        }   
    830                                   //                                        VOICE_CSB_HIGH(); 
    831                                   Address += numOfReadBytes;  
   \   000007EA   BDF80400           LDRH     R0,[SP, #+4]
   \   000007EE   8619               ADDS     R6,R0,R6
   \                     ??USBH_USR_MSC_Application_60:
   \   000007F0   ........           LDR.W    R0,??DataTable68_18
   \   000007F4   ........           BL       HCD_IsDeviceConnected
   \   000007F8   0028               CMP      R0,#+0
   \   000007FA   12D0               BEQ.N    ??USBH_USR_MSC_Application_63
   \   000007FC   ........           BL       IWDG_ReloadCounter
   \   00000800   01AB               ADD      R3,SP,#+4
   \   00000802   4FF48072           MOV      R2,#+256
   \   00000806   ........           LDR.W    R1,??DataTable68_24
   \   0000080A   ........           LDR.W    R0,??DataTable68_19
   \   0000080E   ........           BL       f_read
   \   00000812   0400               MOVS     R4,R0
   \   00000814   BDF80400           LDRH     R0,[SP, #+4]
   \   00000818   0028               CMP      R0,#+0
   \   0000081A   02D0               BEQ.N    ??USBH_USR_MSC_Application_64
   \   0000081C   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000081E   002C               CMP      R4,#+0
   \   00000820   19D0               BEQ.N    ??USBH_USR_MSC_Application_65
    832                              }
    833                              SerialFlash_ProgramWirte_End();
   \                     ??USBH_USR_MSC_Application_64:
   \                     ??USBH_USR_MSC_Application_63:
   \   00000822   ........           BL       SerialFlash_ProgramWirte_End
    834                              Register_Write(0x15, 0x01);
   \   00000826   0121               MOVS     R1,#+1
   \   00000828   1520               MOVS     R0,#+21
   \   0000082A   ........           BL       Register_Write
    835                              do {
    836                                   Rdata = Register_Read(0x15);
   \                     ??USBH_USR_MSC_Application_66:
   \   0000082E   1520               MOVS     R0,#+21
   \   00000830   ........           BL       Register_Read
    837                              } while (Rdata&0x01);
   \   00000834   C007               LSLS     R0,R0,#+31
   \   00000836   FAD4               BMI.N    ??USBH_USR_MSC_Application_66
    838                              Rdata = Register_Read(0x16);     
   \   00000838   1620               MOVS     R0,#+22
   \   0000083A   ........           BL       Register_Read
    839                              if (Rdata == 0x00) 
   \   0000083E   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000840   0028               CMP      R0,#+0
   \   00000842   03D1               BNE.N    ??USBH_USR_MSC_Application_67
    840                              {
    841                                   printf("Sound File Write Success\r\n");
   \   00000844   ........           ADR.W    R0,`?<Constant "Sound File Write Succ...">`
   \   00000848   ........           BL       printf
    842                              }                    
    843                              Input_Mode = 2;          //      
   \                     ??USBH_USR_MSC_Application_67:
   \   0000084C   ........           LDR.W    R0,??DataTable68_28
   \   00000850   0221               MOVS     R1,#+2
   \   00000852   0170               STRB     R1,[R0, #+0]
   \   00000854   0AE0               B.N      ??USBH_USR_MSC_Application_68
   \                     ??USBH_USR_MSC_Application_65:
   \   00000856   ........           BL       SerialFlash_busy_check
   \   0000085A   3000               MOVS     R0,R6
   \   0000085C   ........           BL       SerialFlash_Program
   \   00000860   0025               MOVS     R5,#+0
   \   00000862   B7E7               B.N      ??USBH_USR_MSC_Application_62
    844                         }
    845                         else
    846                         {
    847                              Input_Mode = 3;          //     
   \                     ??USBH_USR_MSC_Application_59:
   \   00000864   ........           LDR.W    R0,??DataTable68_28
   \   00000868   0321               MOVS     R1,#+3
   \   0000086A   0170               STRB     R1,[R0, #+0]
    848                         }
    849                         f_close(&file);
   \                     ??USBH_USR_MSC_Application_68:
   \   0000086C   ........           LDR.W    R0,??DataTable68_19
   \   00000870   ........           BL       f_close
    850                         f_mount(0, NULL); 
   \   00000874   0021               MOVS     R1,#+0
   \   00000876   0020               MOVS     R0,#+0
   \   00000878   ........           BL       f_mount
    851                    }// end of case
    852                    USBH_USR_ApplicationState = USH_USR_FS_IDLE;         
   \   0000087C   ........           LDR.W    R0,??DataTable68_1
   \   00000880   0121               MOVS     R1,#+1
   \   00000882   0170               STRB     R1,[R0, #+0]
    853                    break;
   \   00000884   6FE1               B.N      ??USBH_USR_MSC_Application_11
    854               case USH_USR_FS_UPDATE:
    855                    {
    856                         flashdestination = UPDATE_ADDRESS;
   \                     ??USBH_USR_MSC_Application_6:
   \   00000886   ........           LDR.W    R0,??DataTable68_33  ;; 0x8040000
   \   0000088A   0290               STR      R0,[SP, #+8]
    857                         f_mount(0, &fatfs);
   \   0000088C   ........           LDR.W    R1,??DataTable68_2
   \   00000890   0020               MOVS     R0,#+0
   \   00000892   ........           BL       f_mount
    858          
    859                         res = f_open(&file, "0:\\Config\\UpdateDTG.bin", FA_OPEN_EXISTING | FA_READ);    
   \   00000896   0122               MOVS     R2,#+1
   \   00000898   ........           ADR.W    R1,`?<Constant "0:\\\\Config\\\\UpdateDTG.bin">`
   \   0000089C   ........           LDR.W    R0,??DataTable68_19
   \   000008A0   ........           BL       f_open
   \   000008A4   0400               MOVS     R4,R0
    860                         if (res == FR_OK)
   \   000008A6   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000008A8   002C               CMP      R4,#+0
   \   000008AA   40F08280           BNE.W    ??USBH_USR_MSC_Application_69
    861                         {
    862                              GLcd_PutString2(0,16,(char *)"DataLoading...      ",1);                
                                     ^
Warning[Pe223]: function "GLcd_PutString2" declared implicitly
   \   000008AE   0123               MOVS     R3,#+1
   \   000008B0   ........           ADR.W    R2,`?<Constant "DataLoading...      ">`
   \   000008B4   1021               MOVS     R1,#+16
   \   000008B6   0020               MOVS     R0,#+0
   \   000008B8   ........           BL       GLcd_PutString2
    863                              FLASH_If_Init();
   \   000008BC   ........           BL       FLASH_If_Init
    864                              IWDG_ReloadCounter();                   // Clear IWDG
   \   000008C0   ........           BL       IWDG_ReloadCounter
    865          //                    if (FLASH_If_GetWriteProtectionStatus() == 0)   
    866          //                    {
    867          //                         FlashProtection = 1;
    868          //                    }
    869          //                    else
    870          //                    {
    871          //                         FlashProtection = 0;
    872          //                    }                                         
    873                              Address = 0;
   \   000008C4   0026               MOVS     R6,#+0
    874                              FlashSize = 0;
   \   000008C6   0025               MOVS     R5,#+0
    875                              FLASH_If_Erase(UPDATE_ADDRESS,0x3FFFF);     
   \   000008C8   ........           LDR.W    R1,??DataTable68_34  ;; 0x3ffff
   \   000008CC   ........           LDR.W    R0,??DataTable68_33  ;; 0x8040000
   \   000008D0   ........           BL       FLASH_If_Erase
    876                              while (HCD_IsDeviceConnected(&USB_OTG_Core))                                        
   \                     ??USBH_USR_MSC_Application_70:
   \   000008D4   ........           LDR.W    R0,??DataTable68_18
   \   000008D8   ........           BL       HCD_IsDeviceConnected
   \   000008DC   0028               CMP      R0,#+0
   \   000008DE   12D0               BEQ.N    ??USBH_USR_MSC_Application_71
    877                              {                          
    878                                   IWDG_ReloadCounter();                   // Clear IWDG
   \   000008E0   ........           BL       IWDG_ReloadCounter
    879                                   res = f_read(&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
   \   000008E4   01AB               ADD      R3,SP,#+4
   \   000008E6   4FF48072           MOV      R2,#+256
   \   000008EA   ........           LDR.W    R1,??DataTable68_24
   \   000008EE   ........           LDR.W    R0,??DataTable68_19
   \   000008F2   ........           BL       f_read
   \   000008F6   0400               MOVS     R4,R0
    880                                   if((numOfReadBytes == 0) || (res != FR_OK)) /*EOF or Error*/
   \   000008F8   BDF80400           LDRH     R0,[SP, #+4]
   \   000008FC   0028               CMP      R0,#+0
   \   000008FE   02D0               BEQ.N    ??USBH_USR_MSC_Application_72
   \   00000900   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000902   002C               CMP      R4,#+0
   \   00000904   17D0               BEQ.N    ??USBH_USR_MSC_Application_73
    881                                   {
    882                                        break; 
    883                                   }
    884                                   FlashSize += numOfReadBytes;
    885                                   if (FLASH_If_Write(&flashdestination, (uint32_t*) USB_File_Buffer, (uint16_t) numOfReadBytes/4)  != 0)          //  4 .
    886                                   {
    887                                        return 1;
    888                                   }
    889                              }
    890                              memset(USB_File_Buffer,0, sizeof(USB_File_Buffer));
   \                     ??USBH_USR_MSC_Application_72:
   \                     ??USBH_USR_MSC_Application_71:
   \   00000906   4FF48072           MOV      R2,#+256
   \   0000090A   0021               MOVS     R1,#+0
   \   0000090C   ........           LDR.W    R0,??DataTable68_24
   \   00000910   ........           BL       memset
    891                              while( flashdestination < FLASHMARK_ADDRESS )
   \                     ??USBH_USR_MSC_Application_74:
   \   00000914   0298               LDR      R0,[SP, #+8]
   \   00000916   ........           LDR.W    R1,??DataTable68_35  ;; 0x807fff8
   \   0000091A   8842               CMP      R0,R1
   \   0000091C   1DD2               BCS.N    ??USBH_USR_MSC_Application_75
    892                              {
    893                                   IWDG_ReloadCounter();                   // Clear IWDG
   \   0000091E   ........           BL       IWDG_ReloadCounter
    894                                   if (FLASH_If_Write(&flashdestination, (uint32_t*) USB_File_Buffer, (uint16_t) 1)  != 0)          //  4 .
   \   00000922   0122               MOVS     R2,#+1
   \   00000924   ........           LDR.W    R1,??DataTable68_24
   \   00000928   02A8               ADD      R0,SP,#+8
   \   0000092A   ........           BL       FLASH_If_Write
   \   0000092E   0028               CMP      R0,#+0
   \   00000930   F0D0               BEQ.N    ??USBH_USR_MSC_Application_74
    895                                   {
    896                                        return 1;
   \   00000932   0120               MOVS     R0,#+1
   \   00000934   18E1               B.N      ??USBH_USR_MSC_Application_14
    897                                   }                                        
    898                              }
   \                     ??USBH_USR_MSC_Application_73:
   \   00000936   BDF80400           LDRH     R0,[SP, #+4]
   \   0000093A   4519               ADDS     R5,R0,R5
   \   0000093C   BDF80400           LDRH     R0,[SP, #+4]
   \   00000940   0421               MOVS     R1,#+4
   \   00000942   90FBF1F2           SDIV     R2,R0,R1
   \   00000946   92B2               UXTH     R2,R2            ;; ZeroExt  R2,R2,#+16,#+16
   \   00000948   ........           LDR.W    R1,??DataTable68_24
   \   0000094C   02A8               ADD      R0,SP,#+8
   \   0000094E   ........           BL       FLASH_If_Write
   \   00000952   0028               CMP      R0,#+0
   \   00000954   BED0               BEQ.N    ??USBH_USR_MSC_Application_70
   \   00000956   0120               MOVS     R0,#+1
   \   00000958   06E1               B.N      ??USBH_USR_MSC_Application_14
    899                              //IWDG_ReloadCounter();                   // Clear IWDG
    900                              //FlashAddressMake = FLASHMARK_ADDRESS;
    901                              USB_File_Buffer[0] = (FlashSize)&0xff;
   \                     ??USBH_USR_MSC_Application_75:
   \   0000095A   ........           LDR.W    R0,??DataTable68_24
   \   0000095E   0570               STRB     R5,[R0, #+0]
    902                              USB_File_Buffer[1] = (FlashSize>>8)&0xff;
   \   00000960   280A               LSRS     R0,R5,#+8
   \   00000962   ........           LDR.W    R1,??DataTable68_24
   \   00000966   4870               STRB     R0,[R1, #+1]
    903                              USB_File_Buffer[2] = (FlashSize>>16)&0xff;
   \   00000968   280C               LSRS     R0,R5,#+16
   \   0000096A   ........           LDR.W    R1,??DataTable68_24
   \   0000096E   8870               STRB     R0,[R1, #+2]
    904                              USB_File_Buffer[3] = (FlashSize>>24)&0xff;
   \   00000970   280E               LSRS     R0,R5,#+24
   \   00000972   ........           LDR.W    R1,??DataTable68_24
   \   00000976   C870               STRB     R0,[R1, #+3]
    905                              USB_File_Buffer[4] = 0xAA;
   \   00000978   ........           LDR.W    R0,??DataTable68_24
   \   0000097C   AA21               MOVS     R1,#+170
   \   0000097E   0171               STRB     R1,[R0, #+4]
    906                              USB_File_Buffer[5] = 0xAA;
   \   00000980   ........           LDR.W    R0,??DataTable68_24
   \   00000984   AA21               MOVS     R1,#+170
   \   00000986   4171               STRB     R1,[R0, #+5]
    907                              USB_File_Buffer[6] = 0xAA;
   \   00000988   ........           LDR.W    R0,??DataTable68_24
   \   0000098C   AA21               MOVS     R1,#+170
   \   0000098E   8171               STRB     R1,[R0, #+6]
    908                              USB_File_Buffer[7] = 0xAA;
   \   00000990   ........           LDR.W    R0,??DataTable68_24
   \   00000994   AA21               MOVS     R1,#+170
   \   00000996   C171               STRB     R1,[R0, #+7]
    909                              if (FLASH_If_Write(&flashdestination, (uint32_t*) USB_File_Buffer, (uint16_t) 2)  != 0) 
   \   00000998   0222               MOVS     R2,#+2
   \   0000099A   ........           LDR.W    R1,??DataTable68_24
   \   0000099E   02A8               ADD      R0,SP,#+8
   \   000009A0   ........           BL       FLASH_If_Write
   \   000009A4   0028               CMP      R0,#+0
   \   000009A6   01D0               BEQ.N    ??USBH_USR_MSC_Application_76
    910                              {
    911                                   return 1;
   \   000009A8   0120               MOVS     R0,#+1
   \   000009AA   DDE0               B.N      ??USBH_USR_MSC_Application_14
    912                              }
    913          //                    flashdestination = UPDATE_ADDRESS;
    914          //                    Temp = *(uint32_t*)(flashdestination);
    915          //                    printf("%d",Temp);
    916          //                    flashdestination = FLASHMARK_ADDRESS;
    917          //                    Temp = *(uint32_t*)(flashdestination);
    918          //                    printf("%d",Temp);                                   
    919                              NVIC_SystemReset();           //  
   \                     ??USBH_USR_MSC_Application_76:
   \   000009AC   ........           BL       NVIC_SystemReset
    920                              while(1);
   \                     ??USBH_USR_MSC_Application_77:
   \   000009B0   FEE7               B.N      ??USBH_USR_MSC_Application_77
    921                         }
    922                         else
    923                         {
    924                              Input_Mode = 3;          //                         
   \                     ??USBH_USR_MSC_Application_69:
   \   000009B2   ........           LDR.W    R0,??DataTable68_28
   \   000009B6   0321               MOVS     R1,#+3
   \   000009B8   0170               STRB     R1,[R0, #+0]
    925                         }
    926                         f_close(&file);
   \   000009BA   ........           LDR.W    R0,??DataTable68_19
   \   000009BE   ........           BL       f_close
    927                         f_mount(0, NULL); 
   \   000009C2   0021               MOVS     R1,#+0
   \   000009C4   0020               MOVS     R0,#+0
   \   000009C6   ........           BL       f_mount
    928                    } break;     
   \   000009CA   CCE0               B.N      ??USBH_USR_MSC_Application_11
    929               case USH_USR_FS_READDRIVER:             //  
    930                    {
    931                         f_mount(0, &fatfs);
   \                     ??USBH_USR_MSC_Application_8:
   \   000009CC   ....               LDR.N    R1,??DataTable68_2
   \   000009CE   0020               MOVS     R0,#+0
   \   000009D0   ........           BL       f_mount
    932                         res = f_open(&file, "0:\\Config\\Driver.cfg", FA_OPEN_EXISTING | FA_READ);    
   \   000009D4   0122               MOVS     R2,#+1
   \   000009D6   ........           ADR.W    R1,`?<Constant "0:\\\\Config\\\\Driver.cfg">`
   \   000009DA   ........           LDR.W    R0,??DataTable68_19
   \   000009DE   ........           BL       f_open
   \   000009E2   0400               MOVS     R4,R0
    933                         if (res == FR_OK)                    
   \   000009E4   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000009E6   002C               CMP      R4,#+0
   \   000009E8   26D1               BNE.N    ??USBH_USR_MSC_Application_78
    934                         {
    935                              memset( USB_File_Buffer, 0, sizeof( USB_File_Buffer ));
   \   000009EA   4FF48072           MOV      R2,#+256
   \   000009EE   0021               MOVS     R1,#+0
   \   000009F0   ....               LDR.N    R0,??DataTable68_24
   \   000009F2   ........           BL       memset
    936                              res = f_read(&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
   \   000009F6   01AB               ADD      R3,SP,#+4
   \   000009F8   4FF48072           MOV      R2,#+256
   \   000009FC   ....               LDR.N    R1,??DataTable68_24
   \   000009FE   ....               LDR.N    R0,??DataTable68_19
   \   00000A00   ........           BL       f_read
   \   00000A04   0400               MOVS     R4,R0
    937                              if( strlen(( char * )USB_File_Buffer) == DRIVER_NUM_SIZE )
   \   00000A06   ....               LDR.N    R0,??DataTable68_24
   \   00000A08   ........           BL       strlen
   \   00000A0C   1228               CMP      R0,#+18
   \   00000A0E   13D1               BNE.N    ??USBH_USR_MSC_Application_78
    938                              {
    939                                   if(Info.Driver_Index != NO_DRIVER)
   \   00000A10   ....               LDR.N    R0,??DataTable68_25
   \   00000A12   0078               LDRB     R0,[R0, #+0]
   \   00000A14   FF28               CMP      R0,#+255
   \   00000A16   02D0               BEQ.N    ??USBH_USR_MSC_Application_79
    940                                        Flag.Driver_Change = 1;
   \   00000A18   ....               LDR.N    R0,??DataTable68_22
   \   00000A1A   0121               MOVS     R1,#+1
   \   00000A1C   4172               STRB     R1,[R0, #+9]
    941                                   memcpy(SFLASH_Memory.Driver[0],USB_File_Buffer,DRIVER_NUM_SIZE );       //  .
   \                     ??USBH_USR_MSC_Application_79:
   \   00000A1E   1222               MOVS     R2,#+18
   \   00000A20   ....               LDR.N    R1,??DataTable68_24
   \   00000A22   ....               LDR.N    R0,??DataTable68_36
   \   00000A24   ........           BL       memcpy
    942                                   memcpy(Info.Driver_Num ,USB_File_Buffer,DRIVER_NUM_SIZE );       //  .
   \   00000A28   1222               MOVS     R2,#+18
   \   00000A2A   ....               LDR.N    R1,??DataTable68_24
   \   00000A2C   ....               LDR.N    R0,??DataTable68_37
   \   00000A2E   ........           BL       memcpy
    943                                   Info.Driver_Index = 0;                         //    
   \   00000A32   ....               LDR.N    R0,??DataTable68_25
   \   00000A34   0021               MOVS     R1,#+0
   \   00000A36   0170               STRB     R1,[R0, #+0]
    944                              }
    945                         }
    946                         f_close(&file);
   \                     ??USBH_USR_MSC_Application_78:
   \   00000A38   ....               LDR.N    R0,??DataTable68_19
   \   00000A3A   ........           BL       f_close
    947                         f_mount(0, NULL);   
   \   00000A3E   0021               MOVS     R1,#+0
   \   00000A40   0020               MOVS     R0,#+0
   \   00000A42   ........           BL       f_mount
    948                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;     
   \   00000A46   ....               LDR.N    R0,??DataTable68_1
   \   00000A48   0121               MOVS     R1,#+1
   \   00000A4A   0170               STRB     R1,[R0, #+0]
    949                    }break;
   \   00000A4C   8BE0               B.N      ??USBH_USR_MSC_Application_11
    950               case USH_USR_FS_READPARAMETER:          //  
    951                    {
    952                         u8 Check = 0;
   \                     ??USBH_USR_MSC_Application_5:
   \   00000A4E   0025               MOVS     R5,#+0
    953                         f_mount(0, &fatfs);
   \   00000A50   ....               LDR.N    R1,??DataTable68_2
   \   00000A52   0020               MOVS     R0,#+0
   \   00000A54   ........           BL       f_mount
    954                         IWDG_ReloadCounter();                   // Clear IWDG
   \   00000A58   ........           BL       IWDG_ReloadCounter
    955                         res = f_open(&file, "0:\\Config\\Parameter.cfg", FA_OPEN_EXISTING | FA_READ);    
   \   00000A5C   0122               MOVS     R2,#+1
   \   00000A5E   ........           ADR.W    R1,`?<Constant "0:\\\\Config\\\\Parameter.cfg">`
   \   00000A62   ....               LDR.N    R0,??DataTable68_19
   \   00000A64   ........           BL       f_open
   \   00000A68   0400               MOVS     R4,R0
    956                         if (res == FR_OK)
   \   00000A6A   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000A6C   002C               CMP      R4,#+0
   \   00000A6E   1ED1               BNE.N    ??USBH_USR_MSC_Application_80
    957                         {
    958                              
    959                              Check = 1;
   \   00000A70   0125               MOVS     R5,#+1
    960                              memset( Buffer, 0, sizeof( Buffer ));
   \   00000A72   4FF40072           MOV      R2,#+512
   \   00000A76   0021               MOVS     R1,#+0
   \   00000A78   ....               LDR.N    R0,??DataTable68
   \   00000A7A   ........           BL       memset
    961                         // [V000032]       ---------------------------
    962                              
    963                              res = f_read(&file, Buffer, MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
   \   00000A7E   01AB               ADD      R3,SP,#+4
   \   00000A80   4FF48072           MOV      R2,#+256
   \   00000A84   ....               LDR.N    R1,??DataTable68
   \   00000A86   ....               LDR.N    R0,??DataTable68_19
   \   00000A88   ........           BL       f_read
   \   00000A8C   0400               MOVS     R4,R0
    964                             
    965                              if(file.fsize > 256 ) 
   \   00000A8E   ....               LDR.N    R0,??DataTable68_19
   \   00000A90   C068               LDR      R0,[R0, #+12]
   \   00000A92   B0F5807F           CMP      R0,#+256
   \   00000A96   07D9               BLS.N    ??USBH_USR_MSC_Application_81
    966                              {
    967                                   res = f_read(&file, &Buffer[256], MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
   \   00000A98   01AB               ADD      R3,SP,#+4
   \   00000A9A   4FF48072           MOV      R2,#+256
   \   00000A9E   ....               LDR.N    R1,??DataTable68_38
   \   00000AA0   ....               LDR.N    R0,??DataTable68_19
   \   00000AA2   ........           BL       f_read
   \   00000AA6   0400               MOVS     R4,R0
    968                              }
    969                         //-------------------------------------------------------------------------------                    
    970                              SettingParameter(( char * )Buffer);
   \                     ??USBH_USR_MSC_Application_81:
   \   00000AA8   ....               LDR.N    R0,??DataTable68
   \   00000AAA   ........           BL       SettingParameter
    971                         }
    972                         f_close(&file);
   \                     ??USBH_USR_MSC_Application_80:
   \   00000AAE   ....               LDR.N    R0,??DataTable68_19
   \   00000AB0   ........           BL       f_close
    973                         IWDG_ReloadCounter();                   // Clear IWDG
   \   00000AB4   ........           BL       IWDG_ReloadCounter
    974                         res = f_open(&file, "0:\\Config\\GPS.cfg", FA_OPEN_EXISTING | FA_READ);    
   \   00000AB8   0122               MOVS     R2,#+1
   \   00000ABA   ........           ADR.W    R1,`?<Constant "0:\\\\Config\\\\GPS.cfg">`
   \   00000ABE   ....               LDR.N    R0,??DataTable68_19
   \   00000AC0   ........           BL       f_open
   \   00000AC4   0400               MOVS     R4,R0
    975                         if (res == FR_OK)
   \   00000AC6   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000AC8   002C               CMP      R4,#+0
   \   00000ACA   11D1               BNE.N    ??USBH_USR_MSC_Application_82
    976                         {
    977                              Check = 1;
   \   00000ACC   0125               MOVS     R5,#+1
    978                              memset( USB_File_Buffer, 0, sizeof( USB_File_Buffer ));
   \   00000ACE   4FF48072           MOV      R2,#+256
   \   00000AD2   0021               MOVS     R1,#+0
   \   00000AD4   ....               LDR.N    R0,??DataTable68_24
   \   00000AD6   ........           BL       memset
    979                              res = f_read(&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
   \   00000ADA   01AB               ADD      R3,SP,#+4
   \   00000ADC   4FF48072           MOV      R2,#+256
   \   00000AE0   ....               LDR.N    R1,??DataTable68_24
   \   00000AE2   ....               LDR.N    R0,??DataTable68_19
   \   00000AE4   ........           BL       f_read
   \   00000AE8   0400               MOVS     R4,R0
    980                              SettingGPS(USB_File_Buffer);
                                     ^
Warning[Pe223]: function "SettingGPS" declared implicitly
   \   00000AEA   ....               LDR.N    R0,??DataTable68_24
   \   00000AEC   ........           BL       SettingGPS
    981                         }
    982                         f_close(&file);               
   \                     ??USBH_USR_MSC_Application_82:
   \   00000AF0   ....               LDR.N    R0,??DataTable68_19
   \   00000AF2   ........           BL       f_close
    983                         IWDG_ReloadCounter();                   // Clear IWDG
   \   00000AF6   ........           BL       IWDG_ReloadCounter
    984                         res = f_open(&file, "0:\\Config\\WIFI.cfg", FA_OPEN_EXISTING | FA_READ);    
   \   00000AFA   0122               MOVS     R2,#+1
   \   00000AFC   ........           ADR.W    R1,`?<Constant "0:\\\\Config\\\\WIFI.cfg">`
   \   00000B00   ....               LDR.N    R0,??DataTable68_19
   \   00000B02   ........           BL       f_open
   \   00000B06   0400               MOVS     R4,R0
    985                         if (res == FR_OK)
   \   00000B08   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000B0A   002C               CMP      R4,#+0
   \   00000B0C   14D1               BNE.N    ??USBH_USR_MSC_Application_83
    986                         {
    987                              Input_Mode = 5;
   \   00000B0E   ....               LDR.N    R0,??DataTable68_28
   \   00000B10   0521               MOVS     R1,#+5
   \   00000B12   0170               STRB     R1,[R0, #+0]
    988                              Check = 2;
   \   00000B14   0225               MOVS     R5,#+2
    989                              memset( USB_File_Buffer, 0, sizeof( USB_File_Buffer ));
   \   00000B16   4FF48072           MOV      R2,#+256
   \   00000B1A   0021               MOVS     R1,#+0
   \   00000B1C   ....               LDR.N    R0,??DataTable68_24
   \   00000B1E   ........           BL       memset
    990                              res = f_read(&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
   \   00000B22   01AB               ADD      R3,SP,#+4
   \   00000B24   4FF48072           MOV      R2,#+256
   \   00000B28   ....               LDR.N    R1,??DataTable68_24
   \   00000B2A   ....               LDR.N    R0,??DataTable68_19
   \   00000B2C   ........           BL       f_read
   \   00000B30   0400               MOVS     R4,R0
    991                              SettingWIFI(USB_File_Buffer);
                                     ^
Warning[Pe223]: function "SettingWIFI" declared implicitly
   \   00000B32   ....               LDR.N    R0,??DataTable68_24
   \   00000B34   ........           BL       SettingWIFI
    992                         }
    993                         f_close(&file);        
   \                     ??USBH_USR_MSC_Application_83:
   \   00000B38   ....               LDR.N    R0,??DataTable68_19
   \   00000B3A   ........           BL       f_close
    994                         f_mount(0, NULL);                  
   \   00000B3E   0021               MOVS     R1,#+0
   \   00000B40   0020               MOVS     R0,#+0
   \   00000B42   ........           BL       f_mount
    995                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   00000B46   ....               LDR.N    R0,??DataTable68_1
   \   00000B48   0121               MOVS     R1,#+1
   \   00000B4A   0170               STRB     R1,[R0, #+0]
    996                         if(Check == 1)
   \   00000B4C   EDB2               UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000B4E   012D               CMP      R5,#+1
   \   00000B50   03D1               BNE.N    ??USBH_USR_MSC_Application_84
    997                              Input_Mode = 3;
   \   00000B52   ....               LDR.N    R0,??DataTable68_28
   \   00000B54   0321               MOVS     R1,#+3
   \   00000B56   0170               STRB     R1,[R0, #+0]
   \   00000B58   05E0               B.N      ??USBH_USR_MSC_Application_85
    998                         else  if(Check == 0)
   \                     ??USBH_USR_MSC_Application_84:
   \   00000B5A   EDB2               UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000B5C   002D               CMP      R5,#+0
   \   00000B5E   02D1               BNE.N    ??USBH_USR_MSC_Application_85
    999                              Input_Mode = 4;
   \   00000B60   ....               LDR.N    R0,??DataTable68_28
   \   00000B62   0421               MOVS     R1,#+4
   \   00000B64   0170               STRB     R1,[R0, #+0]
   1000                    }break;
   1001               }
   1002               return(0);
   \                     ??USBH_USR_MSC_Application_85:
   \                     ??USBH_USR_MSC_Application_11:
   \   00000B66   0020               MOVS     R0,#+0
   \                     ??USBH_USR_MSC_Application_14:
   \   00000B68   10B0               ADD      SP,SP,#+64
   \   00000B6A   BDE8F087           POP      {R4-R10,PC}      ;; return
   1003          }
   1004          
   1005          /**
   1006          * @brief  USBH_USR_DeInit
   1007          *         Deint User state and associated variables
   1008          * @param  None
   1009          * @retval None
   1010          */

   \                                 In section .text, align 2, keep-with-next
   1011          void USBH_USR_DeInit(void)
   1012          {
   1013               USBH_USR_ApplicationState = USH_USR_FS_INIT;
   \                     USBH_USR_DeInit:
   \   00000000   ....               LDR.N    R0,??DataTable68_1
   \   00000002   0021               MOVS     R1,#+0
   \   00000004   0170               STRB     R1,[R0, #+0]
   1014          }
   \   00000006   7047               BX       LR               ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66:
   \   00000000   0CED00E0           DC32     0xe000ed0c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_1:
   \   00000000   0400FA05           DC32     0x5fa0004

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_2:
   \   00000000   00180240           DC32     0x40021800

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_3:
   \   00000000   ........           DC32     LOGWRITE

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_4:
   \   00000000   ........           DC32     `?<Constant "USB Initailze \\r\\n ">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_5:
   \   00000000   ........           DC32     Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_6:
   \   00000000   ........           DC32     MSG_DEV_ATTACHED

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_7:
   \   00000000   ........           DC32     MSG_UNREC_ERROR

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_8:
   \   00000000   ........           DC32     MSG_DEV_DISCONNECTED

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_9:
   \   00000000   ........           DC32     `?<Constant "USB_Reset \\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_10:
   \   00000000   ........           DC32     MSG_DEV_HIGHSPEED

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_11:
   \   00000000   ........           DC32     MSG_DEV_FULLSPEED

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_12:
   \   00000000   ........           DC32     MSG_DEV_LOWSPEED

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_13:
   \   00000000   ........           DC32     MSG_DEV_ERROR

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_14:
   \   00000000   ........           DC32     `?<Constant "> VID : %04Xh\\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_15:
   \   00000000   ........           DC32     `?<Constant "> PID : %04Xh\\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_16:
   \   00000000   ........           DC32     MSG_MSC_CLASS

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_17:
   \   00000000   ........           DC32     MSG_HID_CLASS

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_18:
   \   00000000   ........           DC32     `?<Constant "> Manufacturer : %s \\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable67:
   \   00000000   ........           DC32     `?<Constant "> Product : %s \\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable67_1:
   \   00000000   ........           DC32     `?<Constant "> Serial Number : %s \\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable67_2:
   \   00000000   ........           DC32     MSG_DEV_ENUMERATED

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable67_3:
   \   00000000   ........           DC32     `?<Constant "> Device not supporte...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable67_4:
   \   00000000   ........           DC32     `?<Constant "> Overcurrent detecte...">`

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "USB Initailze \\r\\n ">`:
   \   00000000                      ; Initializer data, 20 bytes
   \   00000000   55534220496E       DC8 85, 83, 66, 32, 73, 110, 105, 116, 97, 105
   \              69746169    
   \   0000000A   6C7A65200D0A       DC8 108, 122, 101, 32, 13, 10, 32, 0, 0, 0
   \              20000000    

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "USB_Reset \\r\\n">`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   5553425F5265       DC8 85, 83, 66, 95, 82, 101, 115, 101, 116, 32
   \              73657420    
   \   0000000A   0D0A00000000       DC8 13, 10, 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> VID : %04Xh\\r\\n">`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   3E2056494420       DC8 62, 32, 86, 73, 68, 32, 58, 32, 37, 48
   \              3A202530    
   \   0000000A   3458680D0A00       DC8 52, 88, 104, 13, 10, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> PID : %04Xh\\r\\n">`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   3E2050494420       DC8 62, 32, 80, 73, 68, 32, 58, 32, 37, 48
   \              3A202530    
   \   0000000A   3458680D0A00       DC8 52, 88, 104, 13, 10, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Manufacturer : %s \\r\\n">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   3E204D616E75       DC8 62, 32, 77, 97, 110, 117, 102, 97, 99, 116
   \              66616374    
   \   0000000A   75726572203A       DC8 117, 114, 101, 114, 32, 58, 32, 37, 115, 32
   \              20257320    
   \   00000014   0D0A0000           DC8 13, 10, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Product : %s \\r\\n">`:
   \   00000000                      ; Initializer data, 20 bytes
   \   00000000   3E2050726F64       DC8 62, 32, 80, 114, 111, 100, 117, 99, 116, 32
   \              75637420    
   \   0000000A   3A202573200D       DC8 58, 32, 37, 115, 32, 13, 10, 0, 0, 0
   \              0A000000    

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Serial Number : %s \\r\\n">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   3E2053657269       DC8 62, 32, 83, 101, 114, 105, 97, 108, 32, 78
   \              616C204E    
   \   0000000A   756D62657220       DC8 117, 109, 98, 101, 114, 32, 58, 32, 37, 115
   \              3A202573    
   \   00000014   200D0A00           DC8 32, 13, 10, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Device not supporte...">`:
   \   00000000                      ; Initializer data, 28 bytes
   \   00000000   3E2044657669       DC8 62, 32, 68, 101, 118, 105, 99, 101, 32, 110
   \              6365206E    
   \   0000000A   6F7420737570       DC8 111, 116, 32, 115, 117, 112, 112, 111, 114, 116
   \              706F7274    
   \   00000014   65642E0D0A00       DC8 101, 100, 46, 13, 10, 0, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Overcurrent detecte...">`:
   \   00000000                      ; Initializer data, 28 bytes
   \   00000000   3E204F766572       DC8 62, 32, 79, 118, 101, 114, 99, 117, 114, 114
   \              63757272    
   \   0000000A   656E74206465       DC8 101, 110, 116, 32, 100, 101, 116, 101, 99, 116
   \              74656374    
   \   00000014   65642E0D0A00       DC8 101, 100, 46, 13, 10, 0, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Cannot initialize F...">`:
   \   00000000                      ; Initializer data, 36 bytes
   \   00000000   3E2043616E6E       DC8 62, 32, 67, 97, 110, 110, 111, 116, 32, 105
   \              6F742069    
   \   0000000A   6E697469616C       DC8 110, 105, 116, 105, 97, 108, 105, 122, 101, 32
   \              697A6520    
   \   00000014   46696C652053       DC8 70, 105, 108, 101, 32, 83, 121, 115, 116, 101
   \              79737465    
   \   0000001E   6D2E0D0A0000       DC8 109, 46, 13, 10, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> File System initial...">`:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E2046696C65       DC8 62, 32, 70, 105, 108, 101, 32, 83, 121, 115
   \              20537973    
   \   0000000A   74656D20696E       DC8 116, 101, 109, 32, 105, 110, 105, 116, 105, 97
   \              69746961    
   \   00000014   6C697A65642E       DC8 108, 105, 122, 101, 100, 46, 13, 10, 0, 0
   \              0D0A0000    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Disk capacity : %u ...">`:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E204469736B       DC8 62, 32, 68, 105, 115, 107, 32, 99, 97, 112
   \              20636170    
   \   0000000A   616369747920       DC8 97, 99, 105, 116, 121, 32, 58, 32, 37, 117
   \              3A202575    
   \   00000014   204279746573       DC8 32, 66, 121, 116, 101, 115, 13, 10, 0, 0
   \              0D0A0000    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\LOG_File">`:
   \   00000000                      ; Initializer data, 12 bytes
   \   00000000   303A5C4C4F47       DC8 48, 58, 92, 76, 79, 71, 95, 70, 105, 108
   \              5F46696C    
   \   0000000A   6500               DC8 101, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\DTG_File">`:
   \   00000000                      ; Initializer data, 12 bytes
   \   00000000   303A5C445447       DC8 48, 58, 92, 68, 84, 71, 95, 70, 105, 108
   \              5F46696C    
   \   0000000A   6500               DC8 101, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\BACKUP_File">`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   303A5C424143       DC8 48, 58, 92, 66, 65, 67, 75, 85, 80, 95
   \              4B55505F    
   \   0000000A   46696C650000       DC8 70, 105, 108, 101, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\EMS_File">`:
   \   00000000                      ; Initializer data, 12 bytes
   \   00000000   303A5C454D53       DC8 48, 58, 92, 69, 77, 83, 95, 70, 105, 108
   \              5F46696C    
   \   0000000A   6500               DC8 101, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\EVENT_File">`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   303A5C455645       DC8 48, 58, 92, 69, 86, 69, 78, 84, 95, 70
   \              4E545F46    
   \   0000000A   696C65000000       DC8 105, 108, 101, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config">`:
   \   00000000                      ; Initializer data, 12 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 0
   \              66696700    
   \   0000000A   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Log_File\\\\%d%d%d.txt">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   303A5C4C6F67       DC8 48, 58, 92, 76, 111, 103, 95, 70, 105, 108
   \              5F46696C    
   \   0000000A   655C25642564       DC8 101, 92, 37, 100, 37, 100, 37, 100, 46, 116
   \              25642E74    
   \   00000014   78740000           DC8 120, 116, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68:
   \   00000000   ........           DC32     Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_1:
   \   00000000   ........           DC32     USBH_USR_ApplicationState

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_2:
   \   00000000   ........           DC32     fatfs

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_3:
   \   00000000   ........           DC32     LOGWRITE

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_4:
   \   00000000   ........           DC32     `?<Constant "> Cannot initialize F...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_5:
   \   00000000   ........           DC32     `?<Constant "> File System initial...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_6:
   \   00000000   ........           DC32     USBH_MSC_Param

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_7:
   \   00000000   ........           DC32     `?<Constant "> Disk capacity : %u ...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_8:
   \   00000000   ........           DC32     MSG_WR_PROTECT

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_9:
   \   00000000   ........           DC32     `?<Constant "0:\\\\LOG_File">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_10:
   \   00000000   ........           DC32     `?<Constant "0:\\\\DTG_File">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_11:
   \   00000000   ........           DC32     `?<Constant "0:\\\\BACKUP_File">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_12:
   \   00000000   ........           DC32     `?<Constant "0:\\\\EMS_File">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_13:
   \   00000000   ........           DC32     `?<Constant "0:\\\\EVENT_File">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_14:
   \   00000000   ........           DC32     `?<Constant "0:\\\\Config">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_15:
   \   00000000   ........           DC32     USBH_USR_ActionFlag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_16:
   \   00000000   ........           DC32     SYSTEM_TIME

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_17:
   \   00000000   ........           DC32     `?<Constant "0:\\\\Log_File\\\\%d%d%d.txt">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_18:
   \   00000000   ........           DC32     USB_OTG_Core

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_19:
   \   00000000   ........           DC32     file

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_20:
   \   00000000   ........           DC32     USBH_USR_Log_Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_21:
   \   00000000   ........           DC32     USBH_USR_DTG_Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_22:
   \   00000000   ........           DC32     Flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_23:
   \   00000000   ........           DC32     NAND_Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_24:
   \   00000000   ........           DC32     USB_File_Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_25:
   \   00000000   ........           DC32     Info

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_26:
   \   00000000   ........           DC32     NAND_Buffer+0x1FFE

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_27:
   \   00000000   ........           DC32     NAND_Buffer+0x1FFF

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_28:
   \   00000000   ........           DC32     Input_Mode

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_29:
   \   00000000   ........           DC32     Accident_Time

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_30:
   \   00000000   ........           DC32     VIEW_Header

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_31:
   \   00000000   0000C842           DC32     0x42c80000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_32:
   \   00000000   00140240           DC32     0x40021400

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_33:
   \   00000000   00000408           DC32     0x8040000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_34:
   \   00000000   FFFF0300           DC32     0x3ffff

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_35:
   \   00000000   F8FF0708           DC32     0x807fff8

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_36:
   \   00000000   ........           DC32     SFLASH_Memory+0x1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_37:
   \   00000000   ........           DC32     Info+0x1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable68_38:
   \   00000000   ........           DC32     Buffer+0x100

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\DTG_File\\\\%04d%02d%...">`:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   303A5C445447       DC8 48, 58, 92, 68, 84, 71, 95, 70, 105, 108
   \              5F46696C    
   \   0000000A   655C25303464       DC8 101, 92, 37, 48, 52, 100, 37, 48, 50, 100
   \              25303264    
   \   00000014   253032642E74       DC8 37, 48, 50, 100, 46, 116, 120, 116, 0, 0
   \              78740000    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\EMS_File\\\\%04d%02d%...">`:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   303A5C454D53       DC8 48, 58, 92, 69, 77, 83, 95, 70, 105, 108
   \              5F46696C    
   \   0000000A   655C25303464       DC8 101, 92, 37, 48, 52, 100, 37, 48, 50, 100
   \              25303264    
   \   00000014   253032642E74       DC8 37, 48, 50, 100, 46, 116, 120, 116, 0, 0
   \              78740000    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant {0}>`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              00000000    
   \   0000000A   000000000000       DC8 0, 0, 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\EVENT_File\\\\Bk%s.evt">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   303A5C455645       DC8 48, 58, 92, 69, 86, 69, 78, 84, 95, 70
   \              4E545F46    
   \   0000000A   696C655C426B       DC8 105, 108, 101, 92, 66, 107, 37, 115, 46, 101
   \              25732E65    
   \   00000014   76740000           DC8 118, 116, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\EVENT_File\\\\%s.evt">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   303A5C455645       DC8 48, 58, 92, 69, 86, 69, 78, 84, 95, 70
   \              4E545F46    
   \   0000000A   696C655C2573       DC8 105, 108, 101, 92, 37, 115, 46, 101, 118, 116
   \              2E657674    
   \   00000014   00000000           DC8 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\BACKUP_File\\\\%02d%0...">`:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   303A5C424143       DC8 48, 58, 92, 66, 65, 67, 75, 85, 80, 95
   \              4B55505F    
   \   0000000A   46696C655C25       DC8 70, 105, 108, 101, 92, 37, 48, 50, 100, 37
   \              30326425    
   \   00000014   303264253032       DC8 48, 50, 100, 37, 48, 50, 100, 46, 98, 105
   \              642E6269    
   \   0000001E   6E00               DC8 110, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "000 %%">`:
   \   00000000                      ; Initializer data, 8 bytes
   \   00000000   303030202525       DC8 48, 48, 48, 32, 37, 37, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "%03d %%">`:
   \   00000000                      ; Initializer data, 8 bytes
   \   00000000   253033642025       DC8 37, 48, 51, 100, 32, 37, 37, 0
   \              2500        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config\\\\Sound.bin">`:
   \   00000000                      ; Initializer data, 20 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 92
   \              6669675C    
   \   0000000A   536F756E642E       DC8 83, 111, 117, 110, 100, 46, 98, 105, 110, 0
   \              62696E00    

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "DataLoading...      ">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   446174614C6F       DC8 68, 97, 116, 97, 76, 111, 97, 100, 105, 110
   \              6164696E    
   \   0000000A   672E2E2E2020       DC8 103, 46, 46, 46, 32, 32, 32, 32, 32, 32
   \              20202020    
   \   00000014   00000000           DC8 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "Sound File Write Succ...">`:
   \   00000000                      ; Initializer data, 28 bytes
   \   00000000   536F756E6420       DC8 83, 111, 117, 110, 100, 32, 70, 105, 108, 101
   \              46696C65    
   \   0000000A   205772697465       DC8 32, 87, 114, 105, 116, 101, 32, 83, 117, 99
   \              20537563    
   \   00000014   636573730D0A       DC8 99, 101, 115, 115, 13, 10, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config\\\\UpdateDTG.bin">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 92
   \              6669675C    
   \   0000000A   557064617465       DC8 85, 112, 100, 97, 116, 101, 68, 84, 71, 46
   \              4454472E    
   \   00000014   62696E00           DC8 98, 105, 110, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config\\\\Driver.cfg">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 92
   \              6669675C    
   \   0000000A   447269766572       DC8 68, 114, 105, 118, 101, 114, 46, 99, 102, 103
   \              2E636667    
   \   00000014   00000000           DC8 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config\\\\Parameter.cfg">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 92
   \              6669675C    
   \   0000000A   506172616D65       DC8 80, 97, 114, 97, 109, 101, 116, 101, 114, 46
   \              7465722E    
   \   00000014   63666700           DC8 99, 102, 103, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config\\\\GPS.cfg">`:
   \   00000000                      ; Initializer data, 20 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 92
   \              6669675C    
   \   0000000A   4750532E6366       DC8 71, 80, 83, 46, 99, 102, 103, 0, 0, 0
   \              67000000    

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config\\\\WIFI.cfg">`:
   \   00000000                      ; Initializer data, 20 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 92
   \              6669675C    
   \   0000000A   574946492E63       DC8 87, 73, 70, 73, 46, 99, 102, 103, 0, 0
   \              66670000    
   1015          
   1016          
   1017          /**
   1018          * @}
   1019          */ 
   1020          
   1021          /**
   1022          * @}
   1023          */ 
   1024          
   1025          /**
   1026          * @}
   1027          */
   1028          
   1029          /**
   1030          * @}
   1031          */
   1032          
   1033          /******************* (C) COPYRIGHT 2011 STMicroelectronics *****END OF FILE****/

   Maximum stack usage in bytes:

     Function                       .cstack
     --------                       -------
     LED2_GREEN                          8
     LED2_OFF                            8
     NVIC_SystemReset                    0
     USBH_USR_Configuration_DescAvailable
                                         8
     USBH_USR_DeInit                     0
     USBH_USR_DeviceAddressAssigned      0
     USBH_USR_DeviceAttached             8
     USBH_USR_DeviceDisconnected         8
     USBH_USR_DeviceNotSupported         8
     USBH_USR_DeviceSpeedDetected        8
     USBH_USR_Device_DescAvailable       8
     USBH_USR_EnumerationDone            8
     USBH_USR_Init                       8
     USBH_USR_MSC_Application           96
     USBH_USR_Manufacturer_String        8
     USBH_USR_OverCurrentDetected        8
     USBH_USR_Product_String             8
     USBH_USR_ResetDevice                8
     USBH_USR_SerialNum_String           8
     USBH_USR_UnrecoveredError           8
     USBH_USR_UserInput                  0
     memcpy                              8
     memset                              8


   Section sizes:

     Function/Label                           Bytes
     --------------                           -----
     memcpy                                     14
     memset                                     20
     NVIC_SystemReset                           22
     LED2_OFF                                   24
     LED2_GREEN                                 24
     USBH_USR_ApplicationState                   1
     USBH_USR_ActionFlag                         1
     USBH_USR_Log_Buffer                       100
     USBH_USR_DTG_Buffer                       256
     USB_File_Buffer                           256
     fatfs                                     560
     file                                      548
     finfo                                      32
     USR_cb                                     72
     MSG_HOST_INIT                              32
     MSG_DEV_ATTACHED                           24
     MSG_DEV_DISCONNECTED                       24
     MSG_DEV_ENUMERATED                         28
     MSG_DEV_HIGHSPEED                          32
     MSG_DEV_FULLSPEED                          32
     MSG_DEV_LOWSPEED                           32
     MSG_DEV_ERROR                              20
     MSG_MSC_CLASS                              36
     MSG_HID_CLASS                              28
     MSG_DISK_SIZE                              36
     MSG_LUN                                    36
     MSG_ROOT_CONT                              32
     MSG_WR_PROTECT                             32
     MSG_UNREC_ERROR                            28
     USBH_USR_Init                              28
     USBH_USR_DeviceAttached                    28
     USBH_USR_UnrecoveredError                  28
     USBH_USR_DeviceDisconnected                28
     USBH_USR_ResetDevice                       28
     USBH_USR_DeviceSpeedDetected               76
     USBH_USR_Device_DescAvailable              50
     USBH_USR_DeviceAddressAssigned              2
     USBH_USR_Configuration_DescAvailable
                                                50
     USBH_USR_Manufacturer_String               34
     USBH_USR_Product_String                    36
     USBH_USR_SerialNum_String                  36
     USBH_USR_EnumerationDone                   34
     USBH_USR_DeviceNotSupported                34
     USBH_USR_UserInput                          6
     USBH_USR_OverCurrentDetected               34
     USBH_USR_MSC_Application                 2926
     USBH_USR_DeInit                             8
     ??DataTable66                               4
     ??DataTable66_1                             4
     ??DataTable66_2                             4
     ??DataTable66_3                             4
     ??DataTable66_4                             4
     ??DataTable66_5                             4
     ??DataTable66_6                             4
     ??DataTable66_7                             4
     ??DataTable66_8                             4
     ??DataTable66_9                             4
     ??DataTable66_10                            4
     ??DataTable66_11                            4
     ??DataTable66_12                            4
     ??DataTable66_13                            4
     ??DataTable66_14                            4
     ??DataTable66_15                            4
     ??DataTable66_16                            4
     ??DataTable66_17                            4
     ??DataTable66_18                            4
     ??DataTable67                               4
     ??DataTable67_1                             4
     ??DataTable67_2                             4
     ??DataTable67_3                             4
     ??DataTable67_4                             4
     ?<Constant "USB Initailze \r\n ">          20
     ?<Constant "USB_Reset \r\n">               16
     ?<Constant "> VID : %04Xh\r\n">            16
     ?<Constant "> PID : %04Xh\r\n">            16
     ?<Constant "> Manufacturer : %s \r\n">     24
     ?<Constant "> Product : %s \r\n">          20
     ?<Constant "> Serial Number : %s \r\n">    24
     ?<Constant "> Device not supporte...">     28
     ?<Constant "> Overcurrent detecte...">     28
     ?<Constant "> Cannot initialize F...">     36
     ?<Constant "> File System initial...">     32
     ?<Constant "> Disk capacity : %u ...">     32
     ?<Constant "0:\\LOG_File">                 12
     ?<Constant "0:\\DTG_File">                 12
     ?<Constant "0:\\BACKUP_File">              16
     ?<Constant "0:\\EMS_File">                 12
     ?<Constant "0:\\EVENT_File">               16
     ?<Constant "0:\\Config">                   12
     ?<Constant "0:\\Log_File\\%d%d%d.txt">     24
     ??DataTable68                               4
     ??DataTable68_1                             4
     ??DataTable68_2                             4
     ??DataTable68_3                             4
     ??DataTable68_4                             4
     ??DataTable68_5                             4
     ??DataTable68_6                             4
     ??DataTable68_7                             4
     ??DataTable68_8                             4
     ??DataTable68_9                             4
     ??DataTable68_10                            4
     ??DataTable68_11                            4
     ??DataTable68_12                            4
     ??DataTable68_13                            4
     ??DataTable68_14                            4
     ??DataTable68_15                            4
     ??DataTable68_16                            4
     ??DataTable68_17                            4
     ??DataTable68_18                            4
     ??DataTable68_19                            4
     ??DataTable68_20                            4
     ??DataTable68_21                            4
     ??DataTable68_22                            4
     ??DataTable68_23                            4
     ??DataTable68_24                            4
     ??DataTable68_25                            4
     ??DataTable68_26                            4
     ??DataTable68_27                            4
     ??DataTable68_28                            4
     ??DataTable68_29                            4
     ??DataTable68_30                            4
     ??DataTable68_31                            4
     ??DataTable68_32                            4
     ??DataTable68_33                            4
     ??DataTable68_34                            4
     ??DataTable68_35                            4
     ??DataTable68_36                            4
     ??DataTable68_37                            4
     ??DataTable68_38                            4
     ?<Constant "0:\\DTG_File\\%04d%02d%...">   32
     ?<Constant "0:\\EMS_File\\%04d%02d%...">   32
     ?<Constant {0}>                            16
     ?<Constant "0:\\EVENT_File\\Bk%s.evt">     24
     ?<Constant "0:\\EVENT_File\\%s.evt">       24
     ?<Constant "0:\\BACKUP_File\\%02d%0...">   32
     ?<Constant "000 %%">                        8
     ?<Constant "%03d %%">                       8
     ?<Constant "0:\\Config\\Sound.bin">        20
     ?<Constant "DataLoading...      ">         24
     ?<Constant "Sound File Write Succ...">     28
     ?<Constant "0:\\Config\\UpdateDTG.bin">    24
     ?<Constant "0:\\Config\\Driver.cfg">       24
     ?<Constant "0:\\Config\\Parameter.cfg">    24
     ?<Constant "0:\\Config\\GPS.cfg">          20
     ?<Constant "0:\\Config\\WIFI.cfg">         20

 
 1 753 bytes in section .bss
    73 bytes in section .data
 5 030 bytes in section .text
 
 4 996 bytes of CODE memory (+ 34 bytes shared)
 1 826 bytes of DATA memory

Errors: none
Warnings: 5
