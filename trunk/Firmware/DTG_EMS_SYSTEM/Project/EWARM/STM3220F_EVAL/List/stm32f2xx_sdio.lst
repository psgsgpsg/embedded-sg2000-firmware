###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.10.1.52143/W32 for ARM     19/Jan/2012  11:08:53 #
# Copyright 1999-2010 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Libraries\STM32F #
#                    2xx_StdPeriph_Driver\src\stm32f2xx_sdio.c                #
#    Command line =  F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Libraries\STM32F #
#                    2xx_StdPeriph_Driver\src\stm32f2xx_sdio.c -D             #
#                    USE_STDPERIPH_DRIVER -D STM32F2XX -D USE_STM3220F_EVAL   #
#                    -D USE_USB_OTG_FS -D RTC_CLOCK_SOURCE_LSE -lC            #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\ST #
#                    M3220F_EVAL\List\ -lA F:\Work\S&G2000\Firmware\DTG_EMS_S #
#                    YSTEM\Project\EWARM\STM3220F_EVAL\List\ -o               #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\ST #
#                    M3220F_EVAL\Obj\ --no_cse --no_unroll --no_inline        #
#                    --no_code_motion --no_tbaa --no_clustering               #
#                    --no_scheduling --debug --endian=little --cpu=Cortex-M3  #
#                    -e --fpu=None --dlib_config "C:\Program Files\IAR        #
#                    Systems\Embedded Workbench 6.0\arm\INC\c\DLib_Config_Ful #
#                    l.h" -I F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\ #
#                    EWARM\..\ -I F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Pro #
#                    ject\EWARM\..\..\Libraries\CMSIS\CM3\CoreSupport\ -I     #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\CMSIS\CM3\DeviceSupport\ST\STM32F2xx\ -I   #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32F2xx_StdPeriph_Driver\inc\ -I         #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Utilities\STM32_EVAL\ -I                             #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Utilities\STM32_EVAL\Common\ -I                      #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Utilities\STM32_EVAL\STM3220F_EVAL\ -I               #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32_USB_OTG_Driver\inc\ -I               #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32_USB_Device_Library\Core\inc\ -I      #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32_USB_Device_Library\Class\msc\inc\    #
#                    -I F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM #
#                    \..\Usb\ -I F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Proj #
#                    ect\EWARM\..\Usb\Inc\ -I F:\Work\S&G2000\Firmware\DTG_EM #
#                    S_SYSTEM\Project\EWARM\..\Usb\src\ -I                    #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32_USB_HOST_Library\Core\inc\ -I        #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32_USB_HOST_Library\Class\MSC\inc\ -I   #
#                    F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\.. #
#                    \..\Libraries\STM32_USB_Device_Library\Class\cdc\inc\    #
#                    -Ol --use_c++_inline                                     #
#    List file    =  F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\ST #
#                    M3220F_EVAL\List\stm32f2xx_sdio.lst                      #
#    Object file  =  F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Project\EWARM\ST #
#                    M3220F_EVAL\Obj\stm32f2xx_sdio.o                         #
#                                                                             #
#                                                                             #
###############################################################################

F:\Work\S&G2000\Firmware\DTG_EMS_SYSTEM\Libraries\STM32F2xx_StdPeriph_Driver\src\stm32f2xx_sdio.c
      1          /**
      2            ******************************************************************************
      3            * @file    stm32f2xx_sdio.c
      4            * @author  MCD Application Team
      5            * @version V0.0.4
      6            * @date    13-January-2011
      7            * @brief   This file provides all the SDIO firmware functions.
      8            ******************************************************************************
      9            * @attention
     10            *
     11            * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
     12            * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
     13            * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
     14            * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
     15            * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
     16            * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
     17            *
     18            * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
     19            ******************************************************************************
     20            */
     21          
     22          /* Includes ------------------------------------------------------------------*/
     23          #include "stm32f2xx_sdio.h"
     24          #include "stm32f2xx_rcc.h"
     25          
     26          /** @addtogroup STM32F2xx_StdPeriph_Driver
     27            * @{
     28            */
     29          
     30          /** @defgroup SDIO 
     31            * @brief SDIO driver modules
     32            * @{
     33            */ 
     34          
     35          /** @defgroup SDIO_Private_TypesDefinitions
     36            * @{
     37            */ 
     38          
     39          /* ------------ SDIO registers bit address in the alias region ----------- */
     40          #define SDIO_OFFSET                (SDIO_BASE - PERIPH_BASE)
     41          
     42          /* --- CLKCR Register ---*/
     43          
     44          /* Alias word address of CLKEN bit */
     45          #define CLKCR_OFFSET              (SDIO_OFFSET + 0x04)
     46          #define CLKEN_BitNumber           0x08
     47          #define CLKCR_CLKEN_BB            (PERIPH_BB_BASE + (CLKCR_OFFSET * 32) + (CLKEN_BitNumber * 4))
     48          
     49          /* --- CMD Register ---*/
     50          
     51          /* Alias word address of SDIOSUSPEND bit */
     52          #define CMD_OFFSET                (SDIO_OFFSET + 0x0C)
     53          #define SDIOSUSPEND_BitNumber     0x0B
     54          #define CMD_SDIOSUSPEND_BB        (PERIPH_BB_BASE + (CMD_OFFSET * 32) + (SDIOSUSPEND_BitNumber * 4))
     55          
     56          /* Alias word address of ENCMDCOMPL bit */
     57          #define ENCMDCOMPL_BitNumber      0x0C
     58          #define CMD_ENCMDCOMPL_BB         (PERIPH_BB_BASE + (CMD_OFFSET * 32) + (ENCMDCOMPL_BitNumber * 4))
     59          
     60          /* Alias word address of NIEN bit */
     61          #define NIEN_BitNumber            0x0D
     62          #define CMD_NIEN_BB               (PERIPH_BB_BASE + (CMD_OFFSET * 32) + (NIEN_BitNumber * 4))
     63          
     64          /* Alias word address of ATACMD bit */
     65          #define ATACMD_BitNumber          0x0E
     66          #define CMD_ATACMD_BB             (PERIPH_BB_BASE + (CMD_OFFSET * 32) + (ATACMD_BitNumber * 4))
     67          
     68          /* --- DCTRL Register ---*/
     69          
     70          /* Alias word address of DMAEN bit */
     71          #define DCTRL_OFFSET              (SDIO_OFFSET + 0x2C)
     72          #define DMAEN_BitNumber           0x03
     73          #define DCTRL_DMAEN_BB            (PERIPH_BB_BASE + (DCTRL_OFFSET * 32) + (DMAEN_BitNumber * 4))
     74          
     75          /* Alias word address of RWSTART bit */
     76          #define RWSTART_BitNumber         0x08
     77          #define DCTRL_RWSTART_BB          (PERIPH_BB_BASE + (DCTRL_OFFSET * 32) + (RWSTART_BitNumber * 4))
     78          
     79          /* Alias word address of RWSTOP bit */
     80          #define RWSTOP_BitNumber          0x09
     81          #define DCTRL_RWSTOP_BB           (PERIPH_BB_BASE + (DCTRL_OFFSET * 32) + (RWSTOP_BitNumber * 4))
     82          
     83          /* Alias word address of RWMOD bit */
     84          #define RWMOD_BitNumber           0x0A
     85          #define DCTRL_RWMOD_BB            (PERIPH_BB_BASE + (DCTRL_OFFSET * 32) + (RWMOD_BitNumber * 4))
     86          
     87          /* Alias word address of SDIOEN bit */
     88          #define SDIOEN_BitNumber          0x0B
     89          #define DCTRL_SDIOEN_BB           (PERIPH_BB_BASE + (DCTRL_OFFSET * 32) + (SDIOEN_BitNumber * 4))
     90          
     91          /* ---------------------- SDIO registers bit mask ------------------------ */
     92          
     93          /* --- CLKCR Register ---*/
     94          
     95          /* CLKCR register clear mask */
     96          #define CLKCR_CLEAR_MASK         ((uint32_t)0xFFFF8100) 
     97          
     98          /* --- PWRCTRL Register ---*/
     99          
    100          /* SDIO PWRCTRL Mask */
    101          #define PWR_PWRCTRL_MASK         ((uint32_t)0xFFFFFFFC)
    102          
    103          /* --- DCTRL Register ---*/
    104          
    105          /* SDIO DCTRL Clear Mask */
    106          #define DCTRL_CLEAR_MASK         ((uint32_t)0xFFFFFF08)
    107          
    108          /* --- CMD Register ---*/
    109          
    110          /* CMD Register clear mask */
    111          #define CMD_CLEAR_MASK           ((uint32_t)0xFFFFF800)
    112          
    113          /* SDIO RESP Registers Address */
    114          #define SDIO_RESP_ADDR           ((uint32_t)(SDIO_BASE + 0x14))
    115          
    116          /**
    117            * @}
    118            */
    119          
    120          /** @defgroup SDIO_Private_Defines
    121            * @{
    122            */
    123          
    124          /**
    125            * @}
    126            */
    127          
    128          /** @defgroup SDIO_Private_Macros
    129            * @{
    130            */
    131          
    132          /**
    133            * @}
    134            */
    135          
    136          /** @defgroup SDIO_Private_Variables
    137            * @{
    138            */
    139          
    140          /**
    141            * @}
    142            */
    143          
    144          /** @defgroup SDIO_Private_FunctionPrototypes
    145            * @{
    146            */
    147          
    148          /**
    149            * @}
    150            */
    151          
    152          /** @defgroup SDIO_Private_Functions
    153            * @{
    154            */
    155          
    156          /**
    157            * @brief  Deinitializes the SDIO peripheral registers to their default reset values.
    158            * @param  None
    159            * @retval None
    160            */

   \                                 In section .text, align 2, keep-with-next
    161          void SDIO_DeInit(void)
    162          {
   \                     SDIO_DeInit:
   \   00000000   80B5               PUSH     {R7,LR}
    163            RCC_APB2PeriphResetCmd(RCC_APB2Periph_SDIO, ENABLE);
   \   00000002   0121               MOVS     R1,#+1
   \   00000004   4FF40060           MOV      R0,#+2048
   \   00000008   ........           BL       RCC_APB2PeriphResetCmd
    164            RCC_APB2PeriphResetCmd(RCC_APB2Periph_SDIO, DISABLE);
   \   0000000C   0021               MOVS     R1,#+0
   \   0000000E   4FF40060           MOV      R0,#+2048
   \   00000012   ........           BL       RCC_APB2PeriphResetCmd
    165          }
   \   00000016   01BD               POP      {R0,PC}          ;; return
    166          
    167          /**
    168            * @brief  Initializes the SDIO peripheral according to the specified 
    169            *   parameters in the SDIO_InitStruct.
    170            * @param  SDIO_InitStruct : pointer to a SDIO_InitTypeDef structure 
    171            *   that contains the configuration information for the SDIO peripheral.
    172            * @retval None
    173            */

   \                                 In section .text, align 2, keep-with-next
    174          void SDIO_Init(SDIO_InitTypeDef* SDIO_InitStruct)
    175          {
    176            uint32_t tmpreg = 0;
   \                     SDIO_Init:
   \   00000000   0021               MOVS     R1,#+0
    177              
    178            /* Check the parameters */
    179            assert_param(IS_SDIO_CLOCK_EDGE(SDIO_InitStruct->SDIO_ClockEdge));
    180            assert_param(IS_SDIO_CLOCK_BYPASS(SDIO_InitStruct->SDIO_ClockBypass));
    181            assert_param(IS_SDIO_CLOCK_POWER_SAVE(SDIO_InitStruct->SDIO_ClockPowerSave));
    182            assert_param(IS_SDIO_BUS_WIDE(SDIO_InitStruct->SDIO_BusWide));
    183            assert_param(IS_SDIO_HARDWARE_FLOW_CONTROL(SDIO_InitStruct->SDIO_HardwareFlowControl)); 
    184             
    185          /*---------------------------- SDIO CLKCR Configuration ------------------------*/  
    186            /* Get the SDIO CLKCR value */
    187            tmpreg = SDIO->CLKCR;
   \   00000002   ....               LDR.N    R2,??DataTable25  ;; 0x40012c04
   \   00000004   1268               LDR      R2,[R2, #+0]
   \   00000006   1100               MOVS     R1,R2
    188            
    189            /* Clear CLKDIV, PWRSAV, BYPASS, WIDBUS, NEGEDGE, HWFC_EN bits */
    190            tmpreg &= CLKCR_CLEAR_MASK;
   \   00000008   ....               LDR.N    R2,??DataTable25_1  ;; 0xffff8100
   \   0000000A   1140               ANDS     R1,R2,R1
    191            
    192            /* Set CLKDIV bits according to SDIO_ClockDiv value */
    193            /* Set PWRSAV bit according to SDIO_ClockPowerSave value */
    194            /* Set BYPASS bit according to SDIO_ClockBypass value */
    195            /* Set WIDBUS bits according to SDIO_BusWide value */
    196            /* Set NEGEDGE bits according to SDIO_ClockEdge value */
    197            /* Set HWFC_EN bits according to SDIO_HardwareFlowControl value */
    198            tmpreg |= (SDIO_InitStruct->SDIO_ClockDiv  | SDIO_InitStruct->SDIO_ClockPowerSave |
    199                       SDIO_InitStruct->SDIO_ClockBypass | SDIO_InitStruct->SDIO_BusWide |
    200                       SDIO_InitStruct->SDIO_ClockEdge | SDIO_InitStruct->SDIO_HardwareFlowControl); 
   \   0000000C   027D               LDRB     R2,[R0, #+20]
   \   0000000E   8368               LDR      R3,[R0, #+8]
   \   00000010   1A43               ORRS     R2,R3,R2
   \   00000012   4368               LDR      R3,[R0, #+4]
   \   00000014   1A43               ORRS     R2,R3,R2
   \   00000016   C368               LDR      R3,[R0, #+12]
   \   00000018   1A43               ORRS     R2,R3,R2
   \   0000001A   0368               LDR      R3,[R0, #+0]
   \   0000001C   1A43               ORRS     R2,R3,R2
   \   0000001E   0069               LDR      R0,[R0, #+16]
   \   00000020   1043               ORRS     R0,R0,R2
   \   00000022   0143               ORRS     R1,R0,R1
    201            
    202            /* Write to SDIO CLKCR */
    203            SDIO->CLKCR = tmpreg;
   \   00000024   ....               LDR.N    R0,??DataTable25  ;; 0x40012c04
   \   00000026   0160               STR      R1,[R0, #+0]
    204          }
   \   00000028   7047               BX       LR               ;; return
    205          
    206          /**
    207            * @brief  Fills each SDIO_InitStruct member with its default value.
    208            * @param  SDIO_InitStruct: pointer to an SDIO_InitTypeDef structure which 
    209            *   will be initialized.
    210            * @retval None
    211            */

   \                                 In section .text, align 2, keep-with-next
    212          void SDIO_StructInit(SDIO_InitTypeDef* SDIO_InitStruct)
    213          {
    214            /* SDIO_InitStruct members default value */
    215            SDIO_InitStruct->SDIO_ClockDiv = 0x00;
   \                     SDIO_StructInit:
   \   00000000   0021               MOVS     R1,#+0
   \   00000002   0175               STRB     R1,[R0, #+20]
    216            SDIO_InitStruct->SDIO_ClockEdge = SDIO_ClockEdge_Rising;
   \   00000004   0021               MOVS     R1,#+0
   \   00000006   0160               STR      R1,[R0, #+0]
    217            SDIO_InitStruct->SDIO_ClockBypass = SDIO_ClockBypass_Disable;
   \   00000008   0021               MOVS     R1,#+0
   \   0000000A   4160               STR      R1,[R0, #+4]
    218            SDIO_InitStruct->SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
   \   0000000C   0021               MOVS     R1,#+0
   \   0000000E   8160               STR      R1,[R0, #+8]
    219            SDIO_InitStruct->SDIO_BusWide = SDIO_BusWide_1b;
   \   00000010   0021               MOVS     R1,#+0
   \   00000012   C160               STR      R1,[R0, #+12]
    220            SDIO_InitStruct->SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
   \   00000014   0021               MOVS     R1,#+0
   \   00000016   0161               STR      R1,[R0, #+16]
    221          }
   \   00000018   7047               BX       LR               ;; return
    222          
    223          /**
    224            * @brief  Enables or disables the SDIO Clock.
    225            * @param  NewState: new state of the SDIO Clock. This parameter can be: ENABLE or DISABLE.
    226            * @retval None
    227            */

   \                                 In section .text, align 2, keep-with-next
    228          void SDIO_ClockCmd(FunctionalState NewState)
    229          {
    230            /* Check the parameters */
    231            assert_param(IS_FUNCTIONAL_STATE(NewState));
    232            
    233            *(__IO uint32_t *) CLKCR_CLKEN_BB = (uint32_t)NewState;
   \                     SDIO_ClockCmd:
   \   00000000   ....               LDR.N    R1,??DataTable25_2  ;; 0x422580a0
   \   00000002   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   0860               STR      R0,[R1, #+0]
    234          }
   \   00000006   7047               BX       LR               ;; return
    235          
    236          /**
    237            * @brief  Sets the power status of the controller.
    238            * @param  SDIO_PowerState: new state of the Power state. 
    239            *   This parameter can be one of the following values:
    240            *     @arg SDIO_PowerState_OFF
    241            *     @arg SDIO_PowerState_ON
    242            * @retval None
    243            */

   \                                 In section .text, align 2, keep-with-next
    244          void SDIO_SetPowerState(uint32_t SDIO_PowerState)
    245          {
    246            /* Check the parameters */
    247            assert_param(IS_SDIO_POWER_STATE(SDIO_PowerState));
    248            
    249            SDIO->POWER &= PWR_PWRCTRL_MASK;
   \                     SDIO_SetPowerState:
   \   00000000   ....               LDR.N    R1,??DataTable25_3  ;; 0x40012c00
   \   00000002   0968               LDR      R1,[R1, #+0]
   \   00000004   8908               LSRS     R1,R1,#+2
   \   00000006   8900               LSLS     R1,R1,#+2
   \   00000008   ....               LDR.N    R2,??DataTable25_3  ;; 0x40012c00
   \   0000000A   1160               STR      R1,[R2, #+0]
    250            SDIO->POWER |= SDIO_PowerState;
   \   0000000C   ....               LDR.N    R1,??DataTable25_3  ;; 0x40012c00
   \   0000000E   0968               LDR      R1,[R1, #+0]
   \   00000010   0843               ORRS     R0,R0,R1
   \   00000012   ....               LDR.N    R1,??DataTable25_3  ;; 0x40012c00
   \   00000014   0860               STR      R0,[R1, #+0]
    251          }
   \   00000016   7047               BX       LR               ;; return
    252          
    253          /**
    254            * @brief  Gets the power status of the controller.
    255            * @param  None
    256            * @retval Power status of the controller. The returned value can
    257            *   be one of the following:
    258            * - 0x00: Power OFF
    259            * - 0x02: Power UP
    260            * - 0x03: Power ON 
    261            */

   \                                 In section .text, align 2, keep-with-next
    262          uint32_t SDIO_GetPowerState(void)
    263          {
    264            return (SDIO->POWER & (~PWR_PWRCTRL_MASK));
   \                     SDIO_GetPowerState:
   \   00000000   ....               LDR.N    R0,??DataTable25_3  ;; 0x40012c00
   \   00000002   0068               LDR      R0,[R0, #+0]
   \   00000004   10F00300           ANDS     R0,R0,#0x3
   \   00000008   7047               BX       LR               ;; return
    265          }
    266          
    267          /**
    268            * @brief  Enables or disables the SDIO interrupts.
    269            * @param  SDIO_IT: specifies the SDIO interrupt sources to be enabled or disabled.
    270            *   This parameter can be one or a combination of the following values:
    271            *     @arg SDIO_IT_CCRCFAIL: Command response received (CRC check failed) interrupt
    272            *     @arg SDIO_IT_DCRCFAIL: Data block sent/received (CRC check failed) interrupt
    273            *     @arg SDIO_IT_CTIMEOUT: Command response timeout interrupt
    274            *     @arg SDIO_IT_DTIMEOUT: Data timeout interrupt
    275            *     @arg SDIO_IT_TXUNDERR: Transmit FIFO underrun error interrupt
    276            *     @arg SDIO_IT_RXOVERR:  Received FIFO overrun error interrupt
    277            *     @arg SDIO_IT_CMDREND:  Command response received (CRC check passed) interrupt
    278            *     @arg SDIO_IT_CMDSENT:  Command sent (no response required) interrupt
    279            *     @arg SDIO_IT_DATAEND:  Data end (data counter, SDIDCOUNT, is zero) interrupt
    280            *     @arg SDIO_IT_STBITERR: Start bit not detected on all data signals in wide 
    281            *                            bus mode interrupt
    282            *     @arg SDIO_IT_DBCKEND:  Data block sent/received (CRC check passed) interrupt
    283            *     @arg SDIO_IT_CMDACT:   Command transfer in progress interrupt
    284            *     @arg SDIO_IT_TXACT:    Data transmit in progress interrupt
    285            *     @arg SDIO_IT_RXACT:    Data receive in progress interrupt
    286            *     @arg SDIO_IT_TXFIFOHE: Transmit FIFO Half Empty interrupt
    287            *     @arg SDIO_IT_RXFIFOHF: Receive FIFO Half Full interrupt
    288            *     @arg SDIO_IT_TXFIFOF:  Transmit FIFO full interrupt
    289            *     @arg SDIO_IT_RXFIFOF:  Receive FIFO full interrupt
    290            *     @arg SDIO_IT_TXFIFOE:  Transmit FIFO empty interrupt
    291            *     @arg SDIO_IT_RXFIFOE:  Receive FIFO empty interrupt
    292            *     @arg SDIO_IT_TXDAVL:   Data available in transmit FIFO interrupt
    293            *     @arg SDIO_IT_RXDAVL:   Data available in receive FIFO interrupt
    294            *     @arg SDIO_IT_SDIOIT:   SD I/O interrupt received interrupt
    295            *     @arg SDIO_IT_CEATAEND: CE-ATA command completion signal received for CMD61 interrupt
    296            * @param  NewState: new state of the specified SDIO interrupts.
    297            *   This parameter can be: ENABLE or DISABLE.
    298            * @retval None 
    299            */

   \                                 In section .text, align 2, keep-with-next
    300          void SDIO_ITConfig(uint32_t SDIO_IT, FunctionalState NewState)
    301          {
    302            /* Check the parameters */
    303            assert_param(IS_SDIO_IT(SDIO_IT));
    304            assert_param(IS_FUNCTIONAL_STATE(NewState));
    305            
    306            if (NewState != DISABLE)
   \                     SDIO_ITConfig:
   \   00000000   C9B2               UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   00000002   0029               CMP      R1,#+0
   \   00000004   05D0               BEQ.N    ??SDIO_ITConfig_0
    307            {
    308              /* Enable the SDIO interrupts */
    309              SDIO->MASK |= SDIO_IT;
   \   00000006   ....               LDR.N    R1,??DataTable25_4  ;; 0x40012c3c
   \   00000008   0968               LDR      R1,[R1, #+0]
   \   0000000A   0843               ORRS     R0,R0,R1
   \   0000000C   ....               LDR.N    R1,??DataTable25_4  ;; 0x40012c3c
   \   0000000E   0860               STR      R0,[R1, #+0]
   \   00000010   05E0               B.N      ??SDIO_ITConfig_1
    310            }
    311            else
    312            {
    313              /* Disable the SDIO interrupts */
    314              SDIO->MASK &= ~SDIO_IT;
   \                     ??SDIO_ITConfig_0:
   \   00000012   ....               LDR.N    R1,??DataTable25_4  ;; 0x40012c3c
   \   00000014   0968               LDR      R1,[R1, #+0]
   \   00000016   31EA0000           BICS     R0,R1,R0
   \   0000001A   ....               LDR.N    R1,??DataTable25_4  ;; 0x40012c3c
   \   0000001C   0860               STR      R0,[R1, #+0]
    315            } 
    316          }
   \                     ??SDIO_ITConfig_1:
   \   0000001E   7047               BX       LR               ;; return
    317          
    318          /**
    319            * @brief  Enables or disables the SDIO DMA request.
    320            * @param  NewState: new state of the selected SDIO DMA request.
    321            *   This parameter can be: ENABLE or DISABLE.
    322            * @retval None
    323            */

   \                                 In section .text, align 2, keep-with-next
    324          void SDIO_DMACmd(FunctionalState NewState)
    325          {
    326            /* Check the parameters */
    327            assert_param(IS_FUNCTIONAL_STATE(NewState));
    328            
    329            *(__IO uint32_t *) DCTRL_DMAEN_BB = (uint32_t)NewState;
   \                     SDIO_DMACmd:
   \   00000000   ....               LDR.N    R1,??DataTable25_5  ;; 0x4225858c
   \   00000002   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   0860               STR      R0,[R1, #+0]
    330          }
   \   00000006   7047               BX       LR               ;; return
    331          
    332          /**
    333            * @brief  Initializes the SDIO Command according to the specified 
    334            *   parameters in the SDIO_CmdInitStruct and send the command.
    335            * @param  SDIO_CmdInitStruct : pointer to a SDIO_CmdInitTypeDef 
    336            *   structure that contains the configuration information for the SDIO command.
    337            * @retval None
    338            */

   \                                 In section .text, align 2, keep-with-next
    339          void SDIO_SendCommand(SDIO_CmdInitTypeDef *SDIO_CmdInitStruct)
    340          {
    341            uint32_t tmpreg = 0;
   \                     SDIO_SendCommand:
   \   00000000   0021               MOVS     R1,#+0
    342            
    343            /* Check the parameters */
    344            assert_param(IS_SDIO_CMD_INDEX(SDIO_CmdInitStruct->SDIO_CmdIndex));
    345            assert_param(IS_SDIO_RESPONSE(SDIO_CmdInitStruct->SDIO_Response));
    346            assert_param(IS_SDIO_WAIT(SDIO_CmdInitStruct->SDIO_Wait));
    347            assert_param(IS_SDIO_CPSM(SDIO_CmdInitStruct->SDIO_CPSM));
    348            
    349          /*---------------------------- SDIO ARG Configuration ------------------------*/
    350            /* Set the SDIO Argument value */
    351            SDIO->ARG = SDIO_CmdInitStruct->SDIO_Argument;
   \   00000002   ....               LDR.N    R2,??DataTable25_6  ;; 0x40012c08
   \   00000004   0368               LDR      R3,[R0, #+0]
   \   00000006   1360               STR      R3,[R2, #+0]
    352            
    353          /*---------------------------- SDIO CMD Configuration ------------------------*/  
    354            /* Get the SDIO CMD value */
    355            tmpreg = SDIO->CMD;
   \   00000008   ....               LDR.N    R2,??DataTable25_7  ;; 0x40012c0c
   \   0000000A   1268               LDR      R2,[R2, #+0]
   \   0000000C   1100               MOVS     R1,R2
    356            /* Clear CMDINDEX, WAITRESP, WAITINT, WAITPEND, CPSMEN bits */
    357            tmpreg &= CMD_CLEAR_MASK;
   \   0000000E   C90A               LSRS     R1,R1,#+11
   \   00000010   C902               LSLS     R1,R1,#+11
    358            /* Set CMDINDEX bits according to SDIO_CmdIndex value */
    359            /* Set WAITRESP bits according to SDIO_Response value */
    360            /* Set WAITINT and WAITPEND bits according to SDIO_Wait value */
    361            /* Set CPSMEN bits according to SDIO_CPSM value */
    362            tmpreg |= (uint32_t)SDIO_CmdInitStruct->SDIO_CmdIndex | SDIO_CmdInitStruct->SDIO_Response
    363                     | SDIO_CmdInitStruct->SDIO_Wait | SDIO_CmdInitStruct->SDIO_CPSM;
   \   00000012   4268               LDR      R2,[R0, #+4]
   \   00000014   8368               LDR      R3,[R0, #+8]
   \   00000016   1A43               ORRS     R2,R3,R2
   \   00000018   C368               LDR      R3,[R0, #+12]
   \   0000001A   1A43               ORRS     R2,R3,R2
   \   0000001C   0069               LDR      R0,[R0, #+16]
   \   0000001E   1043               ORRS     R0,R0,R2
   \   00000020   0143               ORRS     R1,R0,R1
    364            
    365            /* Write to SDIO CMD */
    366            SDIO->CMD = tmpreg;
   \   00000022   ....               LDR.N    R0,??DataTable25_7  ;; 0x40012c0c
   \   00000024   0160               STR      R1,[R0, #+0]
    367          }
   \   00000026   7047               BX       LR               ;; return
    368          
    369          /**
    370            * @brief  Fills each SDIO_CmdInitStruct member with its default value.
    371            * @param  SDIO_CmdInitStruct: pointer to an SDIO_CmdInitTypeDef 
    372            *   structure which will be initialized.
    373            * @retval None
    374            */

   \                                 In section .text, align 2, keep-with-next
    375          void SDIO_CmdStructInit(SDIO_CmdInitTypeDef* SDIO_CmdInitStruct)
    376          {
    377            /* SDIO_CmdInitStruct members default value */
    378            SDIO_CmdInitStruct->SDIO_Argument = 0x00;
   \                     SDIO_CmdStructInit:
   \   00000000   0021               MOVS     R1,#+0
   \   00000002   0160               STR      R1,[R0, #+0]
    379            SDIO_CmdInitStruct->SDIO_CmdIndex = 0x00;
   \   00000004   0021               MOVS     R1,#+0
   \   00000006   4160               STR      R1,[R0, #+4]
    380            SDIO_CmdInitStruct->SDIO_Response = SDIO_Response_No;
   \   00000008   0021               MOVS     R1,#+0
   \   0000000A   8160               STR      R1,[R0, #+8]
    381            SDIO_CmdInitStruct->SDIO_Wait = SDIO_Wait_No;
   \   0000000C   0021               MOVS     R1,#+0
   \   0000000E   C160               STR      R1,[R0, #+12]
    382            SDIO_CmdInitStruct->SDIO_CPSM = SDIO_CPSM_Disable;
   \   00000010   0021               MOVS     R1,#+0
   \   00000012   0161               STR      R1,[R0, #+16]
    383          }
   \   00000014   7047               BX       LR               ;; return
    384          
    385          /**
    386            * @brief  Returns command index of last command for which response received.
    387            * @param  None
    388            * @retval Returns the command index of the last command response received.
    389            */

   \                                 In section .text, align 2, keep-with-next
    390          uint8_t SDIO_GetCommandResponse(void)
    391          {
    392            return (uint8_t)(SDIO->RESPCMD);
   \                     SDIO_GetCommandResponse:
   \   00000000   ....               LDR.N    R0,??DataTable25_8  ;; 0x40012c10
   \   00000002   0068               LDR      R0,[R0, #+0]
   \   00000004   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000006   7047               BX       LR               ;; return
    393          }
    394          
    395          /**
    396            * @brief  Returns response received from the card for the last command.
    397            * @param  SDIO_RESP: Specifies the SDIO response register. 
    398            *   This parameter can be one of the following values:
    399            *     @arg SDIO_RESP1: Response Register 1
    400            *     @arg SDIO_RESP2: Response Register 2
    401            *     @arg SDIO_RESP3: Response Register 3
    402            *     @arg SDIO_RESP4: Response Register 4
    403            * @retval The Corresponding response register value.
    404            */

   \                                 In section .text, align 2, keep-with-next
    405          uint32_t SDIO_GetResponse(uint32_t SDIO_RESP)
    406          {
   \                     SDIO_GetResponse:
   \   00000000   81B0               SUB      SP,SP,#+4
    407            __IO uint32_t tmp = 0;
   \   00000002   0021               MOVS     R1,#+0
   \   00000004   0091               STR      R1,[SP, #+0]
    408          
    409            /* Check the parameters */
    410            assert_param(IS_SDIO_RESP(SDIO_RESP));
    411          
    412            tmp = SDIO_RESP_ADDR + SDIO_RESP;
   \   00000006   ....               LDR.N    R1,??DataTable25_9  ;; 0x40012c14
   \   00000008   0818               ADDS     R0,R1,R0
   \   0000000A   0090               STR      R0,[SP, #+0]
    413            
    414            return (*(__IO uint32_t *) tmp); 
   \   0000000C   0098               LDR      R0,[SP, #+0]
   \   0000000E   0068               LDR      R0,[R0, #+0]
   \   00000010   01B0               ADD      SP,SP,#+4
   \   00000012   7047               BX       LR               ;; return
    415          }
    416          
    417          /**
    418            * @brief  Initializes the SDIO data path according to the specified 
    419            *   parameters in the SDIO_DataInitStruct.
    420            * @param  SDIO_DataInitStruct : pointer to a SDIO_DataInitTypeDef structure that
    421            *   contains the configuration information for the SDIO command.
    422            * @retval None
    423            */

   \                                 In section .text, align 2, keep-with-next
    424          void SDIO_DataConfig(SDIO_DataInitTypeDef* SDIO_DataInitStruct)
    425          {
    426            uint32_t tmpreg = 0;
   \                     SDIO_DataConfig:
   \   00000000   0021               MOVS     R1,#+0
    427            
    428            /* Check the parameters */
    429            assert_param(IS_SDIO_DATA_LENGTH(SDIO_DataInitStruct->SDIO_DataLength));
    430            assert_param(IS_SDIO_BLOCK_SIZE(SDIO_DataInitStruct->SDIO_DataBlockSize));
    431            assert_param(IS_SDIO_TRANSFER_DIR(SDIO_DataInitStruct->SDIO_TransferDir));
    432            assert_param(IS_SDIO_TRANSFER_MODE(SDIO_DataInitStruct->SDIO_TransferMode));
    433            assert_param(IS_SDIO_DPSM(SDIO_DataInitStruct->SDIO_DPSM));
    434          
    435          /*---------------------------- SDIO DTIMER Configuration ---------------------*/
    436            /* Set the SDIO Data TimeOut value */
    437            SDIO->DTIMER = SDIO_DataInitStruct->SDIO_DataTimeOut;
   \   00000002   ....               LDR.N    R2,??DataTable25_10  ;; 0x40012c24
   \   00000004   0368               LDR      R3,[R0, #+0]
   \   00000006   1360               STR      R3,[R2, #+0]
    438          
    439          /*---------------------------- SDIO DLEN Configuration -----------------------*/
    440            /* Set the SDIO DataLength value */
    441            SDIO->DLEN = SDIO_DataInitStruct->SDIO_DataLength;
   \   00000008   4268               LDR      R2,[R0, #+4]
   \   0000000A   ....               LDR.N    R3,??DataTable25_11  ;; 0x40012c28
   \   0000000C   1A60               STR      R2,[R3, #+0]
    442          
    443          /*---------------------------- SDIO DCTRL Configuration ----------------------*/  
    444            /* Get the SDIO DCTRL value */
    445            tmpreg = SDIO->DCTRL;
   \   0000000E   ....               LDR.N    R2,??DataTable25_12  ;; 0x40012c2c
   \   00000010   1268               LDR      R2,[R2, #+0]
   \   00000012   1100               MOVS     R1,R2
    446            /* Clear DEN, DTMODE, DTDIR and DBCKSIZE bits */
    447            tmpreg &= DCTRL_CLEAR_MASK;
   \   00000014   31F0F701           BICS     R1,R1,#0xF7
    448            /* Set DEN bit according to SDIO_DPSM value */
    449            /* Set DTMODE bit according to SDIO_TransferMode value */
    450            /* Set DTDIR bit according to SDIO_TransferDir value */
    451            /* Set DBCKSIZE bits according to SDIO_DataBlockSize value */
    452            tmpreg |= (uint32_t)SDIO_DataInitStruct->SDIO_DataBlockSize | SDIO_DataInitStruct->SDIO_TransferDir
    453                     | SDIO_DataInitStruct->SDIO_TransferMode | SDIO_DataInitStruct->SDIO_DPSM;
   \   00000018   8268               LDR      R2,[R0, #+8]
   \   0000001A   C368               LDR      R3,[R0, #+12]
   \   0000001C   1A43               ORRS     R2,R3,R2
   \   0000001E   0369               LDR      R3,[R0, #+16]
   \   00000020   1A43               ORRS     R2,R3,R2
   \   00000022   4069               LDR      R0,[R0, #+20]
   \   00000024   1043               ORRS     R0,R0,R2
   \   00000026   0143               ORRS     R1,R0,R1
    454          
    455            /* Write to SDIO DCTRL */
    456            SDIO->DCTRL = tmpreg;
   \   00000028   ....               LDR.N    R0,??DataTable25_12  ;; 0x40012c2c
   \   0000002A   0160               STR      R1,[R0, #+0]
    457          }
   \   0000002C   7047               BX       LR               ;; return
    458          
    459          /**
    460            * @brief  Fills each SDIO_DataInitStruct member with its default value.
    461            * @param  SDIO_DataInitStruct: pointer to an SDIO_DataInitTypeDef structure which
    462            *   will be initialized.
    463            * @retval None
    464            */

   \                                 In section .text, align 2, keep-with-next
    465          void SDIO_DataStructInit(SDIO_DataInitTypeDef* SDIO_DataInitStruct)
    466          {
    467            /* SDIO_DataInitStruct members default value */
    468            SDIO_DataInitStruct->SDIO_DataTimeOut = 0xFFFFFFFF;
   \                     SDIO_DataStructInit:
   \   00000000   5FF0FF31           MOVS     R1,#-1
   \   00000004   0160               STR      R1,[R0, #+0]
    469            SDIO_DataInitStruct->SDIO_DataLength = 0x00;
   \   00000006   0021               MOVS     R1,#+0
   \   00000008   4160               STR      R1,[R0, #+4]
    470            SDIO_DataInitStruct->SDIO_DataBlockSize = SDIO_DataBlockSize_1b;
   \   0000000A   0021               MOVS     R1,#+0
   \   0000000C   8160               STR      R1,[R0, #+8]
    471            SDIO_DataInitStruct->SDIO_TransferDir = SDIO_TransferDir_ToCard;
   \   0000000E   0021               MOVS     R1,#+0
   \   00000010   C160               STR      R1,[R0, #+12]
    472            SDIO_DataInitStruct->SDIO_TransferMode = SDIO_TransferMode_Block;  
   \   00000012   0021               MOVS     R1,#+0
   \   00000014   0161               STR      R1,[R0, #+16]
    473            SDIO_DataInitStruct->SDIO_DPSM = SDIO_DPSM_Disable;
   \   00000016   0021               MOVS     R1,#+0
   \   00000018   4161               STR      R1,[R0, #+20]
    474          }
   \   0000001A   7047               BX       LR               ;; return
    475          
    476          /**
    477            * @brief  Returns number of remaining data bytes to be transferred.
    478            * @param  None
    479            * @retval Number of remaining data bytes to be transferred
    480            */

   \                                 In section .text, align 2, keep-with-next
    481          uint32_t SDIO_GetDataCounter(void)
    482          { 
    483            return SDIO->DCOUNT;
   \                     SDIO_GetDataCounter:
   \   00000000   ....               LDR.N    R0,??DataTable25_13  ;; 0x40012c30
   \   00000002   0068               LDR      R0,[R0, #+0]
   \   00000004   7047               BX       LR               ;; return
    484          }
    485          
    486          /**
    487            * @brief  Read one data word from Rx FIFO.
    488            * @param  None
    489            * @retval Data received
    490            */

   \                                 In section .text, align 2, keep-with-next
    491          uint32_t SDIO_ReadData(void)
    492          { 
    493            return SDIO->FIFO;
   \                     SDIO_ReadData:
   \   00000000   ....               LDR.N    R0,??DataTable25_14  ;; 0x40012c80
   \   00000002   0068               LDR      R0,[R0, #+0]
   \   00000004   7047               BX       LR               ;; return
    494          }
    495          
    496          /**
    497            * @brief  Write one data word to Tx FIFO.
    498            * @param  Data: 32-bit data word to write.
    499            * @retval None
    500            */

   \                                 In section .text, align 2, keep-with-next
    501          void SDIO_WriteData(uint32_t Data)
    502          { 
    503            SDIO->FIFO = Data;
   \                     SDIO_WriteData:
   \   00000000   ....               LDR.N    R1,??DataTable25_14  ;; 0x40012c80
   \   00000002   0860               STR      R0,[R1, #+0]
    504          }
   \   00000004   7047               BX       LR               ;; return
    505          
    506          /**
    507            * @brief  Returns the number of words left to be written to or read from FIFO.	
    508            * @param  None
    509            * @retval Remaining number of words.
    510            */

   \                                 In section .text, align 2, keep-with-next
    511          uint32_t SDIO_GetFIFOCount(void)
    512          { 
    513            return SDIO->FIFOCNT;
   \                     SDIO_GetFIFOCount:
   \   00000000   ....               LDR.N    R0,??DataTable25_15  ;; 0x40012c48
   \   00000002   0068               LDR      R0,[R0, #+0]
   \   00000004   7047               BX       LR               ;; return
    514          }
    515          
    516          /**
    517            * @brief  Starts the SD I/O Read Wait operation.	
    518            * @param  NewState: new state of the Start SDIO Read Wait operation. 
    519            *   This parameter can be: ENABLE or DISABLE.
    520            * @retval None
    521            */

   \                                 In section .text, align 2, keep-with-next
    522          void SDIO_StartSDIOReadWait(FunctionalState NewState)
    523          { 
    524            /* Check the parameters */
    525            assert_param(IS_FUNCTIONAL_STATE(NewState));
    526            
    527            *(__IO uint32_t *) DCTRL_RWSTART_BB = (uint32_t) NewState;
   \                     SDIO_StartSDIOReadWait:
   \   00000000   ....               LDR.N    R1,??DataTable25_16  ;; 0x422585a0
   \   00000002   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   0860               STR      R0,[R1, #+0]
    528          }
   \   00000006   7047               BX       LR               ;; return
    529          
    530          /**
    531            * @brief  Stops the SD I/O Read Wait operation.	
    532            * @param  NewState: new state of the Stop SDIO Read Wait operation. 
    533            *   This parameter can be: ENABLE or DISABLE.
    534            * @retval None
    535            */

   \                                 In section .text, align 2, keep-with-next
    536          void SDIO_StopSDIOReadWait(FunctionalState NewState)
    537          { 
    538            /* Check the parameters */
    539            assert_param(IS_FUNCTIONAL_STATE(NewState));
    540            
    541            *(__IO uint32_t *) DCTRL_RWSTOP_BB = (uint32_t) NewState;
   \                     SDIO_StopSDIOReadWait:
   \   00000000   ....               LDR.N    R1,??DataTable25_17  ;; 0x422585a4
   \   00000002   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   0860               STR      R0,[R1, #+0]
    542          }
   \   00000006   7047               BX       LR               ;; return
    543          
    544          /**
    545            * @brief  Sets one of the two options of inserting read wait interval.
    546            * @param  SDIO_ReadWaitMode: SD I/O Read Wait operation mode.
    547            *   This parametre can be:
    548            *     @arg SDIO_ReadWaitMode_CLK: Read Wait control by stopping SDIOCLK
    549            *     @arg SDIO_ReadWaitMode_DATA2: Read Wait control using SDIO_DATA2
    550            * @retval None
    551            */

   \                                 In section .text, align 2, keep-with-next
    552          void SDIO_SetSDIOReadWaitMode(uint32_t SDIO_ReadWaitMode)
    553          {
    554            /* Check the parameters */
    555            assert_param(IS_SDIO_READWAIT_MODE(SDIO_ReadWaitMode));
    556            
    557            *(__IO uint32_t *) DCTRL_RWMOD_BB = SDIO_ReadWaitMode;
   \                     SDIO_SetSDIOReadWaitMode:
   \   00000000   ....               LDR.N    R1,??DataTable25_18  ;; 0x422585a8
   \   00000002   0860               STR      R0,[R1, #+0]
    558          }
   \   00000004   7047               BX       LR               ;; return
    559          
    560          /**
    561            * @brief  Enables or disables the SD I/O Mode Operation.
    562            * @param  NewState: new state of SDIO specific operation. 
    563            *   This parameter can be: ENABLE or DISABLE.
    564            * @retval None
    565            */

   \                                 In section .text, align 2, keep-with-next
    566          void SDIO_SetSDIOOperation(FunctionalState NewState)
    567          { 
    568            /* Check the parameters */
    569            assert_param(IS_FUNCTIONAL_STATE(NewState));
    570            
    571            *(__IO uint32_t *) DCTRL_SDIOEN_BB = (uint32_t)NewState;
   \                     SDIO_SetSDIOOperation:
   \   00000000   ....               LDR.N    R1,??DataTable25_19  ;; 0x422585ac
   \   00000002   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   0860               STR      R0,[R1, #+0]
    572          }
   \   00000006   7047               BX       LR               ;; return
    573          
    574          /**
    575            * @brief  Enables or disables the SD I/O Mode suspend command sending.
    576            * @param  NewState: new state of the SD I/O Mode suspend command.
    577            *   This parameter can be: ENABLE or DISABLE.
    578            * @retval None
    579            */

   \                                 In section .text, align 2, keep-with-next
    580          void SDIO_SendSDIOSuspendCmd(FunctionalState NewState)
    581          { 
    582            /* Check the parameters */
    583            assert_param(IS_FUNCTIONAL_STATE(NewState));
    584            
    585            *(__IO uint32_t *) CMD_SDIOSUSPEND_BB = (uint32_t)NewState;
   \                     SDIO_SendSDIOSuspendCmd:
   \   00000000   ....               LDR.N    R1,??DataTable25_20  ;; 0x422581ac
   \   00000002   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   0860               STR      R0,[R1, #+0]
    586          }
   \   00000006   7047               BX       LR               ;; return
    587          
    588          /**
    589            * @brief  Enables or disables the command completion signal.
    590            * @param  NewState: new state of command completion signal. 
    591            *   This parameter can be: ENABLE or DISABLE.
    592            * @retval None
    593            */

   \                                 In section .text, align 2, keep-with-next
    594          void SDIO_CommandCompletionCmd(FunctionalState NewState)
    595          { 
    596            /* Check the parameters */
    597            assert_param(IS_FUNCTIONAL_STATE(NewState));
    598            
    599            *(__IO uint32_t *) CMD_ENCMDCOMPL_BB = (uint32_t)NewState;
   \                     SDIO_CommandCompletionCmd:
   \   00000000   ....               LDR.N    R1,??DataTable25_21  ;; 0x422581b0
   \   00000002   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   0860               STR      R0,[R1, #+0]
    600          }
   \   00000006   7047               BX       LR               ;; return
    601          
    602          /**
    603            * @brief  Enables or disables the CE-ATA interrupt.
    604            * @param  NewState: new state of CE-ATA interrupt. This parameter can be: ENABLE or DISABLE.
    605            * @retval None
    606            */

   \                                 In section .text, align 2, keep-with-next
    607          void SDIO_CEATAITCmd(FunctionalState NewState)
    608          { 
    609            /* Check the parameters */
    610            assert_param(IS_FUNCTIONAL_STATE(NewState));
    611            
    612            *(__IO uint32_t *) CMD_NIEN_BB = (uint32_t)((~((uint32_t)NewState)) & ((uint32_t)0x1));
   \                     SDIO_CEATAITCmd:
   \   00000000   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000002   C043               MVNS     R0,R0
   \   00000004   10F00100           ANDS     R0,R0,#0x1
   \   00000008   ....               LDR.N    R1,??DataTable25_22  ;; 0x422581b4
   \   0000000A   0860               STR      R0,[R1, #+0]
    613          }
   \   0000000C   7047               BX       LR               ;; return
    614          
    615          /**
    616            * @brief  Sends CE-ATA command (CMD61).
    617            * @param  NewState: new state of CE-ATA command. This parameter can be: ENABLE or DISABLE.
    618            * @retval None
    619            */

   \                                 In section .text, align 2, keep-with-next
    620          void SDIO_SendCEATACmd(FunctionalState NewState)
    621          { 
    622            /* Check the parameters */
    623            assert_param(IS_FUNCTIONAL_STATE(NewState));
    624            
    625            *(__IO uint32_t *) CMD_ATACMD_BB = (uint32_t)NewState;
   \                     SDIO_SendCEATACmd:
   \   00000000   ....               LDR.N    R1,??DataTable25_23  ;; 0x422581b8
   \   00000002   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   0860               STR      R0,[R1, #+0]
    626          }
   \   00000006   7047               BX       LR               ;; return
    627          
    628          /**
    629            * @brief  Checks whether the specified SDIO flag is set or not.
    630            * @param  SDIO_FLAG: specifies the flag to check. 
    631            *   This parameter can be one of the following values:
    632            *     @arg SDIO_FLAG_CCRCFAIL: Command response received (CRC check failed)
    633            *     @arg SDIO_FLAG_DCRCFAIL: Data block sent/received (CRC check failed)
    634            *     @arg SDIO_FLAG_CTIMEOUT: Command response timeout
    635            *     @arg SDIO_FLAG_DTIMEOUT: Data timeout
    636            *     @arg SDIO_FLAG_TXUNDERR: Transmit FIFO underrun error
    637            *     @arg SDIO_FLAG_RXOVERR:  Received FIFO overrun error
    638            *     @arg SDIO_FLAG_CMDREND:  Command response received (CRC check passed)
    639            *     @arg SDIO_FLAG_CMDSENT:  Command sent (no response required)
    640            *     @arg SDIO_FLAG_DATAEND:  Data end (data counter, SDIDCOUNT, is zero)
    641            *     @arg SDIO_FLAG_STBITERR: Start bit not detected on all data signals in wide 
    642            *                              bus mode.
    643            *     @arg SDIO_FLAG_DBCKEND:  Data block sent/received (CRC check passed)
    644            *     @arg SDIO_FLAG_CMDACT:   Command transfer in progress
    645            *     @arg SDIO_FLAG_TXACT:    Data transmit in progress
    646            *     @arg SDIO_FLAG_RXACT:    Data receive in progress
    647            *     @arg SDIO_FLAG_TXFIFOHE: Transmit FIFO Half Empty
    648            *     @arg SDIO_FLAG_RXFIFOHF: Receive FIFO Half Full
    649            *     @arg SDIO_FLAG_TXFIFOF:  Transmit FIFO full
    650            *     @arg SDIO_FLAG_RXFIFOF:  Receive FIFO full
    651            *     @arg SDIO_FLAG_TXFIFOE:  Transmit FIFO empty
    652            *     @arg SDIO_FLAG_RXFIFOE:  Receive FIFO empty
    653            *     @arg SDIO_FLAG_TXDAVL:   Data available in transmit FIFO
    654            *     @arg SDIO_FLAG_RXDAVL:   Data available in receive FIFO
    655            *     @arg SDIO_FLAG_SDIOIT:   SD I/O interrupt received
    656            *     @arg SDIO_FLAG_CEATAEND: CE-ATA command completion signal received for CMD61
    657            * @retval The new state of SDIO_FLAG (SET or RESET).
    658            */

   \                                 In section .text, align 2, keep-with-next
    659          FlagStatus SDIO_GetFlagStatus(uint32_t SDIO_FLAG)
    660          { 
    661            FlagStatus bitstatus = RESET;
   \                     SDIO_GetFlagStatus:
   \   00000000   0021               MOVS     R1,#+0
    662            
    663            /* Check the parameters */
    664            assert_param(IS_SDIO_FLAG(SDIO_FLAG));
    665            
    666            if ((SDIO->STA & SDIO_FLAG) != (uint32_t)RESET)
   \   00000002   ....               LDR.N    R2,??DataTable25_24  ;; 0x40012c34
   \   00000004   1268               LDR      R2,[R2, #+0]
   \   00000006   0242               TST      R2,R0
   \   00000008   01D0               BEQ.N    ??SDIO_GetFlagStatus_0
    667            {
    668              bitstatus = SET;
   \   0000000A   0121               MOVS     R1,#+1
   \   0000000C   00E0               B.N      ??SDIO_GetFlagStatus_1
    669            }
    670            else
    671            {
    672              bitstatus = RESET;
   \                     ??SDIO_GetFlagStatus_0:
   \   0000000E   0021               MOVS     R1,#+0
    673            }
    674            return bitstatus;
   \                     ??SDIO_GetFlagStatus_1:
   \   00000010   0800               MOVS     R0,R1
   \   00000012   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000014   7047               BX       LR               ;; return
    675          }
    676          
    677          /**
    678            * @brief  Clears the SDIO's pending flags.
    679            * @param  SDIO_FLAG: specifies the flag to clear.  
    680            *   This parameter can be one or a combination of the following values:
    681            *     @arg SDIO_FLAG_CCRCFAIL: Command response received (CRC check failed)
    682            *     @arg SDIO_FLAG_DCRCFAIL: Data block sent/received (CRC check failed)
    683            *     @arg SDIO_FLAG_CTIMEOUT: Command response timeout
    684            *     @arg SDIO_FLAG_DTIMEOUT: Data timeout
    685            *     @arg SDIO_FLAG_TXUNDERR: Transmit FIFO underrun error
    686            *     @arg SDIO_FLAG_RXOVERR:  Received FIFO overrun error
    687            *     @arg SDIO_FLAG_CMDREND:  Command response received (CRC check passed)
    688            *     @arg SDIO_FLAG_CMDSENT:  Command sent (no response required)
    689            *     @arg SDIO_FLAG_DATAEND:  Data end (data counter, SDIDCOUNT, is zero)
    690            *     @arg SDIO_FLAG_STBITERR: Start bit not detected on all data signals in wide 
    691            *                              bus mode
    692            *     @arg SDIO_FLAG_DBCKEND:  Data block sent/received (CRC check passed)
    693            *     @arg SDIO_FLAG_SDIOIT:   SD I/O interrupt received
    694            *     @arg SDIO_FLAG_CEATAEND: CE-ATA command completion signal received for CMD61
    695            * @retval None
    696            */

   \                                 In section .text, align 2, keep-with-next
    697          void SDIO_ClearFlag(uint32_t SDIO_FLAG)
    698          { 
    699            /* Check the parameters */
    700            assert_param(IS_SDIO_CLEAR_FLAG(SDIO_FLAG));
    701             
    702            SDIO->ICR = SDIO_FLAG;
   \                     SDIO_ClearFlag:
   \   00000000   ....               LDR.N    R1,??DataTable25_25  ;; 0x40012c38
   \   00000002   0860               STR      R0,[R1, #+0]
    703          }
   \   00000004   7047               BX       LR               ;; return
    704          
    705          /**
    706            * @brief  Checks whether the specified SDIO interrupt has occurred or not.
    707            * @param  SDIO_IT: specifies the SDIO interrupt source to check. 
    708            *   This parameter can be one of the following values:
    709            *     @arg SDIO_IT_CCRCFAIL: Command response received (CRC check failed) interrupt
    710            *     @arg SDIO_IT_DCRCFAIL: Data block sent/received (CRC check failed) interrupt
    711            *     @arg SDIO_IT_CTIMEOUT: Command response timeout interrupt
    712            *     @arg SDIO_IT_DTIMEOUT: Data timeout interrupt
    713            *     @arg SDIO_IT_TXUNDERR: Transmit FIFO underrun error interrupt
    714            *     @arg SDIO_IT_RXOVERR:  Received FIFO overrun error interrupt
    715            *     @arg SDIO_IT_CMDREND:  Command response received (CRC check passed) interrupt
    716            *     @arg SDIO_IT_CMDSENT:  Command sent (no response required) interrupt
    717            *     @arg SDIO_IT_DATAEND:  Data end (data counter, SDIDCOUNT, is zero) interrupt
    718            *     @arg SDIO_IT_STBITERR: Start bit not detected on all data signals in wide 
    719            *                            bus mode interrupt
    720            *     @arg SDIO_IT_DBCKEND:  Data block sent/received (CRC check passed) interrupt
    721            *     @arg SDIO_IT_CMDACT:   Command transfer in progress interrupt
    722            *     @arg SDIO_IT_TXACT:    Data transmit in progress interrupt
    723            *     @arg SDIO_IT_RXACT:    Data receive in progress interrupt
    724            *     @arg SDIO_IT_TXFIFOHE: Transmit FIFO Half Empty interrupt
    725            *     @arg SDIO_IT_RXFIFOHF: Receive FIFO Half Full interrupt
    726            *     @arg SDIO_IT_TXFIFOF:  Transmit FIFO full interrupt
    727            *     @arg SDIO_IT_RXFIFOF:  Receive FIFO full interrupt
    728            *     @arg SDIO_IT_TXFIFOE:  Transmit FIFO empty interrupt
    729            *     @arg SDIO_IT_RXFIFOE:  Receive FIFO empty interrupt
    730            *     @arg SDIO_IT_TXDAVL:   Data available in transmit FIFO interrupt
    731            *     @arg SDIO_IT_RXDAVL:   Data available in receive FIFO interrupt
    732            *     @arg SDIO_IT_SDIOIT:   SD I/O interrupt received interrupt
    733            *     @arg SDIO_IT_CEATAEND: CE-ATA command completion signal received for CMD61 interrupt
    734            * @retval The new state of SDIO_IT (SET or RESET).
    735            */

   \                                 In section .text, align 2, keep-with-next
    736          ITStatus SDIO_GetITStatus(uint32_t SDIO_IT)
    737          { 
    738            ITStatus bitstatus = RESET;
   \                     SDIO_GetITStatus:
   \   00000000   0021               MOVS     R1,#+0
    739            
    740            /* Check the parameters */
    741            assert_param(IS_SDIO_GET_IT(SDIO_IT));
    742            if ((SDIO->STA & SDIO_IT) != (uint32_t)RESET)  
   \   00000002   ....               LDR.N    R2,??DataTable25_24  ;; 0x40012c34
   \   00000004   1268               LDR      R2,[R2, #+0]
   \   00000006   0242               TST      R2,R0
   \   00000008   01D0               BEQ.N    ??SDIO_GetITStatus_0
    743            {
    744              bitstatus = SET;
   \   0000000A   0121               MOVS     R1,#+1
   \   0000000C   00E0               B.N      ??SDIO_GetITStatus_1
    745            }
    746            else
    747            {
    748              bitstatus = RESET;
   \                     ??SDIO_GetITStatus_0:
   \   0000000E   0021               MOVS     R1,#+0
    749            }
    750            return bitstatus;
   \                     ??SDIO_GetITStatus_1:
   \   00000010   0800               MOVS     R0,R1
   \   00000012   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000014   7047               BX       LR               ;; return
    751          }
    752          
    753          /**
    754            * @brief  Clears the SDIOs interrupt pending bits.
    755            * @param  SDIO_IT: specifies the interrupt pending bit to clear. 
    756            *   This parameter can be one or a combination of the following values:
    757            *     @arg SDIO_IT_CCRCFAIL: Command response received (CRC check failed) interrupt
    758            *     @arg SDIO_IT_DCRCFAIL: Data block sent/received (CRC check failed) interrupt
    759            *     @arg SDIO_IT_CTIMEOUT: Command response timeout interrupt
    760            *     @arg SDIO_IT_DTIMEOUT: Data timeout interrupt
    761            *     @arg SDIO_IT_TXUNDERR: Transmit FIFO underrun error interrupt
    762            *     @arg SDIO_IT_RXOVERR:  Received FIFO overrun error interrupt
    763            *     @arg SDIO_IT_CMDREND:  Command response received (CRC check passed) interrupt
    764            *     @arg SDIO_IT_CMDSENT:  Command sent (no response required) interrupt
    765            *     @arg SDIO_IT_DATAEND:  Data end (data counter, SDIDCOUNT, is zero) interrupt
    766            *     @arg SDIO_IT_STBITERR: Start bit not detected on all data signals in wide 
    767            *                            bus mode interrupt
    768            *     @arg SDIO_IT_SDIOIT:   SD I/O interrupt received interrupt
    769            *     @arg SDIO_IT_CEATAEND: CE-ATA command completion signal received for CMD61
    770            * @retval None
    771            */

   \                                 In section .text, align 2, keep-with-next
    772          void SDIO_ClearITPendingBit(uint32_t SDIO_IT)
    773          { 
    774            /* Check the parameters */
    775            assert_param(IS_SDIO_CLEAR_IT(SDIO_IT));
    776             
    777            SDIO->ICR = SDIO_IT;
   \                     SDIO_ClearITPendingBit:
   \   00000000   ....               LDR.N    R1,??DataTable25_25  ;; 0x40012c38
   \   00000002   0860               STR      R0,[R1, #+0]
    778          }
   \   00000004   7047               BX       LR               ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25:
   \   00000000   042C0140           DC32     0x40012c04

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_1:
   \   00000000   0081FFFF           DC32     0xffff8100

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_2:
   \   00000000   A0802542           DC32     0x422580a0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_3:
   \   00000000   002C0140           DC32     0x40012c00

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_4:
   \   00000000   3C2C0140           DC32     0x40012c3c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_5:
   \   00000000   8C852542           DC32     0x4225858c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_6:
   \   00000000   082C0140           DC32     0x40012c08

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_7:
   \   00000000   0C2C0140           DC32     0x40012c0c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_8:
   \   00000000   102C0140           DC32     0x40012c10

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_9:
   \   00000000   142C0140           DC32     0x40012c14

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_10:
   \   00000000   242C0140           DC32     0x40012c24

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_11:
   \   00000000   282C0140           DC32     0x40012c28

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_12:
   \   00000000   2C2C0140           DC32     0x40012c2c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_13:
   \   00000000   302C0140           DC32     0x40012c30

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_14:
   \   00000000   802C0140           DC32     0x40012c80

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_15:
   \   00000000   482C0140           DC32     0x40012c48

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_16:
   \   00000000   A0852542           DC32     0x422585a0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_17:
   \   00000000   A4852542           DC32     0x422585a4

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_18:
   \   00000000   A8852542           DC32     0x422585a8

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_19:
   \   00000000   AC852542           DC32     0x422585ac

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_20:
   \   00000000   AC812542           DC32     0x422581ac

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_21:
   \   00000000   B0812542           DC32     0x422581b0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_22:
   \   00000000   B4812542           DC32     0x422581b4

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_23:
   \   00000000   B8812542           DC32     0x422581b8

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_24:
   \   00000000   342C0140           DC32     0x40012c34

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable25_25:
   \   00000000   382C0140           DC32     0x40012c38
    779          
    780          /**
    781            * @}
    782            */
    783          
    784          /**
    785            * @}
    786            */
    787          
    788          /**
    789            * @}
    790            */
    791          
    792          /******************* (C) COPYRIGHT 2011 STMicroelectronics *****END OF FILE****/

   Maximum stack usage in bytes:

     Function                  .cstack
     --------                  -------
     SDIO_CEATAITCmd                0
     SDIO_ClearFlag                 0
     SDIO_ClearITPendingBit         0
     SDIO_ClockCmd                  0
     SDIO_CmdStructInit             0
     SDIO_CommandCompletionCmd      0
     SDIO_DMACmd                    0
     SDIO_DataConfig                0
     SDIO_DataStructInit            0
     SDIO_DeInit                    8
     SDIO_GetCommandResponse        0
     SDIO_GetDataCounter            0
     SDIO_GetFIFOCount              0
     SDIO_GetFlagStatus             0
     SDIO_GetITStatus               0
     SDIO_GetPowerState             0
     SDIO_GetResponse               4
     SDIO_ITConfig                  0
     SDIO_Init                      0
     SDIO_ReadData                  0
     SDIO_SendCEATACmd              0
     SDIO_SendCommand               0
     SDIO_SendSDIOSuspendCmd        0
     SDIO_SetPowerState             0
     SDIO_SetSDIOOperation          0
     SDIO_SetSDIOReadWaitMode       0
     SDIO_StartSDIOReadWait         0
     SDIO_StopSDIOReadWait          0
     SDIO_StructInit                0
     SDIO_WriteData                 0


   Section sizes:

     Function/Label            Bytes
     --------------            -----
     SDIO_DeInit                 24
     SDIO_Init                   42
     SDIO_StructInit             26
     SDIO_ClockCmd                8
     SDIO_SetPowerState          24
     SDIO_GetPowerState          10
     SDIO_ITConfig               32
     SDIO_DMACmd                  8
     SDIO_SendCommand            40
     SDIO_CmdStructInit          22
     SDIO_GetCommandResponse      8
     SDIO_GetResponse            20
     SDIO_DataConfig             46
     SDIO_DataStructInit         28
     SDIO_GetDataCounter          6
     SDIO_ReadData                6
     SDIO_WriteData               6
     SDIO_GetFIFOCount            6
     SDIO_StartSDIOReadWait       8
     SDIO_StopSDIOReadWait        8
     SDIO_SetSDIOReadWaitMode     6
     SDIO_SetSDIOOperation        8
     SDIO_SendSDIOSuspendCmd      8
     SDIO_CommandCompletionCmd    8
     SDIO_CEATAITCmd             14
     SDIO_SendCEATACmd            8
     SDIO_GetFlagStatus          22
     SDIO_ClearFlag               6
     SDIO_GetITStatus            22
     SDIO_ClearITPendingBit       6
     ??DataTable25                4
     ??DataTable25_1              4
     ??DataTable25_2              4
     ??DataTable25_3              4
     ??DataTable25_4              4
     ??DataTable25_5              4
     ??DataTable25_6              4
     ??DataTable25_7              4
     ??DataTable25_8              4
     ??DataTable25_9              4
     ??DataTable25_10             4
     ??DataTable25_11             4
     ??DataTable25_12             4
     ??DataTable25_13             4
     ??DataTable25_14             4
     ??DataTable25_15             4
     ??DataTable25_16             4
     ??DataTable25_17             4
     ??DataTable25_18             4
     ??DataTable25_19             4
     ??DataTable25_20             4
     ??DataTable25_21             4
     ??DataTable25_22             4
     ??DataTable25_23             4
     ??DataTable25_24             4
     ??DataTable25_25             4

 
 590 bytes in section .text
 
 590 bytes of CODE memory

Errors: none
Warnings: none
