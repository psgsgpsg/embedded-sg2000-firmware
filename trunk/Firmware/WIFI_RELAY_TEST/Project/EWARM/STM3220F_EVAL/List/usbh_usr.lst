###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.10.1.52143/W32 for ARM     19/Dec/2011  16:18:53 #
# Copyright 1999-2010 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\USB\usbh_usr #
#                    .c                                                       #
#    Command line =  E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\USB\usbh_usr #
#                    .c -D USE_STDPERIPH_DRIVER -D STM32F2XX -D               #
#                    USE_STM3220F_EVAL -D USE_USB_OTG_FS -D                   #
#                    RTC_CLOCK_SOURCE_LSE -lC E:\Work\Firmware\DTG\DTG_EMS_SY #
#                    STEM\Project\EWARM\STM3220F_EVAL\List\ -lA               #
#                    E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWARM\STM322 #
#                    0F_EVAL\List\ -o E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Pro #
#                    ject\EWARM\STM3220F_EVAL\Obj\ --no_cse --no_unroll       #
#                    --no_inline --no_code_motion --no_tbaa --no_clustering   #
#                    --no_scheduling --debug --endian=little --cpu=Cortex-M3  #
#                    -e --fpu=None --dlib_config "C:\Program Files\IAR        #
#                    Systems\Embedded Workbench 6.0\arm\INC\c\DLib_Config_Ful #
#                    l.h" -I E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWAR #
#                    M\..\ -I E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWA #
#                    RM\..\..\Libraries\CMSIS\CM3\CoreSupport\ -I             #
#                    E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWARM\..\..\ #
#                    Libraries\CMSIS\CM3\DeviceSupport\ST\STM32F2xx\ -I       #
#                    E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWARM\..\..\ #
#                    Libraries\STM32F2xx_StdPeriph_Driver\inc\ -I             #
#                    E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWARM\..\..\ #
#                    Utilities\STM32_EVAL\ -I E:\Work\Firmware\DTG\DTG_EMS_SY #
#                    STEM\Project\EWARM\..\..\Utilities\STM32_EVAL\Common\    #
#                    -I E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWARM\..\ #
#                    ..\Utilities\STM32_EVAL\STM3220F_EVAL\ -I                #
#                    E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWARM\..\..\ #
#                    Libraries\STM32_USB_OTG_Driver\inc\ -I                   #
#                    E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWARM\..\..\ #
#                    Libraries\STM32_USB_Device_Library\Core\inc\ -I          #
#                    E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWARM\..\..\ #
#                    Libraries\STM32_USB_Device_Library\Class\msc\inc\ -I     #
#                    E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWARM\..\Usb #
#                    \ -I E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWARM\. #
#                    .\Usb\Inc\ -I E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Projec #
#                    t\EWARM\..\Usb\src\ -I E:\Work\Firmware\DTG\DTG_EMS_SYST #
#                    EM\Project\EWARM\..\..\Libraries\STM32_USB_HOST_Library\ #
#                    Core\inc\ -I E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project #
#                    \EWARM\..\..\Libraries\STM32_USB_HOST_Library\Class\MSC\ #
#                    inc\ -Ol --use_c++_inline                                #
#    List file    =  E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWARM\STM322 #
#                    0F_EVAL\List\usbh_usr.lst                                #
#    Object file  =  E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\EWARM\STM322 #
#                    0F_EVAL\Obj\usbh_usr.o                                   #
#                                                                             #
#                                                                             #
###############################################################################

E:\Work\Firmware\DTG\DTG_EMS_SYSTEM\Project\USB\usbh_usr.c
      1          /**
      2          ******************************************************************************
      3          * @file    usbh_usr.c
      4          * @author  MCD Application Team
      5          * @version V2.0.0RC1
      6          * @date    18-March-2011
      7          * @brief   This file includes the usb host library user callbacks
      8          ******************************************************************************
      9          * @attention
     10          *
     11          * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
     12          * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
     13          * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
     14          * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
     15          * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
     16          * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
     17          *
     18          * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
     19          ******************************************************************************
     20          */
     21          
     22          /* Includes ------------------------------------------------------------------*/
     23          #include <string.h>

   \                                 In section .text, align 2
   \   __intrinsic __interwork __softfp void *memcpy(void *, void const *, size_t)
   \                     memcpy:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
   \   00000004   2000               MOVS     R0,R4
   \   00000006   ........           BL       __aeabi_memcpy
   \   0000000A   2000               MOVS     R0,R4
   \   0000000C   10BD               POP      {R4,PC}          ;; return

   \                                 In section .text, align 2
   \   __intrinsic __interwork __softfp void *memset(void *, int, size_t)
   \                     memset:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
   \   00000004   1000               MOVS     R0,R2
   \   00000006   0A00               MOVS     R2,R1
   \   00000008   0100               MOVS     R1,R0
   \   0000000A   2000               MOVS     R0,R4
   \   0000000C   ........           BL       __aeabi_memset
   \   00000010   2000               MOVS     R0,R4
   \   00000012   10BD               POP      {R4,PC}          ;; return
     24          
     25          #include "main.h"

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void NVIC_SystemReset(void)
   \                     NVIC_SystemReset:
   \   00000000   ....               LDR.N    R0,??DataTable64  ;; 0xe000ed0c
   \   00000002   0068               LDR      R0,[R0, #+0]
   \   00000004   10F4E060           ANDS     R0,R0,#0x700
   \   00000008   ....               LDR.N    R1,??DataTable64_1  ;; 0x5fa0004
   \   0000000A   0843               ORRS     R0,R1,R0
   \   0000000C   ....               LDR.N    R1,??DataTable64  ;; 0xe000ed0c
   \   0000000E   0860               STR      R0,[R1, #+0]
   \   00000010   BFF34F8F           DSB      
   \                     ??NVIC_SystemReset_0:
   \   00000014   FEE7               B.N      ??NVIC_SystemReset_0

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void LED2_OFF(void)
   \                     LED2_OFF:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   4FF40061           MOV      R1,#+2048
   \   00000006   ........           LDR.W    R0,??DataTable65  ;; 0x40021800
   \   0000000A   ........           BL       GPIO_SetBits
   \   0000000E   4FF48051           MOV      R1,#+4096
   \   00000012   ........           LDR.W    R0,??DataTable65  ;; 0x40021800
   \   00000016   ........           BL       GPIO_SetBits
   \   0000001A   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void LED2_GREEN(void)
   \                     LED2_GREEN:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   4FF40061           MOV      R1,#+2048
   \   00000006   ........           LDR.W    R0,??DataTable65  ;; 0x40021800
   \   0000000A   ........           BL       GPIO_SetBits
   \   0000000E   4FF48051           MOV      R1,#+4096
   \   00000012   ........           LDR.W    R0,??DataTable65  ;; 0x40021800
   \   00000016   ........           BL       GPIO_ResetBits
   \   0000001A   01BD               POP      {R0,PC}          ;; return
     26          #include "usbh_usr.h"
     27          #include "ff.h"       /* FATFS */
     28          #include "usbh_msc_core.h"
     29          #include "usbh_msc_scsi.h"
     30          #include "usbh_msc_bot.h"
     31          #include "Key_Process.h"
     32          #include "Log.h"
     33          #include "RTC.h"
     34          #include "Memory.h"
     35          #include "Voice.h"
     36          #include "flash_if.h"
     37          #include "fsmc_nand.h"
     38          /** @addtogroup USBH_USER
     39          * @{
     40          */
     41          
     42          /** @addtogroup USBH_MSC_DEMO_USER_CALLBACKS
     43          * @{
     44          */
     45          
     46          /** @defgroup USBH_USR 
     47          * @brief    This file includes the usb host stack user callbacks
     48          * @{
     49          */ 
     50          
     51          /** @defgroup USBH_USR_Private_TypesDefinitions
     52          * @{
     53          */ 
     54          /**
     55          * @}
     56          */ 
     57          
     58          
     59          /** @defgroup USBH_USR_Private_Defines
     60          * @{
     61          */ 
     62          /**
     63          * @}
     64          */ 
     65          
     66          
     67          /** @defgroup USBH_USR_Private_Macros
     68          * @{
     69          */ 
     70          extern USB_OTG_CORE_HANDLE          USB_OTG_Core;
     71          /**
     72          * @}
     73          */ 
     74          
     75          
     76          /** @defgroup USBH_USR_Private_Variables
     77          * @{
     78          */ 

   \                                 In section .bss, align 1
     79          uint8_t USBH_USR_ApplicationState = USH_USR_FS_INIT;
   \                     USBH_USR_ApplicationState:
   \   00000000                      DS8 1

   \                                 In section .data, align 1
     80          uint8_t USBH_USR_ActionFlag = USH_USR_FS_IDLE;
   \                     USBH_USR_ActionFlag:
   \   00000000   01                 DC8 1

   \                                 In section .bss, align 4
     81          uint8_t USBH_USR_Log_Buffer[100] ;
   \                     USBH_USR_Log_Buffer:
   \   00000000                      DS8 100

   \                                 In section .bss, align 4
     82          uint8_t USBH_USR_DTG_Buffer[MAX_USB_FILE_SIZE] ;
   \                     USBH_USR_DTG_Buffer:
   \   00000000                      DS8 256

   \                                 In section .bss, align 4
     83          uint8_t USB_File_Buffer[MAX_USB_FILE_SIZE];
   \                     USB_File_Buffer:
   \   00000000                      DS8 256
     84          

   \                                 In section .bss, align 4
     85          FATFS fatfs;
   \                     fatfs:
   \   00000000                      DS8 560

   \                                 In section .bss, align 4
     86          FIL file;
   \                     file:
   \   00000000                      DS8 548

   \                                 In section .bss, align 4
     87          FILINFO finfo;
   \                     finfo:
   \   00000000                      DS8 32
     88          /*  Points to the DEVICE_PROP structure of current device */
     89          /*  The purpose of this register is to speed up the execution */
     90          

   \                                 In section .data, align 4
     91          USBH_Usr_cb_TypeDef USR_cb =
   \                     USR_cb:
   \   00000000   ............       DC32 USBH_USR_Init, USBH_USR_DeInit, USBH_USR_DeviceAttached
   \              ............
   \   0000000C   ............       DC32 USBH_USR_ResetDevice, USBH_USR_DeviceDisconnected
   \              ....        
   \   00000014   ............       DC32 USBH_USR_OverCurrentDetected, USBH_USR_DeviceSpeedDetected
   \              ....        
   \   0000001C   ............       DC32 USBH_USR_Device_DescAvailable, USBH_USR_DeviceAddressAssigned
   \              ....        
   \   00000024   ............       DC32 USBH_USR_Configuration_DescAvailable, USBH_USR_Manufacturer_String
   \              ....        
   \   0000002C   ............       DC32 USBH_USR_Product_String, USBH_USR_SerialNum_String
   \              ....        
   \   00000034   ............       DC32 USBH_USR_EnumerationDone, USBH_USR_UserInput
   \              ....        
   \   0000003C   ............       DC32 USBH_USR_MSC_Application, USBH_USR_DeviceNotSupported
   \              ....        
   \   00000044   ........           DC32 USBH_USR_UnrecoveredError
     92          {
     93               USBH_USR_Init,
     94               USBH_USR_DeInit,
     95               USBH_USR_DeviceAttached,
     96               USBH_USR_ResetDevice,
     97               USBH_USR_DeviceDisconnected,
     98               USBH_USR_OverCurrentDetected,
     99               USBH_USR_DeviceSpeedDetected,
    100               USBH_USR_Device_DescAvailable,
    101               USBH_USR_DeviceAddressAssigned,
    102               USBH_USR_Configuration_DescAvailable,
    103               USBH_USR_Manufacturer_String,
    104               USBH_USR_Product_String,
    105               USBH_USR_SerialNum_String,
    106               USBH_USR_EnumerationDone,
    107               USBH_USR_UserInput,
    108               USBH_USR_MSC_Application,
    109               USBH_USR_DeviceNotSupported,
    110               USBH_USR_UnrecoveredError
    111                    
    112          };
    113          
    114          /**
    115          * @}
    116          */
    117          
    118          /** @defgroup USBH_USR_Private_Constants
    119          * @{
    120          */ 
    121          /*--------------- LCD Messages ---------------*/

   \                                 In section .text, align 4, keep-with-next
    122          const uint8_t MSG_HOST_INIT[]        = "> Host Library Initialized\r\n";
   \                     MSG_HOST_INIT:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E20486F7374       DC8 62, 32, 72, 111, 115, 116, 32, 76, 105, 98
   \              204C6962    
   \   0000000A   726172792049       DC8 114, 97, 114, 121, 32, 73, 110, 105, 116, 105
   \              6E697469    
   \   00000014   616C697A6564       DC8 97, 108, 105, 122, 101, 100, 13, 10, 0, 0
   \              0D0A0000    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
    123          const uint8_t MSG_DEV_ATTACHED[]     = "> Device Attached \r\n";
   \                     MSG_DEV_ATTACHED:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   3E2044657669       DC8 62, 32, 68, 101, 118, 105, 99, 101, 32, 65
   \              63652041    
   \   0000000A   747461636865       DC8 116, 116, 97, 99, 104, 101, 100, 32, 13, 10
   \              64200D0A    
   \   00000014   00000000           DC8 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
    124          const uint8_t MSG_DEV_DISCONNECTED[] = "> Device Disconnected\r\n";
   \                     MSG_DEV_DISCONNECTED:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   3E2044657669       DC8 62, 32, 68, 101, 118, 105, 99, 101, 32, 68
   \              63652044    
   \   0000000A   6973636F6E6E       DC8 105, 115, 99, 111, 110, 110, 101, 99, 116, 101
   \              65637465    
   \   00000014   640D0A00           DC8 100, 13, 10, 0

   \                                 In section .text, align 4, keep-with-next
    125          const uint8_t MSG_DEV_ENUMERATED[]   = "> Enumeration completed \r\n";
   \                     MSG_DEV_ENUMERATED:
   \   00000000                      ; Initializer data, 28 bytes
   \   00000000   3E20456E756D       DC8 62, 32, 69, 110, 117, 109, 101, 114, 97, 116
   \              65726174    
   \   0000000A   696F6E20636F       DC8 105, 111, 110, 32, 99, 111, 109, 112, 108, 101
   \              6D706C65    
   \   00000014   746564200D0A       DC8 116, 101, 100, 32, 13, 10, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
    126          const uint8_t MSG_DEV_HIGHSPEED[]    = "> High speed device detected\r\n";
   \                     MSG_DEV_HIGHSPEED:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E2048696768       DC8 62, 32, 72, 105, 103, 104, 32, 115, 112, 101
   \              20737065    
   \   0000000A   656420646576       DC8 101, 100, 32, 100, 101, 118, 105, 99, 101, 32
   \              69636520    
   \   00000014   646574656374       DC8 100, 101, 116, 101, 99, 116, 101, 100, 13, 10
   \              65640D0A    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
    127          const uint8_t MSG_DEV_FULLSPEED[]    = "> Full speed device detected\r\n";
   \                     MSG_DEV_FULLSPEED:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E2046756C6C       DC8 62, 32, 70, 117, 108, 108, 32, 115, 112, 101
   \              20737065    
   \   0000000A   656420646576       DC8 101, 100, 32, 100, 101, 118, 105, 99, 101, 32
   \              69636520    
   \   00000014   646574656374       DC8 100, 101, 116, 101, 99, 116, 101, 100, 13, 10
   \              65640D0A    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
    128          const uint8_t MSG_DEV_LOWSPEED[]     = "> Low speed device detected\\rn";
   \                     MSG_DEV_LOWSPEED:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E204C6F7720       DC8 62, 32, 76, 111, 119, 32, 115, 112, 101, 101
   \              73706565    
   \   0000000A   642064657669       DC8 100, 32, 100, 101, 118, 105, 99, 101, 32, 100
   \              63652064    
   \   00000014   657465637465       DC8 101, 116, 101, 99, 116, 101, 100, 92, 114, 110
   \              645C726E    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
    129          const uint8_t MSG_DEV_ERROR[]        = "> Device fault \r\n";
   \                     MSG_DEV_ERROR:
   \   00000000                      ; Initializer data, 20 bytes
   \   00000000   3E2044657669       DC8 62, 32, 68, 101, 118, 105, 99, 101, 32, 102
   \              63652066    
   \   0000000A   61756C74200D       DC8 97, 117, 108, 116, 32, 13, 10, 0, 0, 0
   \              0A000000    
    130          

   \                                 In section .text, align 4, keep-with-next
    131          const uint8_t MSG_MSC_CLASS[]      = "> Mass storage device connected\r\n";
   \                     MSG_MSC_CLASS:
   \   00000000                      ; Initializer data, 36 bytes
   \   00000000   3E204D617373       DC8 62, 32, 77, 97, 115, 115, 32, 115, 116, 111
   \              2073746F    
   \   0000000A   726167652064       DC8 114, 97, 103, 101, 32, 100, 101, 118, 105, 99
   \              65766963    
   \   00000014   6520636F6E6E       DC8 101, 32, 99, 111, 110, 110, 101, 99, 116, 101
   \              65637465    
   \   0000001E   640D0A000000       DC8 100, 13, 10, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
    132          const uint8_t MSG_HID_CLASS[]      = "> HID device connected\r\n";
   \                     MSG_HID_CLASS:
   \   00000000                      ; Initializer data, 28 bytes
   \   00000000   3E2048494420       DC8 62, 32, 72, 73, 68, 32, 100, 101, 118, 105
   \              64657669    
   \   0000000A   636520636F6E       DC8 99, 101, 32, 99, 111, 110, 110, 101, 99, 116
   \              6E656374    
   \   00000014   65640D0A0000       DC8 101, 100, 13, 10, 0, 0, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
    133          const uint8_t MSG_DISK_SIZE[]      = "> Size of the disk in MBytes: \r\n";
   \                     MSG_DISK_SIZE:
   \   00000000                      ; Initializer data, 36 bytes
   \   00000000   3E2053697A65       DC8 62, 32, 83, 105, 122, 101, 32, 111, 102, 32
   \              206F6620    
   \   0000000A   746865206469       DC8 116, 104, 101, 32, 100, 105, 115, 107, 32, 105
   \              736B2069    
   \   00000014   6E204D427974       DC8 110, 32, 77, 66, 121, 116, 101, 115, 58, 32
   \              65733A20    
   \   0000001E   0D0A00000000       DC8 13, 10, 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
    134          const uint8_t MSG_LUN[]            = "> LUN Available in the device:\r\n";
   \                     MSG_LUN:
   \   00000000                      ; Initializer data, 36 bytes
   \   00000000   3E204C554E20       DC8 62, 32, 76, 85, 78, 32, 65, 118, 97, 105
   \              41766169    
   \   0000000A   6C61626C6520       DC8 108, 97, 98, 108, 101, 32, 105, 110, 32, 116
   \              696E2074    
   \   00000014   686520646576       DC8 104, 101, 32, 100, 101, 118, 105, 99, 101, 58
   \              6963653A    
   \   0000001E   0D0A00000000       DC8 13, 10, 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
    135          const uint8_t MSG_ROOT_CONT[]      = "> Exploring disk flash ...\r\n";
   \                     MSG_ROOT_CONT:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E204578706C       DC8 62, 32, 69, 120, 112, 108, 111, 114, 105, 110
   \              6F72696E    
   \   0000000A   67206469736B       DC8 103, 32, 100, 105, 115, 107, 32, 102, 108, 97
   \              20666C61    
   \   00000014   7368202E2E2E       DC8 115, 104, 32, 46, 46, 46, 13, 10, 0, 0
   \              0D0A0000    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
    136          const uint8_t MSG_WR_PROTECT[]      = "> The disk is write protected\r\n";
   \                     MSG_WR_PROTECT:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E2054686520       DC8 62, 32, 84, 104, 101, 32, 100, 105, 115, 107
   \              6469736B    
   \   0000000A   206973207772       DC8 32, 105, 115, 32, 119, 114, 105, 116, 101, 32
   \              69746520    
   \   00000014   70726F746563       DC8 112, 114, 111, 116, 101, 99, 116, 101, 100, 13
   \              7465640D    
   \   0000001E   0A00               DC8 10, 0

   \                                 In section .text, align 4, keep-with-next
    137          const uint8_t MSG_UNREC_ERROR[]     = "> UNRECOVERED ERROR STATE\r\n";
   \                     MSG_UNREC_ERROR:
   \   00000000                      ; Initializer data, 28 bytes
   \   00000000   3E20554E5245       DC8 62, 32, 85, 78, 82, 69, 67, 79, 86, 69
   \              434F5645    
   \   0000000A   524544204552       DC8 82, 69, 68, 32, 69, 82, 82, 79, 82, 32
   \              524F5220    
   \   00000014   53544154450D       DC8 83, 84, 65, 84, 69, 13, 10, 0
   \              0A00        
    138          
    139          /**
    140          * @}
    141          */
    142          
    143          
    144          
    145          /** @defgroup USBH_USR_Private_FunctionPrototypes
    146          * @{
    147          */
    148          
    149          
    150          /**
    151          * @}
    152          */ 
    153          
    154          
    155          /** @defgroup USBH_USR_Private_Functions
    156          * @{
    157          */ 
    158          
    159          
    160          /**
    161          * @brief  USBH_USR_Init 
    162          *         Displays the message on LCD for host lib initialization
    163          * @param  None
    164          * @retval None
    165          */

   \                                 In section .text, align 2, keep-with-next
    166          void USBH_USR_Init(void)
    167          {
   \                     USBH_USR_Init:
   \   00000000   80B5               PUSH     {R7,LR}
    168               // LOG -------------------------------------------------------------------------
    169               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable64_2
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   09D5               BPL.N    ??USBH_USR_Init_0
    170               {
    171                    sprintf((char *)Buffer,"USB Initailze \r\n "); 
   \   0000000A   ....               LDR.N    R1,??DataTable64_3
   \   0000000C   ........           LDR.W    R0,??DataTable65_1
   \   00000010   ........           BL       sprintf
    172                    Write_Log(Buffer, NORMAL_LOG);
   \   00000014   0121               MOVS     R1,#+1
   \   00000016   ........           LDR.W    R0,??DataTable65_1
   \   0000001A   ........           BL       Write_Log
    173               }            
    174               // -----------------------------------------------------------------------------
    175          }
   \                     ??USBH_USR_Init_0:
   \   0000001E   01BD               POP      {R0,PC}          ;; return
    176          
    177          /**
    178          * @brief  USBH_USR_DeviceAttached 
    179          *         Displays the message on LCD on device attached
    180          * @param  None
    181          * @retval None
    182          */

   \                                 In section .text, align 2, keep-with-next
    183          void USBH_USR_DeviceAttached(void)
    184          {
   \                     USBH_USR_DeviceAttached:
   \   00000000   80B5               PUSH     {R7,LR}
    185               // LOG -------------------------------------------------------------------------
    186               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable64_2
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   09D5               BPL.N    ??USBH_USR_DeviceAttached_0
    187               {
    188                    sprintf((char *)Buffer, (void *)MSG_DEV_ATTACHED); 
   \   0000000A   ....               LDR.N    R1,??DataTable64_4
   \   0000000C   ........           LDR.W    R0,??DataTable65_1
   \   00000010   ........           BL       sprintf
    189                    Write_Log(Buffer, NORMAL_LOG);
   \   00000014   0121               MOVS     R1,#+1
   \   00000016   ........           LDR.W    R0,??DataTable65_1
   \   0000001A   ........           BL       Write_Log
    190               }            
    191               // -----------------------------------------------------------------------------     
    192          }
   \                     ??USBH_USR_DeviceAttached_0:
   \   0000001E   01BD               POP      {R0,PC}          ;; return
    193          
    194          
    195          /**
    196          * @brief  USBH_USR_UnrecoveredError
    197          * @param  None
    198          * @retval None
    199          */

   \                                 In section .text, align 2, keep-with-next
    200          void USBH_USR_UnrecoveredError (void)
    201          {
   \                     USBH_USR_UnrecoveredError:
   \   00000000   80B5               PUSH     {R7,LR}
    202               
    203               /* Set default screen color*/ 
    204               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable64_2
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   09D5               BPL.N    ??USBH_USR_UnrecoveredError_0
    205               {
    206                    sprintf((char *)Buffer, (void *)MSG_UNREC_ERROR); 
   \   0000000A   ....               LDR.N    R1,??DataTable64_5
   \   0000000C   ........           LDR.W    R0,??DataTable65_1
   \   00000010   ........           BL       sprintf
    207                    Write_Log(Buffer, ERROR_LOG);
   \   00000014   0421               MOVS     R1,#+4
   \   00000016   ........           LDR.W    R0,??DataTable65_1
   \   0000001A   ........           BL       Write_Log
    208               }            
    209          }
   \                     ??USBH_USR_UnrecoveredError_0:
   \   0000001E   01BD               POP      {R0,PC}          ;; return
    210          
    211          
    212          /**
    213          * @brief  USBH_DisconnectEvent
    214          *         Device disconnect event
    215          * @param  None
    216          * @retval Staus
    217          */

   \                                 In section .text, align 2, keep-with-next
    218          void USBH_USR_DeviceDisconnected (void)
    219          {
   \                     USBH_USR_DeviceDisconnected:
   \   00000000   80B5               PUSH     {R7,LR}
    220               /* Set default screen color*/
    221               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable64_2
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   09D5               BPL.N    ??USBH_USR_DeviceDisconnected_0
    222               {
    223                    sprintf((char *)Buffer, (void *)MSG_DEV_DISCONNECTED); 
   \   0000000A   ....               LDR.N    R1,??DataTable64_6
   \   0000000C   ........           LDR.W    R0,??DataTable65_1
   \   00000010   ........           BL       sprintf
    224                    Write_Log(Buffer, ERROR_LOG);
   \   00000014   0421               MOVS     R1,#+4
   \   00000016   ........           LDR.W    R0,??DataTable65_1
   \   0000001A   ........           BL       Write_Log
    225               }     
    226          }
   \                     ??USBH_USR_DeviceDisconnected_0:
   \   0000001E   01BD               POP      {R0,PC}          ;; return
    227          /**
    228          * @brief  USBH_USR_ResetUSBDevice 
    229          * @param  None
    230          * @retval None
    231          */

   \                                 In section .text, align 2, keep-with-next
    232          void USBH_USR_ResetDevice(void)
    233          {
   \                     USBH_USR_ResetDevice:
   \   00000000   80B5               PUSH     {R7,LR}
    234               /* callback for USB-Reset */
    235               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable64_2
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   09D5               BPL.N    ??USBH_USR_ResetDevice_0
    236               {
    237                    sprintf((char *)Buffer, "USB_Reset \r\n"); 
   \   0000000A   ....               LDR.N    R1,??DataTable64_7
   \   0000000C   ........           LDR.W    R0,??DataTable65_1
   \   00000010   ........           BL       sprintf
    238                    Write_Log(Buffer, NORMAL_LOG);
   \   00000014   0121               MOVS     R1,#+1
   \   00000016   ........           LDR.W    R0,??DataTable65_1
   \   0000001A   ........           BL       Write_Log
    239               }          
    240          }
   \                     ??USBH_USR_ResetDevice_0:
   \   0000001E   01BD               POP      {R0,PC}          ;; return
    241          
    242          
    243          /**
    244          * @brief  USBH_USR_DeviceSpeedDetected 
    245          *         Displays the message on LCD for device speed
    246          * @param  Device speed
    247          * @retval None
    248          */

   \                                 In section .text, align 2, keep-with-next
    249          void USBH_USR_DeviceSpeedDetected(uint8_t DeviceSpeed)
    250          {
   \                     USBH_USR_DeviceSpeedDetected:
   \   00000000   80B5               PUSH     {R7,LR}
    251               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R1,??DataTable64_2
   \   00000004   0968               LDR      R1,[R1, #+0]
   \   00000006   C904               LSLS     R1,R1,#+19
   \   00000008   24D5               BPL.N    ??USBH_USR_DeviceSpeedDetected_0
    252               {     
    253                    if(DeviceSpeed == HPRT0_PRTSPD_HIGH_SPEED)
   \   0000000A   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000000C   0028               CMP      R0,#+0
   \   0000000E   05D1               BNE.N    ??USBH_USR_DeviceSpeedDetected_1
    254                    {
    255                         sprintf((char *)Buffer,(void *)MSG_DEV_HIGHSPEED);
   \   00000010   ....               LDR.N    R1,??DataTable64_8
   \   00000012   ........           LDR.W    R0,??DataTable65_1
   \   00000016   ........           BL       sprintf
   \   0000001A   16E0               B.N      ??USBH_USR_DeviceSpeedDetected_2
    256                    }  
    257                    else if(DeviceSpeed == HPRT0_PRTSPD_FULL_SPEED)
   \                     ??USBH_USR_DeviceSpeedDetected_1:
   \   0000001C   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000001E   0128               CMP      R0,#+1
   \   00000020   05D1               BNE.N    ??USBH_USR_DeviceSpeedDetected_3
    258                    {
    259                         sprintf((char *)Buffer,(void *)MSG_DEV_FULLSPEED);
   \   00000022   ....               LDR.N    R1,??DataTable64_9
   \   00000024   ........           LDR.W    R0,??DataTable65_1
   \   00000028   ........           BL       sprintf
   \   0000002C   0DE0               B.N      ??USBH_USR_DeviceSpeedDetected_2
    260                    }
    261                    else if(DeviceSpeed == HPRT0_PRTSPD_LOW_SPEED)
   \                     ??USBH_USR_DeviceSpeedDetected_3:
   \   0000002E   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000030   0228               CMP      R0,#+2
   \   00000032   05D1               BNE.N    ??USBH_USR_DeviceSpeedDetected_4
    262                    {
    263                         sprintf((char *)Buffer,(void *)MSG_DEV_LOWSPEED);
   \   00000034   ....               LDR.N    R1,??DataTable64_10
   \   00000036   ........           LDR.W    R0,??DataTable65_1
   \   0000003A   ........           BL       sprintf
   \   0000003E   04E0               B.N      ??USBH_USR_DeviceSpeedDetected_2
    264                    }
    265                    else
    266                    {
    267                         sprintf((char *)Buffer,(void *)MSG_DEV_ERROR);
   \                     ??USBH_USR_DeviceSpeedDetected_4:
   \   00000040   ....               LDR.N    R1,??DataTable64_11
   \   00000042   ........           LDR.W    R0,??DataTable65_1
   \   00000046   ........           BL       sprintf
    268                    }
    269                    Write_Log(Buffer, NORMAL_LOG);
   \                     ??USBH_USR_DeviceSpeedDetected_2:
   \   0000004A   0121               MOVS     R1,#+1
   \   0000004C   ........           LDR.W    R0,??DataTable65_1
   \   00000050   ........           BL       Write_Log
    270               }
    271          }
   \                     ??USBH_USR_DeviceSpeedDetected_0:
   \   00000054   01BD               POP      {R0,PC}          ;; return
    272          
    273          /**
    274          * @brief  USBH_USR_Device_DescAvailable 
    275          *         Displays the message on LCD for device descriptor
    276          * @param  device descriptor
    277          * @retval None
    278          */

   \                                 In section .text, align 2, keep-with-next
    279          void USBH_USR_Device_DescAvailable(void *DeviceDesc)
    280          { 
   \                     USBH_USR_Device_DescAvailable:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
    281               USBH_DevDesc_TypeDef *hs;
    282               hs = DeviceDesc;  
    283               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000004   ....               LDR.N    R0,??DataTable64_2
   \   00000006   0068               LDR      R0,[R0, #+0]
   \   00000008   C004               LSLS     R0,R0,#+19
   \   0000000A   16D5               BPL.N    ??USBH_USR_Device_DescAvailable_0
    284               {       
    285                    sprintf((char *)Buffer,"> VID : %04Xh\r\n" , (uint32_t)(*hs).idVendor); 
   \   0000000C   2289               LDRH     R2,[R4, #+8]
   \   0000000E   ....               LDR.N    R1,??DataTable64_12
   \   00000010   ........           LDR.W    R0,??DataTable66
   \   00000014   ........           BL       sprintf
    286                    Write_Log(Buffer, NORMAL_LOG);
   \   00000018   0121               MOVS     R1,#+1
   \   0000001A   ........           LDR.W    R0,??DataTable66
   \   0000001E   ........           BL       Write_Log
    287                    sprintf((char *)Buffer,"> PID : %04Xh\r\n" , (uint32_t)(*hs).idProduct);
   \   00000022   6289               LDRH     R2,[R4, #+10]
   \   00000024   ........           LDR.W    R1,??DataTable65_2
   \   00000028   ........           LDR.W    R0,??DataTable66
   \   0000002C   ........           BL       sprintf
    288                    Write_Log(Buffer, NORMAL_LOG);
   \   00000030   0121               MOVS     R1,#+1
   \   00000032   ........           LDR.W    R0,??DataTable66
   \   00000036   ........           BL       Write_Log
    289               }
    290          }
   \                     ??USBH_USR_Device_DescAvailable_0:
   \   0000003A   10BD               POP      {R4,PC}          ;; return
    291          
    292          /**
    293          * @brief  USBH_USR_DeviceAddressAssigned 
    294          *         USB device is successfully assigned the Address 
    295          * @param  None
    296          * @retval None
    297          */

   \                                 In section .text, align 2, keep-with-next
    298          void USBH_USR_DeviceAddressAssigned(void)
    299          {  
    300          }
   \                     USBH_USR_DeviceAddressAssigned:
   \   00000000   7047               BX       LR               ;; return
    301          
    302          
    303          /**
    304          * @brief  USBH_USR_Conf_Desc 
    305          *         Displays the message on LCD for configuration descriptor
    306          * @param  Configuration descriptor
    307          * @retval None
    308          */

   \                                 In section .text, align 2, keep-with-next
    309          void USBH_USR_Configuration_DescAvailable(USBH_CfgDesc_TypeDef * cfgDesc,
    310                                                    USBH_InterfaceDesc_TypeDef *itfDesc,
    311                                                    USBH_EpDesc_TypeDef *epDesc)
    312          {
   \                     USBH_USR_Configuration_DescAvailable:
   \   00000000   80B5               PUSH     {R7,LR}
    313               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable64_2
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   17D5               BPL.N    ??USBH_USR_Configuration_DescAvailable_0
    314               {      
    315                    USBH_InterfaceDesc_TypeDef *id;  
    316                    
    317                    id = itfDesc;  
    318                    
    319                    if((*id).bInterfaceClass  == 0x08)
   \   0000000A   4879               LDRB     R0,[R1, #+5]
   \   0000000C   0828               CMP      R0,#+8
   \   0000000E   06D1               BNE.N    ??USBH_USR_Configuration_DescAvailable_1
    320                    {
    321                         sprintf((char *)Buffer,(void *)MSG_MSC_CLASS);
   \   00000010   ........           LDR.W    R1,??DataTable65_3
   \   00000014   ........           LDR.W    R0,??DataTable66
   \   00000018   ........           BL       sprintf
   \   0000001C   08E0               B.N      ??USBH_USR_Configuration_DescAvailable_2
    322                         
    323                    }
    324                    else if((*id).bInterfaceClass  == 0x03)
   \                     ??USBH_USR_Configuration_DescAvailable_1:
   \   0000001E   4879               LDRB     R0,[R1, #+5]
   \   00000020   0328               CMP      R0,#+3
   \   00000022   05D1               BNE.N    ??USBH_USR_Configuration_DescAvailable_2
    325                    {
    326                         sprintf((char *)Buffer,(void *)MSG_HID_CLASS);
   \   00000024   ........           LDR.W    R1,??DataTable65_4
   \   00000028   ........           LDR.W    R0,??DataTable66
   \   0000002C   ........           BL       sprintf
    327                    }    
    328                    Write_Log(Buffer, NORMAL_LOG);
   \                     ??USBH_USR_Configuration_DescAvailable_2:
   \   00000030   0121               MOVS     R1,#+1
   \   00000032   ........           LDR.W    R0,??DataTable66
   \   00000036   ........           BL       Write_Log
    329               }
    330          }
   \                     ??USBH_USR_Configuration_DescAvailable_0:
   \   0000003A   01BD               POP      {R0,PC}          ;; return
    331          
    332          /**
    333          * @brief  USBH_USR_Manufacturer_String 
    334          *         Displays the message on LCD for Manufacturer String 
    335          * @param  Manufacturer String 
    336          * @retval None
    337          */

   \                                 In section .text, align 2, keep-with-next
    338          void USBH_USR_Manufacturer_String(void *ManufacturerString)
    339          {
   \                     USBH_USR_Manufacturer_String:
   \   00000000   80B5               PUSH     {R7,LR}
    340               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R1,??DataTable64_2
   \   00000004   0968               LDR      R1,[R1, #+0]
   \   00000006   C904               LSLS     R1,R1,#+19
   \   00000008   0BD5               BPL.N    ??USBH_USR_Manufacturer_String_0
    341               {               
    342                    sprintf((char *)Buffer, "> Manufacturer : %s \r\n", (char *)ManufacturerString);
   \   0000000A   0200               MOVS     R2,R0
   \   0000000C   ........           LDR.W    R1,??DataTable65_5
   \   00000010   ........           LDR.W    R0,??DataTable66
   \   00000014   ........           BL       sprintf
    343                    Write_Log(Buffer, NORMAL_LOG);
   \   00000018   0121               MOVS     R1,#+1
   \   0000001A   ........           LDR.W    R0,??DataTable66
   \   0000001E   ........           BL       Write_Log
    344               }
    345          }
   \                     ??USBH_USR_Manufacturer_String_0:
   \   00000022   01BD               POP      {R0,PC}          ;; return
    346          
    347          /**
    348          * @brief  USBH_USR_Product_String 
    349          *         Displays the message on LCD for Product String
    350          * @param  Product String
    351          * @retval None
    352          */

   \                                 In section .text, align 2, keep-with-next
    353          void USBH_USR_Product_String(void *ProductString)
    354          {          
   \                     USBH_USR_Product_String:
   \   00000000   80B5               PUSH     {R7,LR}
    355               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R1,??DataTable64_2
   \   00000004   0968               LDR      R1,[R1, #+0]
   \   00000006   C904               LSLS     R1,R1,#+19
   \   00000008   0BD5               BPL.N    ??USBH_USR_Product_String_0
    356               {   
    357                    sprintf((char *)Buffer, "> Product : %s \r\n", (char *)ProductString);  
   \   0000000A   0200               MOVS     R2,R0
   \   0000000C   ........           LDR.W    R1,??DataTable65_6
   \   00000010   ........           LDR.W    R0,??DataTable66
   \   00000014   ........           BL       sprintf
    358                    Write_Log(Buffer, NORMAL_LOG);
   \   00000018   0121               MOVS     R1,#+1
   \   0000001A   ........           LDR.W    R0,??DataTable66
   \   0000001E   ........           BL       Write_Log
    359               }
    360          }
   \                     ??USBH_USR_Product_String_0:
   \   00000022   01BD               POP      {R0,PC}          ;; return
    361          
    362          /**
    363          * @brief  USBH_USR_SerialNum_String 
    364          *         Displays the message on LCD for SerialNum_String 
    365          * @param  SerialNum_String 
    366          * @retval None
    367          */

   \                                 In section .text, align 2, keep-with-next
    368          void USBH_USR_SerialNum_String(void *SerialNumString)
    369          {
   \                     USBH_USR_SerialNum_String:
   \   00000000   80B5               PUSH     {R7,LR}
    370               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R1,??DataTable64_2
   \   00000004   0968               LDR      R1,[R1, #+0]
   \   00000006   C904               LSLS     R1,R1,#+19
   \   00000008   0BD5               BPL.N    ??USBH_USR_SerialNum_String_0
    371               {
    372                    sprintf((char *)Buffer, "> Serial Number : %s \r\n", (char *)SerialNumString);    
   \   0000000A   0200               MOVS     R2,R0
   \   0000000C   ........           LDR.W    R1,??DataTable65_7
   \   00000010   ........           LDR.W    R0,??DataTable66
   \   00000014   ........           BL       sprintf
    373                    Write_Log(Buffer, NORMAL_LOG);
   \   00000018   0121               MOVS     R1,#+1
   \   0000001A   ........           LDR.W    R0,??DataTable66
   \   0000001E   ........           BL       Write_Log
    374               }    
    375          } 
   \                     ??USBH_USR_SerialNum_String_0:
   \   00000022   01BD               POP      {R0,PC}          ;; return
    376          
    377          
    378          
    379          /**
    380          * @brief  EnumerationDone 
    381          *         User response request is displayed to ask application jump to class
    382          * @param  None
    383          * @retval None
    384          */

   \                                 In section .text, align 2, keep-with-next
    385          void USBH_USR_EnumerationDone(void)
    386          {
   \                     USBH_USR_EnumerationDone:
   \   00000000   80B5               PUSH     {R7,LR}
    387               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable64_2
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   0AD5               BPL.N    ??USBH_USR_EnumerationDone_0
    388               {
    389                    /* Enumeration complete */
    390                    sprintf((char *)Buffer, (void *)MSG_DEV_ENUMERATED); 
   \   0000000A   ........           LDR.W    R1,??DataTable65_8
   \   0000000E   ........           LDR.W    R0,??DataTable66
   \   00000012   ........           BL       sprintf
    391                    Write_Log(Buffer, NORMAL_LOG);
   \   00000016   0121               MOVS     R1,#+1
   \   00000018   ........           LDR.W    R0,??DataTable66
   \   0000001C   ........           BL       Write_Log
    392                    //  LCD_SetTextColor(Green);
    393                    //  LCD_DisplayStringLine( LCD_PIXEL_HEIGHT - 42, "To see the root content of the disk : " );
    394                    //  LCD_DisplayStringLine( LCD_PIXEL_HEIGHT - 30, "Press Key...                       ");
    395                    //  LCD_SetTextColor(LCD_LOG_DEFAULT_COLOR); 
    396               }
    397          } 
   \                     ??USBH_USR_EnumerationDone_0:
   \   00000020   01BD               POP      {R0,PC}          ;; return
    398          
    399          
    400          /**
    401          * @brief  USBH_USR_DeviceNotSupported
    402          *         Device is not supported
    403          * @param  None
    404          * @retval None
    405          */

   \                                 In section .text, align 2, keep-with-next
    406          void USBH_USR_DeviceNotSupported(void)
    407          {
   \                     USBH_USR_DeviceNotSupported:
   \   00000000   80B5               PUSH     {R7,LR}
    408               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable64_2
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   0AD5               BPL.N    ??USBH_USR_DeviceNotSupported_0
    409               {     
    410                    sprintf((char *)Buffer, "> Device not supported.\r\n" ); 
   \   0000000A   ........           LDR.W    R1,??DataTable66_1
   \   0000000E   ........           LDR.W    R0,??DataTable66
   \   00000012   ........           BL       sprintf
    411                    Write_Log(Buffer, ERROR_LOG);
   \   00000016   0421               MOVS     R1,#+4
   \   00000018   ........           LDR.W    R0,??DataTable66
   \   0000001C   ........           BL       Write_Log
    412               }
    413          }  
   \                     ??USBH_USR_DeviceNotSupported_0:
   \   00000020   01BD               POP      {R0,PC}          ;; return
    414          
    415          
    416          /**
    417          * @brief  USBH_USR_UserInput
    418          *         User Action for application state entry
    419          * @param  None
    420          * @retval USBH_USR_Status : User response for key button
    421          */

   \                                 In section .text, align 2, keep-with-next
    422          USBH_USR_Status USBH_USR_UserInput(void)
    423          {
    424               USBH_USR_Status usbh_usr_status;
    425          //     usbh_usr_status = USBH_USR_NO_RESP;     
    426               /*Key B3 is in polling mode to detect user action */
    427          //     if(IsKey_ECO()==RESET)  
    428          //     {          
    429               
    430               usbh_usr_status = USBH_USR_RESP_OK;          
   \                     USBH_USR_UserInput:
   \   00000000   0120               MOVS     R0,#+1
    431          //     } 
    432               return usbh_usr_status;
   \   00000002   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   7047               BX       LR               ;; return
    433          }  
    434          
    435          /**
    436          * @brief  USBH_USR_OverCurrentDetected
    437          *         Over Current Detected on VBUS
    438          * @param  None
    439          * @retval Staus
    440          */

   \                                 In section .text, align 2, keep-with-next
    441          void USBH_USR_OverCurrentDetected (void)
    442          {
   \                     USBH_USR_OverCurrentDetected:
   \   00000000   80B5               PUSH     {R7,LR}
    443               if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   00000002   ....               LDR.N    R0,??DataTable64_2
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   C004               LSLS     R0,R0,#+19
   \   00000008   0AD5               BPL.N    ??USBH_USR_OverCurrentDetected_0
    444               {     
    445                    sprintf((char *)Buffer, "> Overcurrent detected.\r\n" ); 
   \   0000000A   ........           LDR.W    R1,??DataTable66_2
   \   0000000E   ........           LDR.W    R0,??DataTable66
   \   00000012   ........           BL       sprintf
    446                    Write_Log(Buffer, ERROR_LOG);
   \   00000016   0421               MOVS     R1,#+4
   \   00000018   ........           LDR.W    R0,??DataTable66
   \   0000001C   ........           BL       Write_Log
    447               }     
    448          }
   \                     ??USBH_USR_OverCurrentDetected_0:
   \   00000020   01BD               POP      {R0,PC}          ;; return
    449          
    450          
    451          /**
    452          * @brief  USBH_USR_MSC_Application 
    453          *         Demo application for mass storage
    454          * @param  None
    455          * @retval Staus
    456          */

   \                                 In section .text, align 2, keep-with-next
    457          int USBH_USR_MSC_Application(void)
    458          {
   \                     USBH_USR_MSC_Application:
   \   00000000   2DE9F047           PUSH     {R4-R10,LR}
   \   00000004   8CB0               SUB      SP,SP,#+48
    459               FRESULT res;   
    460          
    461               uint16_t bytesWritten, bytesToWrite;
    462               uint16_t numOfReadBytes;
    463               uint8_t FileName[20];
    464               u16 i,i2,i3;
    465               u32 Address = 0;
   \   00000006   0026               MOVS     R6,#+0
    466          
    467               u8 Rdata;
    468               u32 FlashSize;
    469               uint32_t flashdestination;
    470                 
    471               u16 LedCount;
    472               u16 BackupPercent;
    473               u16 BackupNum;
    474               u16 BackupPercent2;
    475               
    476               switch(USBH_USR_ApplicationState)
   \   00000008   ........           LDR.W    R0,??DataTable66_3
   \   0000000C   0078               LDRB     R0,[R0, #+0]
   \   0000000E   0028               CMP      R0,#+0
   \   00000010   1CD0               BEQ.N    ??USBH_USR_MSC_Application_0
   \   00000012   0128               CMP      R0,#+1
   \   00000014   00F09280           BEQ.W    ??USBH_USR_MSC_Application_1
   \   00000018   0228               CMP      R0,#+2
   \   0000001A   00F00681           BEQ.W    ??USBH_USR_MSC_Application_2
   \   0000001E   0328               CMP      R0,#+3
   \   00000020   00F05281           BEQ.W    ??USBH_USR_MSC_Application_3
   \   00000024   0428               CMP      R0,#+4
   \   00000026   00F08782           BEQ.W    ??USBH_USR_MSC_Application_4
   \   0000002A   0528               CMP      R0,#+5
   \   0000002C   00F0D084           BEQ.W    ??USBH_USR_MSC_Application_5
   \   00000030   0628               CMP      R0,#+6
   \   00000032   00F0EB83           BEQ.W    ??USBH_USR_MSC_Application_6
   \   00000036   0728               CMP      R0,#+7
   \   00000038   00F06283           BEQ.W    ??USBH_USR_MSC_Application_7
   \   0000003C   0928               CMP      R0,#+9
   \   0000003E   00F08784           BEQ.W    ??USBH_USR_MSC_Application_8
   \   00000042   0A28               CMP      R0,#+10
   \   00000044   00F02782           BEQ.W    ??USBH_USR_MSC_Application_9
   \   00000048   00F041BD           B.W      ??USBH_USR_MSC_Application_10
    477               {
    478                    case USH_USR_FS_INIT: 
    479                    
    480                    /* Initialises the File System*/
    481                    if ( f_mount( 0, &fatfs ) != FR_OK ) 
   \                     ??USBH_USR_MSC_Application_0:
   \   0000004C   ........           LDR.W    R1,??DataTable66_4
   \   00000050   0020               MOVS     R0,#+0
   \   00000052   ........           BL       f_mount
   \   00000056   0028               CMP      R0,#+0
   \   00000058   13D0               BEQ.N    ??USBH_USR_MSC_Application_11
    482                    {
    483                         /* efs initialisation fails*/
    484                         if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   0000005A   ........           LDR.W    R0,??DataTable66_5
   \   0000005E   0068               LDR      R0,[R0, #+0]
   \   00000060   C004               LSLS     R0,R0,#+19
   \   00000062   0AD5               BPL.N    ??USBH_USR_MSC_Application_12
    485                         {     
    486                              sprintf((char *)Buffer, "> Cannot initialize File System.\r\n" ); 
   \   00000064   ........           LDR.W    R1,??DataTable66_6
   \   00000068   ........           LDR.W    R0,??DataTable65_1
   \   0000006C   ........           BL       sprintf
    487                              Write_Log(Buffer, ERROR_LOG);
   \   00000070   0421               MOVS     R1,#+4
   \   00000072   ........           LDR.W    R0,??DataTable65_1
   \   00000076   ........           BL       Write_Log
    488                         }                    
    489                         return(-1);
   \                     ??USBH_USR_MSC_Application_12:
   \   0000007A   5FF0FF30           MOVS     R0,#-1
   \   0000007E   00F027BD           B.W      ??USBH_USR_MSC_Application_13
    490                    }
    491                    if(LOGWRITE & LOG_USB_SYSTEM)                       
   \                     ??USBH_USR_MSC_Application_11:
   \   00000082   ........           LDR.W    R0,??DataTable66_5
   \   00000086   0068               LDR      R0,[R0, #+0]
   \   00000088   C004               LSLS     R0,R0,#+19
   \   0000008A   1DD5               BPL.N    ??USBH_USR_MSC_Application_14
    492                    {     
    493                         sprintf((char *)Buffer, "> File System initialized.\r\n" ); 
   \   0000008C   ........           LDR.W    R1,??DataTable66_7
   \   00000090   ........           LDR.W    R0,??DataTable65_1
   \   00000094   ........           BL       sprintf
    494                         Write_Log(Buffer, NORMAL_LOG);
   \   00000098   0121               MOVS     R1,#+1
   \   0000009A   ........           LDR.W    R0,??DataTable65_1
   \   0000009E   ........           BL       Write_Log
    495                         sprintf((char *)Buffer, "> Disk capacity : %u Bytes\r\n",(long)( USBH_MSC_Param.MSCapacity * USBH_MSC_Param.MSPageLength));
   \   000000A2   ........           LDR.W    R0,??DataTable66_8
   \   000000A6   0068               LDR      R0,[R0, #+0]
   \   000000A8   ........           LDR.W    R1,??DataTable66_8
   \   000000AC   0989               LDRH     R1,[R1, #+8]
   \   000000AE   01FB00F2           MUL      R2,R1,R0
   \   000000B2   ........           LDR.W    R1,??DataTable66_9
   \   000000B6   ........           LDR.W    R0,??DataTable65_1
   \   000000BA   ........           BL       sprintf
    496                         Write_Log(Buffer, NORMAL_LOG);
   \   000000BE   0121               MOVS     R1,#+1
   \   000000C0   ........           LDR.W    R0,??DataTable65_1
   \   000000C4   ........           BL       Write_Log
    497                    }           
    498                    
    499                    if(USBH_MSC_Param.MSWriteProtect == DISK_WRITE_PROTECTED)
   \                     ??USBH_USR_MSC_Application_14:
   \   000000C8   ........           LDR.W    R0,??DataTable66_8
   \   000000CC   007B               LDRB     R0,[R0, #+12]
   \   000000CE   0128               CMP      R0,#+1
   \   000000D0   0FD1               BNE.N    ??USBH_USR_MSC_Application_15
    500                    {
    501                         if(LOGWRITE & LOG_USB_SYSTEM)                       
   \   000000D2   ........           LDR.W    R0,??DataTable66_5
   \   000000D6   0068               LDR      R0,[R0, #+0]
   \   000000D8   C004               LSLS     R0,R0,#+19
   \   000000DA   0AD5               BPL.N    ??USBH_USR_MSC_Application_15
    502                         {     
    503                              sprintf((char *)Buffer, (void *)MSG_WR_PROTECT); 
   \   000000DC   ........           LDR.W    R1,??DataTable66_10
   \   000000E0   ........           LDR.W    R0,??DataTable65_1
   \   000000E4   ........           BL       sprintf
    504                              Write_Log(Buffer, ERROR_LOG);
   \   000000E8   0421               MOVS     R1,#+4
   \   000000EA   ........           LDR.W    R0,??DataTable65_1
   \   000000EE   ........           BL       Write_Log
    505                         }                 
    506                    }
    507                      
    508                    IWDG_ReloadCounter();                   // Clear IWDG
   \                     ??USBH_USR_MSC_Application_15:
   \   000000F2   ........           BL       IWDG_ReloadCounter
    509                    f_mount(0, &fatfs);
   \   000000F6   ........           LDR.W    R1,??DataTable66_4
   \   000000FA   0020               MOVS     R0,#+0
   \   000000FC   ........           BL       f_mount
    510                    f_mkdir("0:\\LOG_File");
   \   00000100   ........           LDR.W    R0,??DataTable66_11
   \   00000104   ........           BL       f_mkdir
    511                    f_mkdir("0:\\DTG_File");
   \   00000108   ........           LDR.W    R0,??DataTable66_12
   \   0000010C   ........           BL       f_mkdir
    512                    f_mkdir("0:\\BACKUP_File");
   \   00000110   ........           LDR.W    R0,??DataTable66_13
   \   00000114   ........           BL       f_mkdir
    513                    f_mkdir("0:\\EVENT_File");          
   \   00000118   ........           LDR.W    R0,??DataTable66_14
   \   0000011C   ........           BL       f_mkdir
    514                    f_mkdir("0:\\Config");
   \   00000120   ........           LDR.W    R0,??DataTable66_15
   \   00000124   ........           BL       f_mkdir
    515                    f_mount(0, NULL);
   \   00000128   0021               MOVS     R1,#+0
   \   0000012A   0020               MOVS     R0,#+0
   \   0000012C   ........           BL       f_mount
    516                    //USBH_USR_ApplicationState = USH_USR_FS_IDLE;       // 
    517                    USBH_USR_ApplicationState = USH_USR_FS_IDLE;           // 
   \   00000130   ........           LDR.W    R0,??DataTable66_3
   \   00000134   0121               MOVS     R1,#+1
   \   00000136   0170               STRB     R1,[R0, #+0]
    518                    break;
   \   00000138   00F0C9BC           B.W      ??USBH_USR_MSC_Application_10
    519                   
    520                    case USH_USR_FS_IDLE:
    521                    {
    522                         //  
    523                         if( USBH_USR_ActionFlag == USH_USR_FS_IDLE )      //              
   \                     ??USBH_USR_MSC_Application_1:
   \   0000013C   ........           LDR.W    R0,??DataTable66_16
   \   00000140   0078               LDRB     R0,[R0, #+0]
   \   00000142   0128               CMP      R0,#+1
   \   00000144   07D1               BNE.N    ??USBH_USR_MSC_Application_16
    524                         {
    525                              USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   00000146   ........           LDR.W    R0,??DataTable66_3
   \   0000014A   0121               MOVS     R1,#+1
   \   0000014C   0170               STRB     R1,[R0, #+0]
    526                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;
   \   0000014E   ........           LDR.W    R0,??DataTable66_16
   \   00000152   0121               MOVS     R1,#+1
   \   00000154   0170               STRB     R1,[R0, #+0]
    527                         }               
    528                         if( USBH_USR_ActionFlag == USH_USR_FS_WRITELOG )       //  
   \                     ??USBH_USR_MSC_Application_16:
   \   00000156   ........           LDR.W    R0,??DataTable66_16
   \   0000015A   0078               LDRB     R0,[R0, #+0]
   \   0000015C   0228               CMP      R0,#+2
   \   0000015E   07D1               BNE.N    ??USBH_USR_MSC_Application_17
    529                         {
    530                              USBH_USR_ApplicationState = USH_USR_FS_WRITELOG;
   \   00000160   ........           LDR.W    R0,??DataTable66_3
   \   00000164   0221               MOVS     R1,#+2
   \   00000166   0170               STRB     R1,[R0, #+0]
    531                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;
   \   00000168   ........           LDR.W    R0,??DataTable66_16
   \   0000016C   0121               MOVS     R1,#+1
   \   0000016E   0170               STRB     R1,[R0, #+0]
    532                         }
    533                         if( USBH_USR_ActionFlag == USH_USR_FS_WRITEFILE )      // 1 
   \                     ??USBH_USR_MSC_Application_17:
   \   00000170   ........           LDR.W    R0,??DataTable66_16
   \   00000174   0078               LDRB     R0,[R0, #+0]
   \   00000176   0328               CMP      R0,#+3
   \   00000178   07D1               BNE.N    ??USBH_USR_MSC_Application_18
    534                         {
    535                              USBH_USR_ApplicationState = USH_USR_FS_WRITEFILE;
   \   0000017A   ........           LDR.W    R0,??DataTable66_3
   \   0000017E   0321               MOVS     R1,#+3
   \   00000180   0170               STRB     R1,[R0, #+0]
    536                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;
   \   00000182   ........           LDR.W    R0,??DataTable66_16
   \   00000186   0121               MOVS     R1,#+1
   \   00000188   0170               STRB     R1,[R0, #+0]
    537                         }               
    538                         if( USBH_USR_ActionFlag == USH_USR_FS_WRITEBACKUP )      //              
   \                     ??USBH_USR_MSC_Application_18:
   \   0000018A   ........           LDR.W    R0,??DataTable66_16
   \   0000018E   0078               LDRB     R0,[R0, #+0]
   \   00000190   0428               CMP      R0,#+4
   \   00000192   07D1               BNE.N    ??USBH_USR_MSC_Application_19
    539                         {
    540                              USBH_USR_ApplicationState = USH_USR_FS_WRITEBACKUP;
   \   00000194   ........           LDR.W    R0,??DataTable66_3
   \   00000198   0421               MOVS     R1,#+4
   \   0000019A   0170               STRB     R1,[R0, #+0]
    541                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   0000019C   ........           LDR.W    R0,??DataTable66_16
   \   000001A0   0121               MOVS     R1,#+1
   \   000001A2   0170               STRB     R1,[R0, #+0]
    542                         }
    543                         if( USBH_USR_ActionFlag == USH_USR_FS_UPDATE )      //              
   \                     ??USBH_USR_MSC_Application_19:
   \   000001A4   ........           LDR.W    R0,??DataTable66_16
   \   000001A8   0078               LDRB     R0,[R0, #+0]
   \   000001AA   0628               CMP      R0,#+6
   \   000001AC   07D1               BNE.N    ??USBH_USR_MSC_Application_20
    544                         {
    545                              USBH_USR_ApplicationState = USH_USR_FS_UPDATE;
   \   000001AE   ........           LDR.W    R0,??DataTable66_3
   \   000001B2   0621               MOVS     R1,#+6
   \   000001B4   0170               STRB     R1,[R0, #+0]
    546                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   000001B6   ........           LDR.W    R0,??DataTable66_16
   \   000001BA   0121               MOVS     R1,#+1
   \   000001BC   0170               STRB     R1,[R0, #+0]
    547                         }               
    548                         if( USBH_USR_ActionFlag == USH_USR_FS_SOUND )      //               
   \                     ??USBH_USR_MSC_Application_20:
   \   000001BE   ........           LDR.W    R0,??DataTable66_16
   \   000001C2   0078               LDRB     R0,[R0, #+0]
   \   000001C4   0728               CMP      R0,#+7
   \   000001C6   07D1               BNE.N    ??USBH_USR_MSC_Application_21
    549                         {
    550                              USBH_USR_ApplicationState = USH_USR_FS_SOUND;
   \   000001C8   ........           LDR.W    R0,??DataTable66_3
   \   000001CC   0721               MOVS     R1,#+7
   \   000001CE   0170               STRB     R1,[R0, #+0]
    551                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   000001D0   ........           LDR.W    R0,??DataTable66_16
   \   000001D4   0121               MOVS     R1,#+1
   \   000001D6   0170               STRB     R1,[R0, #+0]
    552                         }
    553                         if( USBH_USR_ActionFlag == USH_USR_FS_READPARAMETER )      //              
   \                     ??USBH_USR_MSC_Application_21:
   \   000001D8   ........           LDR.W    R0,??DataTable66_16
   \   000001DC   0078               LDRB     R0,[R0, #+0]
   \   000001DE   0528               CMP      R0,#+5
   \   000001E0   07D1               BNE.N    ??USBH_USR_MSC_Application_22
    554                         {
    555                              USBH_USR_ApplicationState = USH_USR_FS_READPARAMETER;
   \   000001E2   ........           LDR.W    R0,??DataTable66_3
   \   000001E6   0521               MOVS     R1,#+5
   \   000001E8   0170               STRB     R1,[R0, #+0]
    556                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   000001EA   ........           LDR.W    R0,??DataTable66_16
   \   000001EE   0121               MOVS     R1,#+1
   \   000001F0   0170               STRB     R1,[R0, #+0]
    557                         }
    558                         if( USBH_USR_ActionFlag == USH_USR_FS_READDRIVER )      //   
   \                     ??USBH_USR_MSC_Application_22:
   \   000001F2   ........           LDR.W    R0,??DataTable66_16
   \   000001F6   0078               LDRB     R0,[R0, #+0]
   \   000001F8   0928               CMP      R0,#+9
   \   000001FA   07D1               BNE.N    ??USBH_USR_MSC_Application_23
    559                         {
    560                              USBH_USR_ApplicationState = USH_USR_FS_READDRIVER;
   \   000001FC   ........           LDR.W    R0,??DataTable66_3
   \   00000200   0921               MOVS     R1,#+9
   \   00000202   0170               STRB     R1,[R0, #+0]
    561                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   00000204   ........           LDR.W    R0,??DataTable66_16
   \   00000208   0121               MOVS     R1,#+1
   \   0000020A   0170               STRB     R1,[R0, #+0]
    562                         }
    563                         if( USBH_USR_ActionFlag == USH_USR_FS_WRITEACCIDENT )      //  
   \                     ??USBH_USR_MSC_Application_23:
   \   0000020C   ........           LDR.W    R0,??DataTable66_16
   \   00000210   0078               LDRB     R0,[R0, #+0]
   \   00000212   0A28               CMP      R0,#+10
   \   00000214   07D1               BNE.N    ??USBH_USR_MSC_Application_24
    564                         {
    565                              USBH_USR_ApplicationState = USH_USR_FS_WRITEACCIDENT;
   \   00000216   ........           LDR.W    R0,??DataTable66_3
   \   0000021A   0A21               MOVS     R1,#+10
   \   0000021C   0170               STRB     R1,[R0, #+0]
    566                              USBH_USR_ActionFlag = USH_USR_FS_IDLE;                    
   \   0000021E   ........           LDR.W    R0,??DataTable66_16
   \   00000222   0121               MOVS     R1,#+1
   \   00000224   0170               STRB     R1,[R0, #+0]
    567                         }               
    568                         
    569                    }break;
   \                     ??USBH_USR_MSC_Application_24:
   \   00000226   00F052BC           B.W      ??USBH_USR_MSC_Application_10
    570                    case USH_USR_FS_WRITELOG:
    571                    {
    572                                   
    573                         IWDG_ReloadCounter();                   // Clear IWDG
   \                     ??USBH_USR_MSC_Application_2:
   \   0000022A   ........           BL       IWDG_ReloadCounter
    574                         sprintf((char *) FileName, "0:\\Log_File\\%d%d%d.txt", SYSTEM_TIME.tm_year,SYSTEM_TIME.tm_mon,SYSTEM_TIME.tm_mday);
   \   0000022E   ........           LDR.W    R0,??DataTable66_17
   \   00000232   C068               LDR      R0,[R0, #+12]
   \   00000234   0090               STR      R0,[SP, #+0]
   \   00000236   ........           LDR.W    R0,??DataTable66_17
   \   0000023A   0369               LDR      R3,[R0, #+16]
   \   0000023C   ........           LDR.W    R0,??DataTable66_17
   \   00000240   4269               LDR      R2,[R0, #+20]
   \   00000242   ........           ADR.W    R1,`?<Constant "0:\\\\Log_File\\\\%d%d%d.txt">`
   \   00000246   03A8               ADD      R0,SP,#+12
   \   00000248   ........           BL       sprintf
    575                         if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
   \   0000024C   ........           LDR.W    R0,??DataTable66_18
   \   00000250   ........           BL       HCD_IsDeviceConnected
   \   00000254   0028               CMP      R0,#+0
   \   00000256   05D1               BNE.N    ??USBH_USR_MSC_Application_25
    576                         {
    577                              USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   00000258   ........           LDR.W    R0,??DataTable66_3
   \   0000025C   0121               MOVS     R1,#+1
   \   0000025E   0170               STRB     R1,[R0, #+0]
    578                              break;
   \   00000260   00F035BC           B.W      ??USBH_USR_MSC_Application_10
    579                         }
    580                         f_mount(0, &fatfs);               
   \                     ??USBH_USR_MSC_Application_25:
   \   00000264   ........           LDR.W    R1,??DataTable66_4
   \   00000268   0020               MOVS     R0,#+0
   \   0000026A   ........           BL       f_mount
    581                         if(f_open(&file, (char*)FileName,FA_OPEN_ALWAYS | FA_WRITE) == FR_OK) 
   \   0000026E   1222               MOVS     R2,#+18
   \   00000270   03A9               ADD      R1,SP,#+12
   \   00000272   ........           LDR.W    R0,??DataTable66_19
   \   00000276   ........           BL       f_open
   \   0000027A   0028               CMP      R0,#+0
   \   0000027C   1ED1               BNE.N    ??USBH_USR_MSC_Application_26
    582                         {
    583                              bytesToWrite = strlen(( char * )USBH_USR_Log_Buffer ); 
   \   0000027E   ........           LDR.W    R0,??DataTable66_20
   \   00000282   ........           BL       strlen
   \   00000286   0400               MOVS     R4,R0
    584          //                    f_stat(FileName,&finfo);
    585                              f_lseek(&file,file.fsize);
   \   00000288   ........           LDR.W    R0,??DataTable66_19
   \   0000028C   C168               LDR      R1,[R0, #+12]
   \   0000028E   ........           LDR.W    R0,??DataTable66_19
   \   00000292   ........           BL       f_lseek
    586                              res= f_write (&file, USBH_USR_Log_Buffer, bytesToWrite, (void *)&bytesWritten);                      
   \   00000296   0DF10603           ADD      R3,SP,#+6
   \   0000029A   A4B2               UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   0000029C   2200               MOVS     R2,R4
   \   0000029E   ........           LDR.W    R1,??DataTable66_20
   \   000002A2   ........           LDR.W    R0,??DataTable66_19
   \   000002A6   ........           BL       f_write
   \   000002AA   0400               MOVS     R4,R0
    587                              
    588                              f_close(&file);
   \   000002AC   ........           LDR.W    R0,??DataTable66_19
   \   000002B0   ........           BL       f_close
    589                              f_mount(0, NULL);                     
   \   000002B4   0021               MOVS     R1,#+0
   \   000002B6   0020               MOVS     R0,#+0
   \   000002B8   ........           BL       f_mount
    590                         }
    591                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \                     ??USBH_USR_MSC_Application_26:
   \   000002BC   ........           LDR.W    R0,??DataTable66_3
   \   000002C0   0121               MOVS     R1,#+1
   \   000002C2   0170               STRB     R1,[R0, #+0]
    592                         
    593                    }break;
   \   000002C4   00F003BC           B.W      ??USBH_USR_MSC_Application_10
    594                    case USH_USR_FS_WRITEFILE:              // 1 
    595                    {
    596          
    597                         IWDG_ReloadCounter();                   // Clear IWDG               
   \                     ??USBH_USR_MSC_Application_3:
   \   000002C8   ........           BL       IWDG_ReloadCounter
    598                         sprintf((char *) FileName, "0:\\DTG_File\\%04d%02d%02d.txt", SYSTEM_TIME.tm_year,SYSTEM_TIME.tm_mon,SYSTEM_TIME.tm_mday);
   \   000002CC   ........           LDR.W    R0,??DataTable66_17
   \   000002D0   C068               LDR      R0,[R0, #+12]
   \   000002D2   0090               STR      R0,[SP, #+0]
   \   000002D4   ........           LDR.W    R0,??DataTable66_17
   \   000002D8   0369               LDR      R3,[R0, #+16]
   \   000002DA   ........           LDR.W    R0,??DataTable66_17
   \   000002DE   4269               LDR      R2,[R0, #+20]
   \   000002E0   ........           ADR.W    R1,`?<Constant "0:\\\\DTG_File\\\\%04d%02d%...">`
   \   000002E4   03A8               ADD      R0,SP,#+12
   \   000002E6   ........           BL       sprintf
    599                         if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
   \   000002EA   ........           LDR.W    R0,??DataTable66_18
   \   000002EE   ........           BL       HCD_IsDeviceConnected
   \   000002F2   0028               CMP      R0,#+0
   \   000002F4   04D1               BNE.N    ??USBH_USR_MSC_Application_27
    600                         {
    601                              USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   000002F6   ........           LDR.W    R0,??DataTable66_3
   \   000002FA   0121               MOVS     R1,#+1
   \   000002FC   0170               STRB     R1,[R0, #+0]
    602                              break;
   \   000002FE   E6E3               B.N      ??USBH_USR_MSC_Application_10
    603                         }
    604                         f_mount(0, &fatfs);               
   \                     ??USBH_USR_MSC_Application_27:
   \   00000300   ........           LDR.W    R1,??DataTable66_4
   \   00000304   0020               MOVS     R0,#+0
   \   00000306   ........           BL       f_mount
    605                         if(f_open(&file,  (char*)FileName,FA_OPEN_ALWAYS | FA_WRITE) == FR_OK) 
   \   0000030A   1222               MOVS     R2,#+18
   \   0000030C   03A9               ADD      R1,SP,#+12
   \   0000030E   ........           LDR.W    R0,??DataTable66_19
   \   00000312   ........           BL       f_open
   \   00000316   0028               CMP      R0,#+0
   \   00000318   1ED1               BNE.N    ??USBH_USR_MSC_Application_28
    606                         {
    607                              bytesToWrite = strlen(( char * )USBH_USR_DTG_Buffer); 
   \   0000031A   ........           LDR.W    R0,??DataTable66_21
   \   0000031E   ........           BL       strlen
   \   00000322   0400               MOVS     R4,R0
    608          //                    USBH_USR_DTG_Buffer[20]=0;
    609          //                    printf("%s\r\n",USBH_USR_DTG_Buffer);
    610          //                    f_stat(FileName,&finfo);
    611                              f_lseek(&file,file.fsize);
   \   00000324   ........           LDR.W    R0,??DataTable66_19
   \   00000328   C168               LDR      R1,[R0, #+12]
   \   0000032A   ........           LDR.W    R0,??DataTable66_19
   \   0000032E   ........           BL       f_lseek
    612                              res= f_write (&file, USBH_USR_DTG_Buffer, bytesToWrite, (void *)&bytesWritten);                      
   \   00000332   0DF10603           ADD      R3,SP,#+6
   \   00000336   A4B2               UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000338   2200               MOVS     R2,R4
   \   0000033A   ........           LDR.W    R1,??DataTable66_21
   \   0000033E   ........           LDR.W    R0,??DataTable66_19
   \   00000342   ........           BL       f_write
   \   00000346   0400               MOVS     R4,R0
    613                              
    614                              f_close(&file);
   \   00000348   ........           LDR.W    R0,??DataTable66_19
   \   0000034C   ........           BL       f_close
    615                              f_mount(0, NULL);                     
   \   00000350   0021               MOVS     R1,#+0
   \   00000352   0020               MOVS     R0,#+0
   \   00000354   ........           BL       f_mount
    616                         }
    617                         if(Flag.EMS_Data_Save == 1)             //    EMS   
   \                     ??USBH_USR_MSC_Application_28:
   \   00000358   ........           LDR.W    R0,??DataTable66_22
   \   0000035C   407C               LDRB     R0,[R0, #+17]
   \   0000035E   0128               CMP      R0,#+1
   \   00000360   40F09080           BNE.W    ??USBH_USR_MSC_Application_29
    618                         {
    619                              sprintf((char *) FileName, "0:\\DTG_File\\EMS_%04d%02d%02d.txt", SYSTEM_TIME.tm_year,SYSTEM_TIME.tm_mon,SYSTEM_TIME.tm_mday);
   \   00000364   ........           LDR.W    R0,??DataTable66_17
   \   00000368   C068               LDR      R0,[R0, #+12]
   \   0000036A   0090               STR      R0,[SP, #+0]
   \   0000036C   ........           LDR.W    R0,??DataTable66_17
   \   00000370   0369               LDR      R3,[R0, #+16]
   \   00000372   ........           LDR.W    R0,??DataTable66_17
   \   00000376   4269               LDR      R2,[R0, #+20]
   \   00000378   ........           ADR.W    R1,`?<Constant "0:\\\\DTG_File\\\\EMS_%04d%...">`
   \   0000037C   03A8               ADD      R0,SP,#+12
   \   0000037E   ........           BL       sprintf
    620                              if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
   \   00000382   ........           LDR.W    R0,??DataTable66_18
   \   00000386   ........           BL       HCD_IsDeviceConnected
   \   0000038A   0028               CMP      R0,#+0
   \   0000038C   04D1               BNE.N    ??USBH_USR_MSC_Application_30
    621                              {
    622                                   USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   0000038E   ........           LDR.W    R0,??DataTable66_3
   \   00000392   0121               MOVS     R1,#+1
   \   00000394   0170               STRB     R1,[R0, #+0]
    623                                   break;
   \   00000396   9AE3               B.N      ??USBH_USR_MSC_Application_10
    624                              }
    625                              f_mount(0, &fatfs);               
   \                     ??USBH_USR_MSC_Application_30:
   \   00000398   ........           LDR.W    R1,??DataTable66_4
   \   0000039C   0020               MOVS     R0,#+0
   \   0000039E   ........           BL       f_mount
    626                              
    627                              if(f_open(&file,  (char*)FileName,FA_OPEN_ALWAYS | FA_WRITE) == FR_OK) 
   \   000003A2   1222               MOVS     R2,#+18
   \   000003A4   03A9               ADD      R1,SP,#+12
   \   000003A6   ........           LDR.W    R0,??DataTable66_19
   \   000003AA   ........           BL       f_open
   \   000003AE   0028               CMP      R0,#+0
   \   000003B0   20D1               BNE.N    ??USBH_USR_MSC_Application_31
    628                              {
    629                                   Conver_EMS_Data();       // EMS                          
   \   000003B2   ........           BL       Conver_EMS_Data
    630                                   bytesToWrite = strlen(( char * )USBH_USR_DTG_Buffer); 
   \   000003B6   ........           LDR.W    R0,??DataTable66_21
   \   000003BA   ........           BL       strlen
   \   000003BE   0400               MOVS     R4,R0
    631                                   f_lseek(&file,file.fsize);
   \   000003C0   ........           LDR.W    R0,??DataTable66_19
   \   000003C4   C168               LDR      R1,[R0, #+12]
   \   000003C6   ........           LDR.W    R0,??DataTable66_19
   \   000003CA   ........           BL       f_lseek
    632                                   res= f_write (&file, USBH_USR_DTG_Buffer, bytesToWrite, (void *)&bytesWritten);                      
   \   000003CE   0DF10603           ADD      R3,SP,#+6
   \   000003D2   A4B2               UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   000003D4   2200               MOVS     R2,R4
   \   000003D6   ........           LDR.W    R1,??DataTable66_21
   \   000003DA   ........           LDR.W    R0,??DataTable66_19
   \   000003DE   ........           BL       f_write
   \   000003E2   0400               MOVS     R4,R0
    633                                   
    634                                   f_close(&file);
   \   000003E4   ........           LDR.W    R0,??DataTable66_19
   \   000003E8   ........           BL       f_close
    635                                   f_mount(0, NULL);                     
   \   000003EC   0021               MOVS     R1,#+0
   \   000003EE   0020               MOVS     R0,#+0
   \   000003F0   ........           BL       f_mount
    636                              }               
    637                              
    638                              sprintf((char *) FileName, "0:\\BACKUP_File\\Bk%04d%02d%02d.dtg", SYSTEM_TIME.tm_year,SYSTEM_TIME.tm_mon,SYSTEM_TIME.tm_mday);
   \                     ??USBH_USR_MSC_Application_31:
   \   000003F4   ........           LDR.W    R0,??DataTable66_17
   \   000003F8   C068               LDR      R0,[R0, #+12]
   \   000003FA   0090               STR      R0,[SP, #+0]
   \   000003FC   ........           LDR.W    R0,??DataTable66_17
   \   00000400   0369               LDR      R3,[R0, #+16]
   \   00000402   ........           LDR.W    R0,??DataTable66_17
   \   00000406   4269               LDR      R2,[R0, #+20]
   \   00000408   ........           ADR.W    R1,`?<Constant "0:\\\\BACKUP_File\\\\Bk%04d...">`
   \   0000040C   03A8               ADD      R0,SP,#+12
   \   0000040E   ........           BL       sprintf
    639                              if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
   \   00000412   ........           LDR.W    R0,??DataTable66_18
   \   00000416   ........           BL       HCD_IsDeviceConnected
   \   0000041A   0028               CMP      R0,#+0
   \   0000041C   04D1               BNE.N    ??USBH_USR_MSC_Application_32
    640                              {
    641                                   USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   0000041E   ........           LDR.W    R0,??DataTable66_3
   \   00000422   0121               MOVS     R1,#+1
   \   00000424   0170               STRB     R1,[R0, #+0]
    642                                   break;
   \   00000426   52E3               B.N      ??USBH_USR_MSC_Application_10
    643                              }
    644                              f_mount(0, &fatfs);               
   \                     ??USBH_USR_MSC_Application_32:
   \   00000428   ........           LDR.W    R1,??DataTable66_4
   \   0000042C   0020               MOVS     R0,#+0
   \   0000042E   ........           BL       f_mount
    645                              
    646                              if(f_open(&file,  (char*)FileName,FA_OPEN_ALWAYS | FA_WRITE) == FR_OK) 
   \   00000432   1222               MOVS     R2,#+18
   \   00000434   03A9               ADD      R1,SP,#+12
   \   00000436   ........           LDR.W    R0,??DataTable66_19
   \   0000043A   ........           BL       f_open
   \   0000043E   0028               CMP      R0,#+0
   \   00000440   20D1               BNE.N    ??USBH_USR_MSC_Application_29
    647                              {
    648                                   Conver_EMS_Data();       // EMS                          
   \   00000442   ........           BL       Conver_EMS_Data
    649                                   bytesToWrite = strlen(( char * )USBH_USR_DTG_Buffer); 
   \   00000446   ........           LDR.W    R0,??DataTable66_21
   \   0000044A   ........           BL       strlen
   \   0000044E   0400               MOVS     R4,R0
    650                                   f_lseek(&file,file.fsize);
   \   00000450   ........           LDR.W    R0,??DataTable66_19
   \   00000454   C168               LDR      R1,[R0, #+12]
   \   00000456   ........           LDR.W    R0,??DataTable66_19
   \   0000045A   ........           BL       f_lseek
    651                                   res= f_write (&file, USBH_USR_DTG_Buffer, bytesToWrite, (void *)&bytesWritten);                      
   \   0000045E   0DF10603           ADD      R3,SP,#+6
   \   00000462   A4B2               UXTH     R4,R4            ;; ZeroExt  R4,R4,#+16,#+16
   \   00000464   2200               MOVS     R2,R4
   \   00000466   ........           LDR.W    R1,??DataTable66_21
   \   0000046A   ........           LDR.W    R0,??DataTable66_19
   \   0000046E   ........           BL       f_write
   \   00000472   0400               MOVS     R4,R0
    652                                   
    653                                   f_close(&file);
   \   00000474   ........           LDR.W    R0,??DataTable66_19
   \   00000478   ........           BL       f_close
    654                                   f_mount(0, NULL);                     
   \   0000047C   0021               MOVS     R1,#+0
   \   0000047E   0020               MOVS     R0,#+0
   \   00000480   ........           BL       f_mount
    655                              }               
    656                              
    657                         }
    658                         Flag.EMS_Data_Save = 0;
   \                     ??USBH_USR_MSC_Application_29:
   \   00000484   ........           LDR.W    R0,??DataTable66_22
   \   00000488   0021               MOVS     R1,#+0
   \   0000048A   4174               STRB     R1,[R0, #+17]
    659                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   0000048C   ........           LDR.W    R0,??DataTable66_3
   \   00000490   0121               MOVS     R1,#+1
   \   00000492   0170               STRB     R1,[R0, #+0]
    660                         
    661                    }break;          
   \   00000494   1BE3               B.N      ??USBH_USR_MSC_Application_10
    662                    case USH_USR_FS_WRITEACCIDENT :
    663                    {
    664                         sprintf((char *) FileName, "0:\\EVENT_File\\%s.evt",Accident_Time   );
   \                     ??USBH_USR_MSC_Application_9:
   \   00000496   ........           LDR.W    R2,??DataTable66_23
   \   0000049A   ........           ADR.W    R1,`?<Constant "0:\\\\EVENT_File\\\\%s.evt">`
   \   0000049E   03A8               ADD      R0,SP,#+12
   \   000004A0   ........           BL       sprintf
    665                         if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
   \   000004A4   ........           LDR.W    R0,??DataTable66_18
   \   000004A8   ........           BL       HCD_IsDeviceConnected
   \   000004AC   0028               CMP      R0,#+0
   \   000004AE   04D1               BNE.N    ??USBH_USR_MSC_Application_33
    666                         {
    667                              USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   000004B0   ........           LDR.W    R0,??DataTable66_3
   \   000004B4   0121               MOVS     R1,#+1
   \   000004B6   0170               STRB     R1,[R0, #+0]
    668                              break;
   \   000004B8   09E3               B.N      ??USBH_USR_MSC_Application_10
    669                         }
    670                         f_mount(0, &fatfs);  
   \                     ??USBH_USR_MSC_Application_33:
   \   000004BA   ........           LDR.W    R1,??DataTable66_4
   \   000004BE   0020               MOVS     R0,#+0
   \   000004C0   ........           BL       f_mount
    671                         if( f_open(&file,  (char*)FileName, FA_OPEN_ALWAYS | FA_WRITE) == FR_OK )                     
   \   000004C4   1222               MOVS     R2,#+18
   \   000004C6   03A9               ADD      R1,SP,#+12
   \   000004C8   ........           LDR.W    R0,??DataTable66_19
   \   000004CC   ........           BL       f_open
   \   000004D0   0028               CMP      R0,#+0
   \   000004D2   2CD1               BNE.N    ??USBH_USR_MSC_Application_34
    672                         {
    673                              f_lseek(&file,file.fsize);
   \   000004D4   ........           LDR.W    R0,??DataTable66_19
   \   000004D8   C168               LDR      R1,[R0, #+12]
   \   000004DA   ........           LDR.W    R0,??DataTable66_19
   \   000004DE   ........           BL       f_lseek
    674                              for( i = 0 ; i < 32 ; i ++ )
   \   000004E2   0025               MOVS     R5,#+0
   \   000004E4   18E0               B.N      ??USBH_USR_MSC_Application_35
    675                              {
    676                                   memcpy(USB_File_Buffer,& NAND_Buffer[i * MAX_USB_FILE_SIZE], MAX_USB_FILE_SIZE);
   \                     ??USBH_USR_MSC_Application_36:
   \   000004E6   4FF48072           MOV      R2,#+256
   \   000004EA   ADB2               UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   000004EC   4FF48070           MOV      R0,#+256
   \   000004F0   ........           LDR.W    R1,??DataTable66_24
   \   000004F4   00FB0511           MLA      R1,R0,R5,R1
   \   000004F8   ........           LDR.W    R0,??DataTable66_25
   \   000004FC   ........           BL       memcpy
    677          //                         bytesToWrite = strlen(( char * )USBH_USR_DTG_Buffer); 
    678                                   res= f_write (&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&bytesWritten);                      
   \   00000500   0DF10603           ADD      R3,SP,#+6
   \   00000504   4FF48072           MOV      R2,#+256
   \   00000508   ........           LDR.W    R1,??DataTable66_25
   \   0000050C   ........           LDR.W    R0,??DataTable66_19
   \   00000510   ........           BL       f_write
   \   00000514   0400               MOVS     R4,R0
    679                              }
   \   00000516   6D1C               ADDS     R5,R5,#+1
   \                     ??USBH_USR_MSC_Application_35:
   \   00000518   ADB2               UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   0000051A   202D               CMP      R5,#+32
   \   0000051C   E3D3               BCC.N    ??USBH_USR_MSC_Application_36
    680                              f_close(&file);
   \   0000051E   ........           LDR.W    R0,??DataTable66_19
   \   00000522   ........           BL       f_close
    681                              f_mount(0, NULL);                     
   \   00000526   0021               MOVS     R1,#+0
   \   00000528   0020               MOVS     R0,#+0
   \   0000052A   ........           BL       f_mount
    682                         }               
    683                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \                     ??USBH_USR_MSC_Application_34:
   \   0000052E   ........           LDR.W    R0,??DataTable66_3
   \   00000532   0121               MOVS     R1,#+1
   \   00000534   0170               STRB     R1,[R0, #+0]
    684                    }break;
   \   00000536   CAE2               B.N      ??USBH_USR_MSC_Application_10
    685                    case USH_USR_FS_WRITEBACKUP:
    686                    {
    687                         LedCount = 0 ;
   \                     ??USBH_USR_MSC_Application_4:
   \   00000538   0026               MOVS     R6,#+0
    688                         for( i = 0 ; i < VIEW_Header.Search_Count ; i++)
   \   0000053A   0025               MOVS     R5,#+0
   \   0000053C   08E0               B.N      ??USBH_USR_MSC_Application_37
    689                         {
    690                              VIEW_Header.Header = Read_Header_Information( GetHeader_Index( VIEW_Header.Start_Index , i ) ) ;
    691                              
    692                              if(VIEW_Header.Header.Start_Page == 0 && VIEW_Header.Header.End_Page )
    693                                   continue;
    694                              
    695                              sprintf((char *) FileName, "0:\\DTG_File\\Backup%02d%02d%02d.bin",
    696                                      VIEW_Header.Header.Date[0],
    697                                      VIEW_Header.Header.Date[1],
    698                                      VIEW_Header.Header.Date[2]);
    699                              
    700                              if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
    701                              {
    702                                   USBH_USR_ApplicationState = USH_USR_FS_IDLE;
    703                                   break;
    704                              }
    705          
    706                              f_mount(0, &fatfs);        
    707                              
    708                              BackupPercent = VIEW_Header.Header.End_Page - VIEW_Header.Header.Start_Page;
    709                              BackupPercent2 = 1;
    710                              if( f_open(&file,  (char*)FileName, FA_OPEN_ALWAYS | FA_WRITE) == FR_OK ) 
    711                              {
    712                                   f_lseek(&file,file.fsize);
    713                                   sprintf(( char * )Buffer,"000 %%");
    714                                   GLcd_PutString2(7,16,Buffer,1);                          
                                          ^
Warning[Pe223]: function "GLcd_PutString2" declared implicitly
    715                                   for( i2 = VIEW_Header.Header.Start_Page ; i2 < VIEW_Header.Header.End_Page ;i2++)
    716                                   {
    717                                        IWDG_ReloadCounter();                   // Clear IWDG
    718                                    //    TimerSch[ TimerCount ++] = MS_TIMER;
    719                                        DTG_EMS_DataLoad(i2); 
    720                                        if(LedCount  < 1 )
    721                                        {     
    722                                             LED2_OFF();
    723                                        }
    724                                        else if( LedCount < 2)
    725                                        {
    726                                             LED2_GREEN();
    727                                        }else 
    728                                             LedCount = 0;
    729                                        LedCount ++ ;
    730                                        BackupNum = (u16)((float)((float)BackupPercent2 / (float)BackupPercent)  * 100);
    731                                        sprintf(( char * )Buffer,"%03d %%",BackupNum);
    732                                        BackupPercent2++;
    733                                        GLcd_PutString2(7,16,Buffer,1);  
    734          //                              Convert_Backup_Data();
    735          //                              for( i = 0 ; i < 8192 ;i ++)
    736          //                                   NAND_Buffer[i] = ( 0x30 + (i % 10));
    737                                        for(i3 = 0 ; i3 < 16 ; i3++)
    738                                             res= f_write (&file, &NAND_Buffer[ i3 * 512 ], 512, (void *)&bytesWritten);                                
    739          //                              res= f_write (&file, &NAND_Buffer[4096], 4096, (void *)&bytesWritten);                                                              
    740          //                              for( i3 = 0 ; i3 < DATA_IN_PAGE_SIZE ; i3++ )
    741          //                              {
    742          //                                   Convert_DTG_Data(i3);
    743          //                                   bytesToWrite = strlen(USBH_USR_DTG_Buffer);   
    744          //                                   res= f_write (&file, USBH_USR_DTG_Buffer, bytesToWrite, (void *)&bytesWritten);                                       
    745          //                              }
    746          //                              printf("%d\r\n",i2);
    747                                        
    748                                   }
    749                                              
    750                              }
    751          
    752                              f_close(&file);
   \                     ??USBH_USR_MSC_Application_38:
   \   0000053E   ........           LDR.W    R0,??DataTable66_19
   \   00000542   ........           BL       f_close
    753                              f_mount(0, NULL);                        
   \   00000546   0021               MOVS     R1,#+0
   \   00000548   0020               MOVS     R0,#+0
   \   0000054A   ........           BL       f_mount
   \                     ??USBH_USR_MSC_Application_39:
   \   0000054E   6D1C               ADDS     R5,R5,#+1
   \                     ??USBH_USR_MSC_Application_37:
   \   00000550   ADB2               UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   00000552   ........           LDR.W    R0,??DataTable66_26
   \   00000556   4068               LDR      R0,[R0, #+4]
   \   00000558   8542               CMP      R5,R0
   \   0000055A   39D2               BCS.N    ??USBH_USR_MSC_Application_40
   \   0000055C   2900               MOVS     R1,R5
   \   0000055E   09B2               SXTH     R1,R1            ;; SignExt  R1,R1,#+16,#+16
   \   00000560   ........           LDR.W    R0,??DataTable66_26
   \   00000564   0068               LDR      R0,[R0, #+0]
   \   00000566   80B2               UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   00000568   ........           BL       GetHeader_Index
   \   0000056C   0100               MOVS     R1,R0
   \   0000056E   89B2               UXTH     R1,R1            ;; ZeroExt  R1,R1,#+16,#+16
   \   00000570   08A8               ADD      R0,SP,#+32
   \   00000572   ........           BL       Read_Header_Information
   \   00000576   0020               MOVS     R0,#+0
   \                     ??USBH_USR_MSC_Application_41:
   \   00000578   ........           LDR.W    R1,??DataTable66_26
   \   0000057C   4118               ADDS     R1,R0,R1
   \   0000057E   08AA               ADD      R2,SP,#+32
   \   00000580   825C               LDRB     R2,[R0, R2]
   \   00000582   0A72               STRB     R2,[R1, #+8]
   \   00000584   401C               ADDS     R0,R0,#+1
   \   00000586   1028               CMP      R0,#+16
   \   00000588   F6DB               BLT.N    ??USBH_USR_MSC_Application_41
   \   0000058A   ........           LDR.W    R0,??DataTable66_26
   \   0000058E   C068               LDR      R0,[R0, #+12]
   \   00000590   0028               CMP      R0,#+0
   \   00000592   04D1               BNE.N    ??USBH_USR_MSC_Application_42
   \   00000594   ........           LDR.W    R0,??DataTable66_26
   \   00000598   0069               LDR      R0,[R0, #+16]
   \   0000059A   0028               CMP      R0,#+0
   \   0000059C   D7D1               BNE.N    ??USBH_USR_MSC_Application_39
   \                     ??USBH_USR_MSC_Application_42:
   \   0000059E   ........           LDR.W    R0,??DataTable66_26
   \   000005A2   807A               LDRB     R0,[R0, #+10]
   \   000005A4   0090               STR      R0,[SP, #+0]
   \   000005A6   ........           LDR.W    R0,??DataTable66_26
   \   000005AA   437A               LDRB     R3,[R0, #+9]
   \   000005AC   ........           LDR.W    R0,??DataTable66_26
   \   000005B0   027A               LDRB     R2,[R0, #+8]
   \   000005B2   ........           ADR.W    R1,`?<Constant "0:\\\\DTG_File\\\\Backup%02...">`
   \   000005B6   03A8               ADD      R0,SP,#+12
   \   000005B8   ........           BL       sprintf
   \   000005BC   ........           LDR.W    R0,??DataTable66_18
   \   000005C0   ........           BL       HCD_IsDeviceConnected
   \   000005C4   0028               CMP      R0,#+0
   \   000005C6   0CD1               BNE.N    ??USBH_USR_MSC_Application_43
   \   000005C8   ........           LDR.W    R0,??DataTable66_3
   \   000005CC   0121               MOVS     R1,#+1
   \   000005CE   0170               STRB     R1,[R0, #+0]
    754                         }
    755          
    756                         Input_Mode = 3;          //       
   \                     ??USBH_USR_MSC_Application_40:
   \   000005D0   ........           LDR.W    R0,??DataTable66_27
   \   000005D4   0321               MOVS     R1,#+3
   \   000005D6   0170               STRB     R1,[R0, #+0]
    757                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   000005D8   ........           LDR.W    R0,??DataTable66_3
   \   000005DC   0121               MOVS     R1,#+1
   \   000005DE   0170               STRB     R1,[R0, #+0]
    758                         
    759                    }break;
   \   000005E0   75E2               B.N      ??USBH_USR_MSC_Application_10
   \                     ??USBH_USR_MSC_Application_43:
   \   000005E2   ........           LDR.W    R1,??DataTable66_4
   \   000005E6   0020               MOVS     R0,#+0
   \   000005E8   ........           BL       f_mount
   \   000005EC   ........           LDR.W    R0,??DataTable66_26
   \   000005F0   0069               LDR      R0,[R0, #+16]
   \   000005F2   ........           LDR.W    R1,??DataTable66_26
   \   000005F6   C968               LDR      R1,[R1, #+12]
   \   000005F8   471A               SUBS     R7,R0,R1
   \   000005FA   5FF00108           MOVS     R8,#+1
   \   000005FE   1222               MOVS     R2,#+18
   \   00000600   03A9               ADD      R1,SP,#+12
   \   00000602   ........           LDR.W    R0,??DataTable66_19
   \   00000606   ........           BL       f_open
   \   0000060A   0028               CMP      R0,#+0
   \   0000060C   97D1               BNE.N    ??USBH_USR_MSC_Application_38
   \   0000060E   ........           LDR.W    R0,??DataTable66_19
   \   00000612   C168               LDR      R1,[R0, #+12]
   \   00000614   ........           LDR.W    R0,??DataTable66_19
   \   00000618   ........           BL       f_lseek
   \   0000061C   ........           ADR.W    R1,`?<Constant "000 %%">`
   \   00000620   ........           LDR.W    R0,??DataTable65_1
   \   00000624   ........           BL       sprintf
   \   00000628   0123               MOVS     R3,#+1
   \   0000062A   ........           LDR.W    R2,??DataTable65_1
   \   0000062E   1021               MOVS     R1,#+16
   \   00000630   0720               MOVS     R0,#+7
   \   00000632   ........           BL       GLcd_PutString2
   \   00000636   ........           LDR.W    R0,??DataTable66_26
   \   0000063A   D0F80C90           LDR      R9,[R0, #+12]
   \   0000063E   19E0               B.N      ??USBH_USR_MSC_Application_44
   \                     ??USBH_USR_MSC_Application_45:
   \   00000640   0DF10603           ADD      R3,SP,#+6
   \   00000644   4FF40072           MOV      R2,#+512
   \   00000648   1FFA8AFA           UXTH     R10,R10          ;; ZeroExt  R10,R10,#+16,#+16
   \   0000064C   4FF40070           MOV      R0,#+512
   \   00000650   ........           LDR.W    R1,??DataTable66_24
   \   00000654   00FB0A11           MLA      R1,R0,R10,R1
   \   00000658   ........           LDR.W    R0,??DataTable66_19
   \   0000065C   ........           BL       f_write
   \   00000660   0400               MOVS     R4,R0
   \   00000662   1AF1010A           ADDS     R10,R10,#+1
   \                     ??USBH_USR_MSC_Application_46:
   \   00000666   1FFA8AFA           UXTH     R10,R10          ;; ZeroExt  R10,R10,#+16,#+16
   \   0000066A   BAF1100F           CMP      R10,#+16
   \   0000066E   E7D3               BCC.N    ??USBH_USR_MSC_Application_45
   \   00000670   19F10109           ADDS     R9,R9,#+1
   \                     ??USBH_USR_MSC_Application_44:
   \   00000674   1FFA89F9           UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   00000678   ........           LDR.W    R0,??DataTable66_26
   \   0000067C   0069               LDR      R0,[R0, #+16]
   \   0000067E   8145               CMP      R9,R0
   \   00000680   BFF45DAF           BCS.W    ??USBH_USR_MSC_Application_38
   \   00000684   ........           BL       IWDG_ReloadCounter
   \   00000688   1FFA89F9           UXTH     R9,R9            ;; ZeroExt  R9,R9,#+16,#+16
   \   0000068C   4846               MOV      R0,R9
   \   0000068E   ........           BL       DTG_EMS_DataLoad
   \   00000692   B6B2               UXTH     R6,R6            ;; ZeroExt  R6,R6,#+16,#+16
   \   00000694   012E               CMP      R6,#+1
   \   00000696   02D2               BCS.N    ??USBH_USR_MSC_Application_47
   \   00000698   ........           BL       LED2_OFF
   \   0000069C   06E0               B.N      ??USBH_USR_MSC_Application_48
   \                     ??USBH_USR_MSC_Application_47:
   \   0000069E   B6B2               UXTH     R6,R6            ;; ZeroExt  R6,R6,#+16,#+16
   \   000006A0   022E               CMP      R6,#+2
   \   000006A2   02D2               BCS.N    ??USBH_USR_MSC_Application_49
   \   000006A4   ........           BL       LED2_GREEN
   \   000006A8   00E0               B.N      ??USBH_USR_MSC_Application_48
   \                     ??USBH_USR_MSC_Application_49:
   \   000006AA   0026               MOVS     R6,#+0
   \                     ??USBH_USR_MSC_Application_48:
   \   000006AC   761C               ADDS     R6,R6,#+1
   \   000006AE   1FFA88F8           UXTH     R8,R8            ;; ZeroExt  R8,R8,#+16,#+16
   \   000006B2   4046               MOV      R0,R8
   \   000006B4   ........           BL       __aeabi_ui2f
   \   000006B8   0400               MOVS     R4,R0
   \   000006BA   BFB2               UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   000006BC   3800               MOVS     R0,R7
   \   000006BE   ........           BL       __aeabi_ui2f
   \   000006C2   0100               MOVS     R1,R0
   \   000006C4   2000               MOVS     R0,R4
   \   000006C6   ........           BL       __aeabi_fdiv
   \   000006CA   0100               MOVS     R1,R0
   \   000006CC   ........           LDR.W    R0,??DataTable66_28  ;; 0x42c80000
   \   000006D0   ........           BL       __aeabi_fmul
   \   000006D4   ........           BL       __aeabi_f2iz
   \   000006D8   80B2               UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   000006DA   0200               MOVS     R2,R0
   \   000006DC   ........           ADR.W    R1,`?<Constant "%03d %%">`
   \   000006E0   ........           LDR.W    R0,??DataTable65_1
   \   000006E4   ........           BL       sprintf
   \   000006E8   18F10108           ADDS     R8,R8,#+1
   \   000006EC   0123               MOVS     R3,#+1
   \   000006EE   ........           LDR.W    R2,??DataTable65_1
   \   000006F2   1021               MOVS     R1,#+16
   \   000006F4   0720               MOVS     R0,#+7
   \   000006F6   ........           BL       GLcd_PutString2
   \   000006FA   5FF0000A           MOVS     R10,#+0
   \   000006FE   B2E7               B.N      ??USBH_USR_MSC_Application_46
    760                    case USH_USR_FS_SOUND:
    761                    {
    762                           
    763                         if(! HCD_IsDeviceConnected(&USB_OTG_Core) )
   \                     ??USBH_USR_MSC_Application_7:
   \   00000700   ........           LDR.W    R0,??DataTable66_18
   \   00000704   ........           BL       HCD_IsDeviceConnected
   \   00000708   0028               CMP      R0,#+0
   \   0000070A   04D1               BNE.N    ??USBH_USR_MSC_Application_50
    764                         {
    765                              USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   0000070C   ........           LDR.W    R0,??DataTable66_3
   \   00000710   0121               MOVS     R1,#+1
   \   00000712   0170               STRB     R1,[R0, #+0]
    766                              break;
   \   00000714   DBE1               B.N      ??USBH_USR_MSC_Application_10
    767                         }               
    768                         f_mount(0, &fatfs);
   \                     ??USBH_USR_MSC_Application_50:
   \   00000716   ........           LDR.W    R1,??DataTable66_4
   \   0000071A   0020               MOVS     R0,#+0
   \   0000071C   ........           BL       f_mount
    769          
    770                         res = f_open(&file, "0:\\Config\\Sound.bin", FA_OPEN_EXISTING | FA_READ);    
   \   00000720   0122               MOVS     R2,#+1
   \   00000722   ........           ADR.W    R1,`?<Constant "0:\\\\Config\\\\Sound.bin">`
   \   00000726   ........           LDR.W    R0,??DataTable66_19
   \   0000072A   ........           BL       f_open
   \   0000072E   0400               MOVS     R4,R0
    771                         if (res == FR_OK)
   \   00000730   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000732   002C               CMP      R4,#+0
   \   00000734   59D1               BNE.N    ??USBH_USR_MSC_Application_51
    772                         {
    773                              GLcd_PutString2(0,16,(char *)"DataLoading...      ",1);
                                     ^
Warning[Pe223]: function "GLcd_PutString2" declared implicitly
   \   00000736   0123               MOVS     R3,#+1
   \   00000738   ........           ADR.W    R2,`?<Constant "DataLoading...      ">`
   \   0000073C   1021               MOVS     R1,#+16
   \   0000073E   0020               MOVS     R0,#+0
   \   00000740   ........           BL       GLcd_PutString2
    774                              SerialFlash_ProgramWirte_Start();       //  IC  
   \   00000744   ........           BL       SerialFlash_ProgramWirte_Start
    775                              
    776                              Address = 0;                               
   \   00000748   0026               MOVS     R6,#+0
   \   0000074A   14E0               B.N      ??USBH_USR_MSC_Application_52
    777                              //for (Address=0;Address<MaxAddress;Address+=256){
    778                              while (HCD_IsDeviceConnected(&USB_OTG_Core))                                        
    779                              {                     
    780                                   IWDG_ReloadCounter();                   // Clear IWDG
    781                                   res = f_read(&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
    782                                   if((numOfReadBytes == 0) || (res != FR_OK)) /*EOF or Error*/
    783                                   {
    784                                        break; 
    785                                   }
    786                                   SerialFlash_busy_check();
    787                                   SerialFlash_Program(Address);
    788                                   for(i = 0 ; i < numOfReadBytes; i+= 1)
    789                                   {
    790                                        SerialFlash_Write_8bit( USB_File_Buffer[i] );
   \                     ??USBH_USR_MSC_Application_53:
   \   0000074C   ADB2               UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   0000074E   ........           LDR.W    R0,??DataTable66_25
   \   00000752   285C               LDRB     R0,[R5, R0]
   \   00000754   ........           BL       SerialFlash_Write_8bit
    791                                   }
   \   00000758   6D1C               ADDS     R5,R5,#+1
   \                     ??USBH_USR_MSC_Application_54:
   \   0000075A   BDF80400           LDRH     R0,[SP, #+4]
   \   0000075E   ADB2               UXTH     R5,R5            ;; ZeroExt  R5,R5,#+16,#+16
   \   00000760   8542               CMP      R5,R0
   \   00000762   F3D3               BCC.N    ??USBH_USR_MSC_Application_53
    792                                   
    793                                   VOICE_CSB_HIGH(); 
   \   00000764   4FF48071           MOV      R1,#+256
   \   00000768   ........           LDR.W    R0,??DataTable66_29  ;; 0x40021400
   \   0000076C   ........           BL       GPIO_SetBits
    794                                   //    
    795                                   //                                        SerialFlash_busy_check();
    796                                   //                                        SerialFlash_Read_Program(Address);
    797                                   //                                        for(i = 0 ; i < numOfReadBytes; i+= 1)
    798                                   //                                        {
    799                                   //                                             TempBuffer[i] = SerialFlash_Read_8bit();
    800                                   //                                        }   
    801                                   //                                        VOICE_CSB_HIGH(); 
    802                                   Address += numOfReadBytes;  
   \   00000770   BDF80400           LDRH     R0,[SP, #+4]
   \   00000774   8619               ADDS     R6,R0,R6
   \                     ??USBH_USR_MSC_Application_52:
   \   00000776   ........           LDR.W    R0,??DataTable66_18
   \   0000077A   ........           BL       HCD_IsDeviceConnected
   \   0000077E   0028               CMP      R0,#+0
   \   00000780   12D0               BEQ.N    ??USBH_USR_MSC_Application_55
   \   00000782   ........           BL       IWDG_ReloadCounter
   \   00000786   01AB               ADD      R3,SP,#+4
   \   00000788   4FF48072           MOV      R2,#+256
   \   0000078C   ........           LDR.W    R1,??DataTable66_25
   \   00000790   ........           LDR.W    R0,??DataTable66_19
   \   00000794   ........           BL       f_read
   \   00000798   0400               MOVS     R4,R0
   \   0000079A   BDF80400           LDRH     R0,[SP, #+4]
   \   0000079E   0028               CMP      R0,#+0
   \   000007A0   02D0               BEQ.N    ??USBH_USR_MSC_Application_56
   \   000007A2   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000007A4   002C               CMP      R4,#+0
   \   000007A6   19D0               BEQ.N    ??USBH_USR_MSC_Application_57
    803                              }
    804                              SerialFlash_ProgramWirte_End();
   \                     ??USBH_USR_MSC_Application_56:
   \                     ??USBH_USR_MSC_Application_55:
   \   000007A8   ........           BL       SerialFlash_ProgramWirte_End
    805                              Register_Write(0x15, 0x01);
   \   000007AC   0121               MOVS     R1,#+1
   \   000007AE   1520               MOVS     R0,#+21
   \   000007B0   ........           BL       Register_Write
    806                              do {
    807                                   Rdata = Register_Read(0x15);
   \                     ??USBH_USR_MSC_Application_58:
   \   000007B4   1520               MOVS     R0,#+21
   \   000007B6   ........           BL       Register_Read
    808                              } while (Rdata&0x01);
   \   000007BA   C007               LSLS     R0,R0,#+31
   \   000007BC   FAD4               BMI.N    ??USBH_USR_MSC_Application_58
    809                              Rdata = Register_Read(0x16);     
   \   000007BE   1620               MOVS     R0,#+22
   \   000007C0   ........           BL       Register_Read
    810                              if (Rdata == 0x00) 
   \   000007C4   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000007C6   0028               CMP      R0,#+0
   \   000007C8   03D1               BNE.N    ??USBH_USR_MSC_Application_59
    811                              {
    812                                   printf("Sound File Write Success\r\n");
   \   000007CA   ........           ADR.W    R0,`?<Constant "Sound File Write Succ...">`
   \   000007CE   ........           BL       printf
    813                              }                    
    814                              Input_Mode = 2;          //      
   \                     ??USBH_USR_MSC_Application_59:
   \   000007D2   ........           LDR.W    R0,??DataTable66_27
   \   000007D6   0221               MOVS     R1,#+2
   \   000007D8   0170               STRB     R1,[R0, #+0]
   \   000007DA   0AE0               B.N      ??USBH_USR_MSC_Application_60
   \                     ??USBH_USR_MSC_Application_57:
   \   000007DC   ........           BL       SerialFlash_busy_check
   \   000007E0   3000               MOVS     R0,R6
   \   000007E2   ........           BL       SerialFlash_Program
   \   000007E6   0025               MOVS     R5,#+0
   \   000007E8   B7E7               B.N      ??USBH_USR_MSC_Application_54
    815                         }
    816                         else
    817                         {
    818                              Input_Mode = 3;          //     
   \                     ??USBH_USR_MSC_Application_51:
   \   000007EA   ........           LDR.W    R0,??DataTable66_27
   \   000007EE   0321               MOVS     R1,#+3
   \   000007F0   0170               STRB     R1,[R0, #+0]
    819                         }
    820                         f_close(&file);
   \                     ??USBH_USR_MSC_Application_60:
   \   000007F2   ........           LDR.W    R0,??DataTable66_19
   \   000007F6   ........           BL       f_close
    821                         f_mount(0, NULL); 
   \   000007FA   0021               MOVS     R1,#+0
   \   000007FC   0020               MOVS     R0,#+0
   \   000007FE   ........           BL       f_mount
    822                    }// end of case
    823                    USBH_USR_ApplicationState = USH_USR_FS_IDLE;         
   \   00000802   ........           LDR.W    R0,??DataTable66_3
   \   00000806   0121               MOVS     R1,#+1
   \   00000808   0170               STRB     R1,[R0, #+0]
    824                    break;
   \   0000080A   60E1               B.N      ??USBH_USR_MSC_Application_10
    825               case USH_USR_FS_UPDATE:
    826                    {
    827                         flashdestination = UPDATE_ADDRESS;
   \                     ??USBH_USR_MSC_Application_6:
   \   0000080C   ........           LDR.W    R0,??DataTable66_30  ;; 0x8040000
   \   00000810   0290               STR      R0,[SP, #+8]
    828                         f_mount(0, &fatfs);
   \   00000812   ........           LDR.W    R1,??DataTable66_4
   \   00000816   0020               MOVS     R0,#+0
   \   00000818   ........           BL       f_mount
    829          
    830                         res = f_open(&file, "0:\\Config\\UpdateDTG.bin", FA_OPEN_EXISTING | FA_READ);    
   \   0000081C   0122               MOVS     R2,#+1
   \   0000081E   ........           ADR.W    R1,`?<Constant "0:\\\\Config\\\\UpdateDTG.bin">`
   \   00000822   ........           LDR.W    R0,??DataTable66_19
   \   00000826   ........           BL       f_open
   \   0000082A   0400               MOVS     R4,R0
    831                         if (res == FR_OK)
   \   0000082C   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000082E   002C               CMP      R4,#+0
   \   00000830   40F08280           BNE.W    ??USBH_USR_MSC_Application_61
    832                         {
    833                              GLcd_PutString2(0,16,(char *)"DataLoading...      ",1);                
                                     ^
Warning[Pe223]: function "GLcd_PutString2" declared implicitly
   \   00000834   0123               MOVS     R3,#+1
   \   00000836   ........           ADR.W    R2,`?<Constant "DataLoading...      ">`
   \   0000083A   1021               MOVS     R1,#+16
   \   0000083C   0020               MOVS     R0,#+0
   \   0000083E   ........           BL       GLcd_PutString2
    834                              FLASH_If_Init();
   \   00000842   ........           BL       FLASH_If_Init
    835                              IWDG_ReloadCounter();                   // Clear IWDG
   \   00000846   ........           BL       IWDG_ReloadCounter
    836          //                    if (FLASH_If_GetWriteProtectionStatus() == 0)   
    837          //                    {
    838          //                         FlashProtection = 1;
    839          //                    }
    840          //                    else
    841          //                    {
    842          //                         FlashProtection = 0;
    843          //                    }                                         
    844                              Address = 0;
   \   0000084A   0026               MOVS     R6,#+0
    845                              FlashSize = 0;
   \   0000084C   0025               MOVS     R5,#+0
    846                              FLASH_If_Erase(UPDATE_ADDRESS,0x3FFFF);     
   \   0000084E   ........           LDR.W    R1,??DataTable66_31  ;; 0x3ffff
   \   00000852   ........           LDR.W    R0,??DataTable66_30  ;; 0x8040000
   \   00000856   ........           BL       FLASH_If_Erase
    847                              while (HCD_IsDeviceConnected(&USB_OTG_Core))                                        
   \                     ??USBH_USR_MSC_Application_62:
   \   0000085A   ........           LDR.W    R0,??DataTable66_18
   \   0000085E   ........           BL       HCD_IsDeviceConnected
   \   00000862   0028               CMP      R0,#+0
   \   00000864   12D0               BEQ.N    ??USBH_USR_MSC_Application_63
    848                              {                          
    849                                   IWDG_ReloadCounter();                   // Clear IWDG
   \   00000866   ........           BL       IWDG_ReloadCounter
    850                                   res = f_read(&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
   \   0000086A   01AB               ADD      R3,SP,#+4
   \   0000086C   4FF48072           MOV      R2,#+256
   \   00000870   ........           LDR.W    R1,??DataTable66_25
   \   00000874   ........           LDR.W    R0,??DataTable66_19
   \   00000878   ........           BL       f_read
   \   0000087C   0400               MOVS     R4,R0
    851                                   if((numOfReadBytes == 0) || (res != FR_OK)) /*EOF or Error*/
   \   0000087E   BDF80400           LDRH     R0,[SP, #+4]
   \   00000882   0028               CMP      R0,#+0
   \   00000884   02D0               BEQ.N    ??USBH_USR_MSC_Application_64
   \   00000886   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000888   002C               CMP      R4,#+0
   \   0000088A   17D0               BEQ.N    ??USBH_USR_MSC_Application_65
    852                                   {
    853                                        break; 
    854                                   }
    855                                   FlashSize += numOfReadBytes;
    856                                   if (FLASH_If_Write(&flashdestination, (uint32_t*) USB_File_Buffer, (uint16_t) numOfReadBytes/4)  != 0)          //  4 .
    857                                   {
    858                                        return 1;
    859                                   }
    860                              }
    861                              memset(USB_File_Buffer,0, sizeof(USB_File_Buffer));
   \                     ??USBH_USR_MSC_Application_64:
   \                     ??USBH_USR_MSC_Application_63:
   \   0000088C   4FF48072           MOV      R2,#+256
   \   00000890   0021               MOVS     R1,#+0
   \   00000892   ........           LDR.W    R0,??DataTable66_25
   \   00000896   ........           BL       memset
    862                              while( flashdestination < FLASHMARK_ADDRESS )
   \                     ??USBH_USR_MSC_Application_66:
   \   0000089A   0298               LDR      R0,[SP, #+8]
   \   0000089C   ........           LDR.W    R1,??DataTable66_32  ;; 0x807fff8
   \   000008A0   8842               CMP      R0,R1
   \   000008A2   1DD2               BCS.N    ??USBH_USR_MSC_Application_67
    863                              {
    864                                   IWDG_ReloadCounter();                   // Clear IWDG
   \   000008A4   ........           BL       IWDG_ReloadCounter
    865                                   if (FLASH_If_Write(&flashdestination, (uint32_t*) USB_File_Buffer, (uint16_t) 1)  != 0)          //  4 .
   \   000008A8   0122               MOVS     R2,#+1
   \   000008AA   ........           LDR.W    R1,??DataTable66_25
   \   000008AE   02A8               ADD      R0,SP,#+8
   \   000008B0   ........           BL       FLASH_If_Write
   \   000008B4   0028               CMP      R0,#+0
   \   000008B6   F0D0               BEQ.N    ??USBH_USR_MSC_Application_66
    866                                   {
    867                                        return 1;
   \   000008B8   0120               MOVS     R0,#+1
   \   000008BA   09E1               B.N      ??USBH_USR_MSC_Application_13
    868                                   }                                        
    869                              }
   \                     ??USBH_USR_MSC_Application_65:
   \   000008BC   BDF80400           LDRH     R0,[SP, #+4]
   \   000008C0   4519               ADDS     R5,R0,R5
   \   000008C2   BDF80400           LDRH     R0,[SP, #+4]
   \   000008C6   0421               MOVS     R1,#+4
   \   000008C8   90FBF1F2           SDIV     R2,R0,R1
   \   000008CC   92B2               UXTH     R2,R2            ;; ZeroExt  R2,R2,#+16,#+16
   \   000008CE   ........           LDR.W    R1,??DataTable66_25
   \   000008D2   02A8               ADD      R0,SP,#+8
   \   000008D4   ........           BL       FLASH_If_Write
   \   000008D8   0028               CMP      R0,#+0
   \   000008DA   BED0               BEQ.N    ??USBH_USR_MSC_Application_62
   \   000008DC   0120               MOVS     R0,#+1
   \   000008DE   F7E0               B.N      ??USBH_USR_MSC_Application_13
    870                              //IWDG_ReloadCounter();                   // Clear IWDG
    871                              //FlashAddressMake = FLASHMARK_ADDRESS;
    872                              USB_File_Buffer[0] = (FlashSize)&0xff;
   \                     ??USBH_USR_MSC_Application_67:
   \   000008E0   ........           LDR.W    R0,??DataTable66_25
   \   000008E4   0570               STRB     R5,[R0, #+0]
    873                              USB_File_Buffer[1] = (FlashSize>>8)&0xff;
   \   000008E6   280A               LSRS     R0,R5,#+8
   \   000008E8   ........           LDR.W    R1,??DataTable66_25
   \   000008EC   4870               STRB     R0,[R1, #+1]
    874                              USB_File_Buffer[2] = (FlashSize>>16)&0xff;
   \   000008EE   280C               LSRS     R0,R5,#+16
   \   000008F0   ........           LDR.W    R1,??DataTable66_25
   \   000008F4   8870               STRB     R0,[R1, #+2]
    875                              USB_File_Buffer[3] = (FlashSize>>24)&0xff;
   \   000008F6   280E               LSRS     R0,R5,#+24
   \   000008F8   ........           LDR.W    R1,??DataTable66_25
   \   000008FC   C870               STRB     R0,[R1, #+3]
    876                              USB_File_Buffer[4] = 0xAA;
   \   000008FE   ........           LDR.W    R0,??DataTable66_25
   \   00000902   AA21               MOVS     R1,#+170
   \   00000904   0171               STRB     R1,[R0, #+4]
    877                              USB_File_Buffer[5] = 0xAA;
   \   00000906   ........           LDR.W    R0,??DataTable66_25
   \   0000090A   AA21               MOVS     R1,#+170
   \   0000090C   4171               STRB     R1,[R0, #+5]
    878                              USB_File_Buffer[6] = 0xAA;
   \   0000090E   ........           LDR.W    R0,??DataTable66_25
   \   00000912   AA21               MOVS     R1,#+170
   \   00000914   8171               STRB     R1,[R0, #+6]
    879                              USB_File_Buffer[7] = 0xAA;
   \   00000916   ........           LDR.W    R0,??DataTable66_25
   \   0000091A   AA21               MOVS     R1,#+170
   \   0000091C   C171               STRB     R1,[R0, #+7]
    880                              if (FLASH_If_Write(&flashdestination, (uint32_t*) USB_File_Buffer, (uint16_t) 2)  != 0) 
   \   0000091E   0222               MOVS     R2,#+2
   \   00000920   ........           LDR.W    R1,??DataTable66_25
   \   00000924   02A8               ADD      R0,SP,#+8
   \   00000926   ........           BL       FLASH_If_Write
   \   0000092A   0028               CMP      R0,#+0
   \   0000092C   01D0               BEQ.N    ??USBH_USR_MSC_Application_68
    881                              {
    882                                   return 1;
   \   0000092E   0120               MOVS     R0,#+1
   \   00000930   CEE0               B.N      ??USBH_USR_MSC_Application_13
    883                              }
    884          //                    flashdestination = UPDATE_ADDRESS;
    885          //                    Temp = *(uint32_t*)(flashdestination);
    886          //                    printf("%d",Temp);
    887          //                    flashdestination = FLASHMARK_ADDRESS;
    888          //                    Temp = *(uint32_t*)(flashdestination);
    889          //                    printf("%d",Temp);                                   
    890                              NVIC_SystemReset();           //  
   \                     ??USBH_USR_MSC_Application_68:
   \   00000932   ........           BL       NVIC_SystemReset
    891                              while(1);
   \                     ??USBH_USR_MSC_Application_69:
   \   00000936   FEE7               B.N      ??USBH_USR_MSC_Application_69
    892                         }
    893                         else
    894                         {
    895                              Input_Mode = 3;          //                         
   \                     ??USBH_USR_MSC_Application_61:
   \   00000938   ........           LDR.W    R0,??DataTable66_27
   \   0000093C   0321               MOVS     R1,#+3
   \   0000093E   0170               STRB     R1,[R0, #+0]
    896                         }
    897                         f_close(&file);
   \   00000940   ....               LDR.N    R0,??DataTable66_19
   \   00000942   ........           BL       f_close
    898                         f_mount(0, NULL); 
   \   00000946   0021               MOVS     R1,#+0
   \   00000948   0020               MOVS     R0,#+0
   \   0000094A   ........           BL       f_mount
    899                    } break;     
   \   0000094E   BEE0               B.N      ??USBH_USR_MSC_Application_10
    900               case USH_USR_FS_READDRIVER:             //  
    901                    {
    902                         f_mount(0, &fatfs);
   \                     ??USBH_USR_MSC_Application_8:
   \   00000950   ....               LDR.N    R1,??DataTable66_4
   \   00000952   0020               MOVS     R0,#+0
   \   00000954   ........           BL       f_mount
    903                         res = f_open(&file, "0:\\Config\\Driver.cfg", FA_OPEN_EXISTING | FA_READ);    
   \   00000958   0122               MOVS     R2,#+1
   \   0000095A   ........           ADR.W    R1,`?<Constant "0:\\\\Config\\\\Driver.cfg">`
   \   0000095E   ....               LDR.N    R0,??DataTable66_19
   \   00000960   ........           BL       f_open
   \   00000964   0400               MOVS     R4,R0
    904                         if (res == FR_OK)                    
   \   00000966   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000968   002C               CMP      R4,#+0
   \   0000096A   26D1               BNE.N    ??USBH_USR_MSC_Application_70
    905                         {
    906                              memset( USB_File_Buffer, 0, sizeof( USB_File_Buffer ));
   \   0000096C   4FF48072           MOV      R2,#+256
   \   00000970   0021               MOVS     R1,#+0
   \   00000972   ....               LDR.N    R0,??DataTable66_25
   \   00000974   ........           BL       memset
    907                              res = f_read(&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
   \   00000978   01AB               ADD      R3,SP,#+4
   \   0000097A   4FF48072           MOV      R2,#+256
   \   0000097E   ....               LDR.N    R1,??DataTable66_25
   \   00000980   ....               LDR.N    R0,??DataTable66_19
   \   00000982   ........           BL       f_read
   \   00000986   0400               MOVS     R4,R0
    908                              if( strlen(( char * )USB_File_Buffer) == DRIVER_NUM_SIZE )
   \   00000988   ....               LDR.N    R0,??DataTable66_25
   \   0000098A   ........           BL       strlen
   \   0000098E   1228               CMP      R0,#+18
   \   00000990   13D1               BNE.N    ??USBH_USR_MSC_Application_70
    909                              {
    910                                   if(Info.Driver_Index != NO_DRIVER)
   \   00000992   ....               LDR.N    R0,??DataTable66_33
   \   00000994   0078               LDRB     R0,[R0, #+0]
   \   00000996   FF28               CMP      R0,#+255
   \   00000998   02D0               BEQ.N    ??USBH_USR_MSC_Application_71
    911                                        Flag.Driver_Change = 1;
   \   0000099A   ....               LDR.N    R0,??DataTable66_22
   \   0000099C   0121               MOVS     R1,#+1
   \   0000099E   4172               STRB     R1,[R0, #+9]
    912                                   memcpy(SFLASH_Memory.Driver[0],USB_File_Buffer,DRIVER_NUM_SIZE );       //  .
   \                     ??USBH_USR_MSC_Application_71:
   \   000009A0   1222               MOVS     R2,#+18
   \   000009A2   ....               LDR.N    R1,??DataTable66_25
   \   000009A4   ....               LDR.N    R0,??DataTable66_34
   \   000009A6   ........           BL       memcpy
    913                                   memcpy(Info.Driver_Num ,USB_File_Buffer,DRIVER_NUM_SIZE );       //  .
   \   000009AA   1222               MOVS     R2,#+18
   \   000009AC   ....               LDR.N    R1,??DataTable66_25
   \   000009AE   ....               LDR.N    R0,??DataTable66_35
   \   000009B0   ........           BL       memcpy
    914                                   Info.Driver_Index = 0;                         //    
   \   000009B4   ....               LDR.N    R0,??DataTable66_33
   \   000009B6   0021               MOVS     R1,#+0
   \   000009B8   0170               STRB     R1,[R0, #+0]
    915                              }
    916                         }
    917                         f_close(&file);
   \                     ??USBH_USR_MSC_Application_70:
   \   000009BA   ....               LDR.N    R0,??DataTable66_19
   \   000009BC   ........           BL       f_close
    918                         f_mount(0, NULL);   
   \   000009C0   0021               MOVS     R1,#+0
   \   000009C2   0020               MOVS     R0,#+0
   \   000009C4   ........           BL       f_mount
    919                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;     
   \   000009C8   ....               LDR.N    R0,??DataTable66_3
   \   000009CA   0121               MOVS     R1,#+1
   \   000009CC   0170               STRB     R1,[R0, #+0]
    920                    }break;
   \   000009CE   7EE0               B.N      ??USBH_USR_MSC_Application_10
    921               case USH_USR_FS_READPARAMETER:          //  
    922                    {
    923                         u8 Check = 0;
   \                     ??USBH_USR_MSC_Application_5:
   \   000009D0   0025               MOVS     R5,#+0
    924                         f_mount(0, &fatfs);
   \   000009D2   ....               LDR.N    R1,??DataTable66_4
   \   000009D4   0020               MOVS     R0,#+0
   \   000009D6   ........           BL       f_mount
    925                         IWDG_ReloadCounter();                   // Clear IWDG
   \   000009DA   ........           BL       IWDG_ReloadCounter
    926                         res = f_open(&file, "0:\\Config\\Parameter.cfg", FA_OPEN_EXISTING | FA_READ);    
   \   000009DE   0122               MOVS     R2,#+1
   \   000009E0   ........           ADR.W    R1,`?<Constant "0:\\\\Config\\\\Parameter.cfg">`
   \   000009E4   ....               LDR.N    R0,??DataTable66_19
   \   000009E6   ........           BL       f_open
   \   000009EA   0400               MOVS     R4,R0
    927                         if (res == FR_OK)
   \   000009EC   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000009EE   002C               CMP      R4,#+0
   \   000009F0   11D1               BNE.N    ??USBH_USR_MSC_Application_72
    928                         {
    929                              Check = 1;
   \   000009F2   0125               MOVS     R5,#+1
    930                              memset( USB_File_Buffer, 0, sizeof( USB_File_Buffer ));
   \   000009F4   4FF48072           MOV      R2,#+256
   \   000009F8   0021               MOVS     R1,#+0
   \   000009FA   ....               LDR.N    R0,??DataTable66_25
   \   000009FC   ........           BL       memset
    931                              res = f_read(&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
   \   00000A00   01AB               ADD      R3,SP,#+4
   \   00000A02   4FF48072           MOV      R2,#+256
   \   00000A06   ....               LDR.N    R1,??DataTable66_25
   \   00000A08   ....               LDR.N    R0,??DataTable66_19
   \   00000A0A   ........           BL       f_read
   \   00000A0E   0400               MOVS     R4,R0
    932                              SettingParameter(( char * )USB_File_Buffer);
   \   00000A10   ....               LDR.N    R0,??DataTable66_25
   \   00000A12   ........           BL       SettingParameter
    933                         }
    934                         f_close(&file);
   \                     ??USBH_USR_MSC_Application_72:
   \   00000A16   ....               LDR.N    R0,??DataTable66_19
   \   00000A18   ........           BL       f_close
    935                         IWDG_ReloadCounter();                   // Clear IWDG
   \   00000A1C   ........           BL       IWDG_ReloadCounter
    936                         res = f_open(&file, "0:\\Config\\GPS.cfg", FA_OPEN_EXISTING | FA_READ);    
   \   00000A20   0122               MOVS     R2,#+1
   \   00000A22   ........           ADR.W    R1,`?<Constant "0:\\\\Config\\\\GPS.cfg">`
   \   00000A26   ....               LDR.N    R0,??DataTable66_19
   \   00000A28   ........           BL       f_open
   \   00000A2C   0400               MOVS     R4,R0
    937                         if (res == FR_OK)
   \   00000A2E   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000A30   002C               CMP      R4,#+0
   \   00000A32   11D1               BNE.N    ??USBH_USR_MSC_Application_73
    938                         {
    939                              Check = 1;
   \   00000A34   0125               MOVS     R5,#+1
    940                              memset( USB_File_Buffer, 0, sizeof( USB_File_Buffer ));
   \   00000A36   4FF48072           MOV      R2,#+256
   \   00000A3A   0021               MOVS     R1,#+0
   \   00000A3C   ....               LDR.N    R0,??DataTable66_25
   \   00000A3E   ........           BL       memset
    941                              res = f_read(&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
   \   00000A42   01AB               ADD      R3,SP,#+4
   \   00000A44   4FF48072           MOV      R2,#+256
   \   00000A48   ....               LDR.N    R1,??DataTable66_25
   \   00000A4A   ....               LDR.N    R0,??DataTable66_19
   \   00000A4C   ........           BL       f_read
   \   00000A50   0400               MOVS     R4,R0
    942                              SettingGPS(USB_File_Buffer);
                                     ^
Warning[Pe223]: function "SettingGPS" declared implicitly
   \   00000A52   ....               LDR.N    R0,??DataTable66_25
   \   00000A54   ........           BL       SettingGPS
    943                         }
    944                         f_close(&file);               
   \                     ??USBH_USR_MSC_Application_73:
   \   00000A58   ....               LDR.N    R0,??DataTable66_19
   \   00000A5A   ........           BL       f_close
    945                         IWDG_ReloadCounter();                   // Clear IWDG
   \   00000A5E   ........           BL       IWDG_ReloadCounter
    946                         res = f_open(&file, "0:\\Config\\WIFI.cfg", FA_OPEN_EXISTING | FA_READ);    
   \   00000A62   0122               MOVS     R2,#+1
   \   00000A64   ........           ADR.W    R1,`?<Constant "0:\\\\Config\\\\WIFI.cfg">`
   \   00000A68   ....               LDR.N    R0,??DataTable66_19
   \   00000A6A   ........           BL       f_open
   \   00000A6E   0400               MOVS     R4,R0
    947                         if (res == FR_OK)
   \   00000A70   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000A72   002C               CMP      R4,#+0
   \   00000A74   14D1               BNE.N    ??USBH_USR_MSC_Application_74
    948                         {
    949                              Input_Mode = 5;
   \   00000A76   ....               LDR.N    R0,??DataTable66_27
   \   00000A78   0521               MOVS     R1,#+5
   \   00000A7A   0170               STRB     R1,[R0, #+0]
    950                              Check = 2;
   \   00000A7C   0225               MOVS     R5,#+2
    951                              memset( USB_File_Buffer, 0, sizeof( USB_File_Buffer ));
   \   00000A7E   4FF48072           MOV      R2,#+256
   \   00000A82   0021               MOVS     R1,#+0
   \   00000A84   ....               LDR.N    R0,??DataTable66_25
   \   00000A86   ........           BL       memset
    952                              res = f_read(&file, USB_File_Buffer, MAX_USB_FILE_SIZE, (void *)&numOfReadBytes);
   \   00000A8A   01AB               ADD      R3,SP,#+4
   \   00000A8C   4FF48072           MOV      R2,#+256
   \   00000A90   ....               LDR.N    R1,??DataTable66_25
   \   00000A92   ....               LDR.N    R0,??DataTable66_19
   \   00000A94   ........           BL       f_read
   \   00000A98   0400               MOVS     R4,R0
    953                              SettingWIFI(USB_File_Buffer);
                                     ^
Warning[Pe223]: function "SettingWIFI" declared implicitly
   \   00000A9A   ....               LDR.N    R0,??DataTable66_25
   \   00000A9C   ........           BL       SettingWIFI
    954                         }
    955                         f_close(&file);        
   \                     ??USBH_USR_MSC_Application_74:
   \   00000AA0   ....               LDR.N    R0,??DataTable66_19
   \   00000AA2   ........           BL       f_close
    956                         f_mount(0, NULL);                  
   \   00000AA6   0021               MOVS     R1,#+0
   \   00000AA8   0020               MOVS     R0,#+0
   \   00000AAA   ........           BL       f_mount
    957                         USBH_USR_ApplicationState = USH_USR_FS_IDLE;
   \   00000AAE   ....               LDR.N    R0,??DataTable66_3
   \   00000AB0   0121               MOVS     R1,#+1
   \   00000AB2   0170               STRB     R1,[R0, #+0]
    958                         if(Check == 1)
   \   00000AB4   EDB2               UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000AB6   012D               CMP      R5,#+1
   \   00000AB8   03D1               BNE.N    ??USBH_USR_MSC_Application_75
    959                              Input_Mode = 3;
   \   00000ABA   ....               LDR.N    R0,??DataTable66_27
   \   00000ABC   0321               MOVS     R1,#+3
   \   00000ABE   0170               STRB     R1,[R0, #+0]
   \   00000AC0   05E0               B.N      ??USBH_USR_MSC_Application_76
    960                         else  if(Check == 0)
   \                     ??USBH_USR_MSC_Application_75:
   \   00000AC2   EDB2               UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000AC4   002D               CMP      R5,#+0
   \   00000AC6   02D1               BNE.N    ??USBH_USR_MSC_Application_76
    961                              Input_Mode = 4;
   \   00000AC8   ....               LDR.N    R0,??DataTable66_27
   \   00000ACA   0421               MOVS     R1,#+4
   \   00000ACC   0170               STRB     R1,[R0, #+0]
    962                    }break;
    963               }
    964               return(0);
   \                     ??USBH_USR_MSC_Application_76:
   \                     ??USBH_USR_MSC_Application_10:
   \   00000ACE   0020               MOVS     R0,#+0
   \                     ??USBH_USR_MSC_Application_13:
   \   00000AD0   0CB0               ADD      SP,SP,#+48
   \   00000AD2   BDE8F087           POP      {R4-R10,PC}      ;; return
    965          }
    966          
    967          /**
    968          * @brief  USBH_USR_DeInit
    969          *         Deint User state and associated variables
    970          * @param  None
    971          * @retval None
    972          */

   \                                 In section .text, align 2, keep-with-next
    973          void USBH_USR_DeInit(void)
    974          {
    975               USBH_USR_ApplicationState = USH_USR_FS_INIT;
   \                     USBH_USR_DeInit:
   \   00000000   ....               LDR.N    R0,??DataTable66_3
   \   00000002   0021               MOVS     R1,#+0
   \   00000004   0170               STRB     R1,[R0, #+0]
    976          }
   \   00000006   7047               BX       LR               ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64:
   \   00000000   0CED00E0           DC32     0xe000ed0c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64_1:
   \   00000000   0400FA05           DC32     0x5fa0004

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64_2:
   \   00000000   ........           DC32     LOGWRITE

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64_3:
   \   00000000   ........           DC32     `?<Constant "USB Initailze \\r\\n ">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64_4:
   \   00000000   ........           DC32     MSG_DEV_ATTACHED

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64_5:
   \   00000000   ........           DC32     MSG_UNREC_ERROR

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64_6:
   \   00000000   ........           DC32     MSG_DEV_DISCONNECTED

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64_7:
   \   00000000   ........           DC32     `?<Constant "USB_Reset \\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64_8:
   \   00000000   ........           DC32     MSG_DEV_HIGHSPEED

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64_9:
   \   00000000   ........           DC32     MSG_DEV_FULLSPEED

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64_10:
   \   00000000   ........           DC32     MSG_DEV_LOWSPEED

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64_11:
   \   00000000   ........           DC32     MSG_DEV_ERROR

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable64_12:
   \   00000000   ........           DC32     `?<Constant "> VID : %04Xh\\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable65:
   \   00000000   00180240           DC32     0x40021800

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable65_1:
   \   00000000   ........           DC32     Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable65_2:
   \   00000000   ........           DC32     `?<Constant "> PID : %04Xh\\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable65_3:
   \   00000000   ........           DC32     MSG_MSC_CLASS

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable65_4:
   \   00000000   ........           DC32     MSG_HID_CLASS

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable65_5:
   \   00000000   ........           DC32     `?<Constant "> Manufacturer : %s \\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable65_6:
   \   00000000   ........           DC32     `?<Constant "> Product : %s \\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable65_7:
   \   00000000   ........           DC32     `?<Constant "> Serial Number : %s \\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable65_8:
   \   00000000   ........           DC32     MSG_DEV_ENUMERATED

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "USB Initailze \\r\\n ">`:
   \   00000000                      ; Initializer data, 20 bytes
   \   00000000   55534220496E       DC8 85, 83, 66, 32, 73, 110, 105, 116, 97, 105
   \              69746169    
   \   0000000A   6C7A65200D0A       DC8 108, 122, 101, 32, 13, 10, 32, 0, 0, 0
   \              20000000    

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "USB_Reset \\r\\n">`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   5553425F5265       DC8 85, 83, 66, 95, 82, 101, 115, 101, 116, 32
   \              73657420    
   \   0000000A   0D0A00000000       DC8 13, 10, 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> VID : %04Xh\\r\\n">`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   3E2056494420       DC8 62, 32, 86, 73, 68, 32, 58, 32, 37, 48
   \              3A202530    
   \   0000000A   3458680D0A00       DC8 52, 88, 104, 13, 10, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> PID : %04Xh\\r\\n">`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   3E2050494420       DC8 62, 32, 80, 73, 68, 32, 58, 32, 37, 48
   \              3A202530    
   \   0000000A   3458680D0A00       DC8 52, 88, 104, 13, 10, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Manufacturer : %s \\r\\n">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   3E204D616E75       DC8 62, 32, 77, 97, 110, 117, 102, 97, 99, 116
   \              66616374    
   \   0000000A   75726572203A       DC8 117, 114, 101, 114, 32, 58, 32, 37, 115, 32
   \              20257320    
   \   00000014   0D0A0000           DC8 13, 10, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Product : %s \\r\\n">`:
   \   00000000                      ; Initializer data, 20 bytes
   \   00000000   3E2050726F64       DC8 62, 32, 80, 114, 111, 100, 117, 99, 116, 32
   \              75637420    
   \   0000000A   3A202573200D       DC8 58, 32, 37, 115, 32, 13, 10, 0, 0, 0
   \              0A000000    

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Serial Number : %s \\r\\n">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   3E2053657269       DC8 62, 32, 83, 101, 114, 105, 97, 108, 32, 78
   \              616C204E    
   \   0000000A   756D62657220       DC8 117, 109, 98, 101, 114, 32, 58, 32, 37, 115
   \              3A202573    
   \   00000014   200D0A00           DC8 32, 13, 10, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Device not supporte...">`:
   \   00000000                      ; Initializer data, 28 bytes
   \   00000000   3E2044657669       DC8 62, 32, 68, 101, 118, 105, 99, 101, 32, 110
   \              6365206E    
   \   0000000A   6F7420737570       DC8 111, 116, 32, 115, 117, 112, 112, 111, 114, 116
   \              706F7274    
   \   00000014   65642E0D0A00       DC8 101, 100, 46, 13, 10, 0, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Overcurrent detecte...">`:
   \   00000000                      ; Initializer data, 28 bytes
   \   00000000   3E204F766572       DC8 62, 32, 79, 118, 101, 114, 99, 117, 114, 114
   \              63757272    
   \   0000000A   656E74206465       DC8 101, 110, 116, 32, 100, 101, 116, 101, 99, 116
   \              74656374    
   \   00000014   65642E0D0A00       DC8 101, 100, 46, 13, 10, 0, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Cannot initialize F...">`:
   \   00000000                      ; Initializer data, 36 bytes
   \   00000000   3E2043616E6E       DC8 62, 32, 67, 97, 110, 110, 111, 116, 32, 105
   \              6F742069    
   \   0000000A   6E697469616C       DC8 110, 105, 116, 105, 97, 108, 105, 122, 101, 32
   \              697A6520    
   \   00000014   46696C652053       DC8 70, 105, 108, 101, 32, 83, 121, 115, 116, 101
   \              79737465    
   \   0000001E   6D2E0D0A0000       DC8 109, 46, 13, 10, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> File System initial...">`:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E2046696C65       DC8 62, 32, 70, 105, 108, 101, 32, 83, 121, 115
   \              20537973    
   \   0000000A   74656D20696E       DC8 116, 101, 109, 32, 105, 110, 105, 116, 105, 97
   \              69746961    
   \   00000014   6C697A65642E       DC8 108, 105, 122, 101, 100, 46, 13, 10, 0, 0
   \              0D0A0000    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "> Disk capacity : %u ...">`:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   3E204469736B       DC8 62, 32, 68, 105, 115, 107, 32, 99, 97, 112
   \              20636170    
   \   0000000A   616369747920       DC8 97, 99, 105, 116, 121, 32, 58, 32, 37, 117
   \              3A202575    
   \   00000014   204279746573       DC8 32, 66, 121, 116, 101, 115, 13, 10, 0, 0
   \              0D0A0000    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\LOG_File">`:
   \   00000000                      ; Initializer data, 12 bytes
   \   00000000   303A5C4C4F47       DC8 48, 58, 92, 76, 79, 71, 95, 70, 105, 108
   \              5F46696C    
   \   0000000A   6500               DC8 101, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\DTG_File">`:
   \   00000000                      ; Initializer data, 12 bytes
   \   00000000   303A5C445447       DC8 48, 58, 92, 68, 84, 71, 95, 70, 105, 108
   \              5F46696C    
   \   0000000A   6500               DC8 101, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\BACKUP_File">`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   303A5C424143       DC8 48, 58, 92, 66, 65, 67, 75, 85, 80, 95
   \              4B55505F    
   \   0000000A   46696C650000       DC8 70, 105, 108, 101, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\EVENT_File">`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   303A5C455645       DC8 48, 58, 92, 69, 86, 69, 78, 84, 95, 70
   \              4E545F46    
   \   0000000A   696C65000000       DC8 105, 108, 101, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config">`:
   \   00000000                      ; Initializer data, 12 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 0
   \              66696700    
   \   0000000A   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66:
   \   00000000   ........           DC32     Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_1:
   \   00000000   ........           DC32     `?<Constant "> Device not supporte...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_2:
   \   00000000   ........           DC32     `?<Constant "> Overcurrent detecte...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_3:
   \   00000000   ........           DC32     USBH_USR_ApplicationState

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_4:
   \   00000000   ........           DC32     fatfs

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_5:
   \   00000000   ........           DC32     LOGWRITE

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_6:
   \   00000000   ........           DC32     `?<Constant "> Cannot initialize F...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_7:
   \   00000000   ........           DC32     `?<Constant "> File System initial...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_8:
   \   00000000   ........           DC32     USBH_MSC_Param

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_9:
   \   00000000   ........           DC32     `?<Constant "> Disk capacity : %u ...">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_10:
   \   00000000   ........           DC32     MSG_WR_PROTECT

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_11:
   \   00000000   ........           DC32     `?<Constant "0:\\\\LOG_File">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_12:
   \   00000000   ........           DC32     `?<Constant "0:\\\\DTG_File">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_13:
   \   00000000   ........           DC32     `?<Constant "0:\\\\BACKUP_File">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_14:
   \   00000000   ........           DC32     `?<Constant "0:\\\\EVENT_File">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_15:
   \   00000000   ........           DC32     `?<Constant "0:\\\\Config">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_16:
   \   00000000   ........           DC32     USBH_USR_ActionFlag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_17:
   \   00000000   ........           DC32     SYSTEM_TIME

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_18:
   \   00000000   ........           DC32     USB_OTG_Core

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_19:
   \   00000000   ........           DC32     file

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_20:
   \   00000000   ........           DC32     USBH_USR_Log_Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_21:
   \   00000000   ........           DC32     USBH_USR_DTG_Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_22:
   \   00000000   ........           DC32     Flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_23:
   \   00000000   ........           DC32     Accident_Time

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_24:
   \   00000000   ........           DC32     NAND_Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_25:
   \   00000000   ........           DC32     USB_File_Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_26:
   \   00000000   ........           DC32     VIEW_Header

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_27:
   \   00000000   ........           DC32     Input_Mode

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_28:
   \   00000000   0000C842           DC32     0x42c80000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_29:
   \   00000000   00140240           DC32     0x40021400

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_30:
   \   00000000   00000408           DC32     0x8040000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_31:
   \   00000000   FFFF0300           DC32     0x3ffff

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_32:
   \   00000000   F8FF0708           DC32     0x807fff8

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_33:
   \   00000000   ........           DC32     Info

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_34:
   \   00000000   ........           DC32     SFLASH_Memory+0x1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable66_35:
   \   00000000   ........           DC32     Info+0x1

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Log_File\\\\%d%d%d.txt">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   303A5C4C6F67       DC8 48, 58, 92, 76, 111, 103, 95, 70, 105, 108
   \              5F46696C    
   \   0000000A   655C25642564       DC8 101, 92, 37, 100, 37, 100, 37, 100, 46, 116
   \              25642E74    
   \   00000014   78740000           DC8 120, 116, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\DTG_File\\\\%04d%02d%...">`:
   \   00000000                      ; Initializer data, 32 bytes
   \   00000000   303A5C445447       DC8 48, 58, 92, 68, 84, 71, 95, 70, 105, 108
   \              5F46696C    
   \   0000000A   655C25303464       DC8 101, 92, 37, 48, 52, 100, 37, 48, 50, 100
   \              25303264    
   \   00000014   253032642E74       DC8 37, 48, 50, 100, 46, 116, 120, 116, 0, 0
   \              78740000    
   \   0000001E   0000               DC8 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\DTG_File\\\\EMS_%04d%...">`:
   \   00000000                      ; Initializer data, 36 bytes
   \   00000000   303A5C445447       DC8 48, 58, 92, 68, 84, 71, 95, 70, 105, 108
   \              5F46696C    
   \   0000000A   655C454D535F       DC8 101, 92, 69, 77, 83, 95, 37, 48, 52, 100
   \              25303464    
   \   00000014   253032642530       DC8 37, 48, 50, 100, 37, 48, 50, 100, 46, 116
   \              32642E74    
   \   0000001E   787400000000       DC8 120, 116, 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\BACKUP_File\\\\Bk%04d...">`:
   \   00000000                      ; Initializer data, 36 bytes
   \   00000000   303A5C424143       DC8 48, 58, 92, 66, 65, 67, 75, 85, 80, 95
   \              4B55505F    
   \   0000000A   46696C655C42       DC8 70, 105, 108, 101, 92, 66, 107, 37, 48, 52
   \              6B253034    
   \   00000014   642530326425       DC8 100, 37, 48, 50, 100, 37, 48, 50, 100, 46
   \              3032642E    
   \   0000001E   647467000000       DC8 100, 116, 103, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\EVENT_File\\\\%s.evt">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   303A5C455645       DC8 48, 58, 92, 69, 86, 69, 78, 84, 95, 70
   \              4E545F46    
   \   0000000A   696C655C2573       DC8 105, 108, 101, 92, 37, 115, 46, 101, 118, 116
   \              2E657674    
   \   00000014   00000000           DC8 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\DTG_File\\\\Backup%02...">`:
   \   00000000                      ; Initializer data, 36 bytes
   \   00000000   303A5C445447       DC8 48, 58, 92, 68, 84, 71, 95, 70, 105, 108
   \              5F46696C    
   \   0000000A   655C4261636B       DC8 101, 92, 66, 97, 99, 107, 117, 112, 37, 48
   \              75702530    
   \   00000014   326425303264       DC8 50, 100, 37, 48, 50, 100, 37, 48, 50, 100
   \              25303264    
   \   0000001E   2E62696E0000       DC8 46, 98, 105, 110, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "000 %%">`:
   \   00000000                      ; Initializer data, 8 bytes
   \   00000000   303030202525       DC8 48, 48, 48, 32, 37, 37, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "%03d %%">`:
   \   00000000                      ; Initializer data, 8 bytes
   \   00000000   253033642025       DC8 37, 48, 51, 100, 32, 37, 37, 0
   \              2500        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config\\\\Sound.bin">`:
   \   00000000                      ; Initializer data, 20 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 92
   \              6669675C    
   \   0000000A   536F756E642E       DC8 83, 111, 117, 110, 100, 46, 98, 105, 110, 0
   \              62696E00    

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "DataLoading...      ">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   446174614C6F       DC8 68, 97, 116, 97, 76, 111, 97, 100, 105, 110
   \              6164696E    
   \   0000000A   672E2E2E2020       DC8 103, 46, 46, 46, 32, 32, 32, 32, 32, 32
   \              20202020    
   \   00000014   00000000           DC8 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "Sound File Write Succ...">`:
   \   00000000                      ; Initializer data, 28 bytes
   \   00000000   536F756E6420       DC8 83, 111, 117, 110, 100, 32, 70, 105, 108, 101
   \              46696C65    
   \   0000000A   205772697465       DC8 32, 87, 114, 105, 116, 101, 32, 83, 117, 99
   \              20537563    
   \   00000014   636573730D0A       DC8 99, 101, 115, 115, 13, 10, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config\\\\UpdateDTG.bin">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 92
   \              6669675C    
   \   0000000A   557064617465       DC8 85, 112, 100, 97, 116, 101, 68, 84, 71, 46
   \              4454472E    
   \   00000014   62696E00           DC8 98, 105, 110, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config\\\\Driver.cfg">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 92
   \              6669675C    
   \   0000000A   447269766572       DC8 68, 114, 105, 118, 101, 114, 46, 99, 102, 103
   \              2E636667    
   \   00000014   00000000           DC8 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config\\\\Parameter.cfg">`:
   \   00000000                      ; Initializer data, 24 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 92
   \              6669675C    
   \   0000000A   506172616D65       DC8 80, 97, 114, 97, 109, 101, 116, 101, 114, 46
   \              7465722E    
   \   00000014   63666700           DC8 99, 102, 103, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config\\\\GPS.cfg">`:
   \   00000000                      ; Initializer data, 20 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 92
   \              6669675C    
   \   0000000A   4750532E6366       DC8 71, 80, 83, 46, 99, 102, 103, 0, 0, 0
   \              67000000    

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "0:\\\\Config\\\\WIFI.cfg">`:
   \   00000000                      ; Initializer data, 20 bytes
   \   00000000   303A5C436F6E       DC8 48, 58, 92, 67, 111, 110, 102, 105, 103, 92
   \              6669675C    
   \   0000000A   574946492E63       DC8 87, 73, 70, 73, 46, 99, 102, 103, 0, 0
   \              66670000    
    977          
    978          
    979          /**
    980          * @}
    981          */ 
    982          
    983          /**
    984          * @}
    985          */ 
    986          
    987          /**
    988          * @}
    989          */
    990          
    991          /**
    992          * @}
    993          */
    994          
    995          /******************* (C) COPYRIGHT 2011 STMicroelectronics *****END OF FILE****/

   Maximum stack usage in bytes:

     Function                       .cstack
     --------                       -------
     LED2_GREEN                          8
     LED2_OFF                            8
     NVIC_SystemReset                    0
     USBH_USR_Configuration_DescAvailable
                                         8
     USBH_USR_DeInit                     0
     USBH_USR_DeviceAddressAssigned      0
     USBH_USR_DeviceAttached             8
     USBH_USR_DeviceDisconnected         8
     USBH_USR_DeviceNotSupported         8
     USBH_USR_DeviceSpeedDetected        8
     USBH_USR_Device_DescAvailable       8
     USBH_USR_EnumerationDone            8
     USBH_USR_Init                       8
     USBH_USR_MSC_Application           80
     USBH_USR_Manufacturer_String        8
     USBH_USR_OverCurrentDetected        8
     USBH_USR_Product_String             8
     USBH_USR_ResetDevice                8
     USBH_USR_SerialNum_String           8
     USBH_USR_UnrecoveredError           8
     USBH_USR_UserInput                  0
     memcpy                              8
     memset                              8


   Section sizes:

     Function/Label                           Bytes
     --------------                           -----
     memcpy                                     14
     memset                                     20
     NVIC_SystemReset                           22
     LED2_OFF                                   28
     LED2_GREEN                                 28
     USBH_USR_ApplicationState                   1
     USBH_USR_ActionFlag                         1
     USBH_USR_Log_Buffer                       100
     USBH_USR_DTG_Buffer                       256
     USB_File_Buffer                           256
     fatfs                                     560
     file                                      548
     finfo                                      32
     USR_cb                                     72
     MSG_HOST_INIT                              32
     MSG_DEV_ATTACHED                           24
     MSG_DEV_DISCONNECTED                       24
     MSG_DEV_ENUMERATED                         28
     MSG_DEV_HIGHSPEED                          32
     MSG_DEV_FULLSPEED                          32
     MSG_DEV_LOWSPEED                           32
     MSG_DEV_ERROR                              20
     MSG_MSC_CLASS                              36
     MSG_HID_CLASS                              28
     MSG_DISK_SIZE                              36
     MSG_LUN                                    36
     MSG_ROOT_CONT                              32
     MSG_WR_PROTECT                             32
     MSG_UNREC_ERROR                            28
     USBH_USR_Init                              32
     USBH_USR_DeviceAttached                    32
     USBH_USR_UnrecoveredError                  32
     USBH_USR_DeviceDisconnected                32
     USBH_USR_ResetDevice                       32
     USBH_USR_DeviceSpeedDetected               86
     USBH_USR_Device_DescAvailable              60
     USBH_USR_DeviceAddressAssigned              2
     USBH_USR_Configuration_DescAvailable
                                                60
     USBH_USR_Manufacturer_String               36
     USBH_USR_Product_String                    36
     USBH_USR_SerialNum_String                  36
     USBH_USR_EnumerationDone                   34
     USBH_USR_DeviceNotSupported                34
     USBH_USR_UserInput                          6
     USBH_USR_OverCurrentDetected               34
     USBH_USR_MSC_Application                 2774
     USBH_USR_DeInit                             8
     ??DataTable64                               4
     ??DataTable64_1                             4
     ??DataTable64_2                             4
     ??DataTable64_3                             4
     ??DataTable64_4                             4
     ??DataTable64_5                             4
     ??DataTable64_6                             4
     ??DataTable64_7                             4
     ??DataTable64_8                             4
     ??DataTable64_9                             4
     ??DataTable64_10                            4
     ??DataTable64_11                            4
     ??DataTable64_12                            4
     ??DataTable65                               4
     ??DataTable65_1                             4
     ??DataTable65_2                             4
     ??DataTable65_3                             4
     ??DataTable65_4                             4
     ??DataTable65_5                             4
     ??DataTable65_6                             4
     ??DataTable65_7                             4
     ??DataTable65_8                             4
     ?<Constant "USB Initailze \r\n ">          20
     ?<Constant "USB_Reset \r\n">               16
     ?<Constant "> VID : %04Xh\r\n">            16
     ?<Constant "> PID : %04Xh\r\n">            16
     ?<Constant "> Manufacturer : %s \r\n">     24
     ?<Constant "> Product : %s \r\n">          20
     ?<Constant "> Serial Number : %s \r\n">    24
     ?<Constant "> Device not supporte...">     28
     ?<Constant "> Overcurrent detecte...">     28
     ?<Constant "> Cannot initialize F...">     36
     ?<Constant "> File System initial...">     32
     ?<Constant "> Disk capacity : %u ...">     32
     ?<Constant "0:\\LOG_File">                 12
     ?<Constant "0:\\DTG_File">                 12
     ?<Constant "0:\\BACKUP_File">              16
     ?<Constant "0:\\EVENT_File">               16
     ?<Constant "0:\\Config">                   12
     ??DataTable66                               4
     ??DataTable66_1                             4
     ??DataTable66_2                             4
     ??DataTable66_3                             4
     ??DataTable66_4                             4
     ??DataTable66_5                             4
     ??DataTable66_6                             4
     ??DataTable66_7                             4
     ??DataTable66_8                             4
     ??DataTable66_9                             4
     ??DataTable66_10                            4
     ??DataTable66_11                            4
     ??DataTable66_12                            4
     ??DataTable66_13                            4
     ??DataTable66_14                            4
     ??DataTable66_15                            4
     ??DataTable66_16                            4
     ??DataTable66_17                            4
     ??DataTable66_18                            4
     ??DataTable66_19                            4
     ??DataTable66_20                            4
     ??DataTable66_21                            4
     ??DataTable66_22                            4
     ??DataTable66_23                            4
     ??DataTable66_24                            4
     ??DataTable66_25                            4
     ??DataTable66_26                            4
     ??DataTable66_27                            4
     ??DataTable66_28                            4
     ??DataTable66_29                            4
     ??DataTable66_30                            4
     ??DataTable66_31                            4
     ??DataTable66_32                            4
     ??DataTable66_33                            4
     ??DataTable66_34                            4
     ??DataTable66_35                            4
     ?<Constant "0:\\Log_File\\%d%d%d.txt">     24
     ?<Constant "0:\\DTG_File\\%04d%02d%...">   32
     ?<Constant "0:\\DTG_File\\EMS_%04d%...">   36
     ?<Constant "0:\\BACKUP_File\\Bk%04d...">   36
     ?<Constant "0:\\EVENT_File\\%s.evt">       24
     ?<Constant "0:\\DTG_File\\Backup%02...">   36
     ?<Constant "000 %%">                        8
     ?<Constant "%03d %%">                       8
     ?<Constant "0:\\Config\\Sound.bin">        20
     ?<Constant "DataLoading...      ">         24
     ?<Constant "Sound File Write Succ...">     28
     ?<Constant "0:\\Config\\UpdateDTG.bin">    24
     ?<Constant "0:\\Config\\Driver.cfg">       24
     ?<Constant "0:\\Config\\Parameter.cfg">    24
     ?<Constant "0:\\Config\\GPS.cfg">          20
     ?<Constant "0:\\Config\\WIFI.cfg">         20

 
 1 753 bytes in section .bss
    73 bytes in section .data
 4 910 bytes in section .text
 
 4 876 bytes of CODE memory (+ 34 bytes shared)
 1 826 bytes of DATA memory

Errors: none
Warnings: 5
