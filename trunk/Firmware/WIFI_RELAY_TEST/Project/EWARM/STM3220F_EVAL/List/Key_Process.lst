###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.10.1.52143/W32 for ARM     20/Dec/2011  16:14:18 #
# Copyright 1999-2010 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\Key_Process #
#                    .c                                                       #
#    Command line =  E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\Key_Process #
#                    .c -D USE_STDPERIPH_DRIVER -D STM32F2XX -D               #
#                    USE_STM3220F_EVAL -D USE_USB_OTG_FS -D                   #
#                    RTC_CLOCK_SOURCE_LSE -lC E:\Work\Firmware\DTG\WIFI_RELAY #
#                    _TEST\Project\EWARM\STM3220F_EVAL\List\ -lA              #
#                    E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWARM\STM32 #
#                    20F_EVAL\List\ -o E:\Work\Firmware\DTG\WIFI_RELAY_TEST\P #
#                    roject\EWARM\STM3220F_EVAL\Obj\ --no_cse --no_unroll     #
#                    --no_inline --no_code_motion --no_tbaa --no_clustering   #
#                    --no_scheduling --debug --endian=little --cpu=Cortex-M3  #
#                    -e --fpu=None --dlib_config "C:\Program Files\IAR        #
#                    Systems\Embedded Workbench 6.0\arm\INC\c\DLib_Config_Ful #
#                    l.h" -I E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWA #
#                    RM\..\ -I E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\E #
#                    WARM\..\..\Libraries\CMSIS\CM3\CoreSupport\ -I           #
#                    E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWARM\..\.. #
#                    \Libraries\CMSIS\CM3\DeviceSupport\ST\STM32F2xx\ -I      #
#                    E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWARM\..\.. #
#                    \Libraries\STM32F2xx_StdPeriph_Driver\inc\ -I            #
#                    E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWARM\..\.. #
#                    \Utilities\STM32_EVAL\ -I E:\Work\Firmware\DTG\WIFI_RELA #
#                    Y_TEST\Project\EWARM\..\..\Utilities\STM32_EVAL\Common\  #
#                    -I E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWARM\.. #
#                    \..\Utilities\STM32_EVAL\STM3220F_EVAL\ -I               #
#                    E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWARM\..\.. #
#                    \Libraries\STM32_USB_OTG_Driver\inc\ -I                  #
#                    E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWARM\..\.. #
#                    \Libraries\STM32_USB_Device_Library\Core\inc\ -I         #
#                    E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWARM\..\.. #
#                    \Libraries\STM32_USB_Device_Library\Class\msc\inc\ -I    #
#                    E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWARM\..\Us #
#                    b\ -I E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWARM #
#                    \..\Usb\Inc\ -I E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Pro #
#                    ject\EWARM\..\Usb\src\ -I E:\Work\Firmware\DTG\WIFI_RELA #
#                    Y_TEST\Project\EWARM\..\..\Libraries\STM32_USB_HOST_Libr #
#                    ary\Core\inc\ -I E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Pr #
#                    oject\EWARM\..\..\Libraries\STM32_USB_HOST_Library\Class #
#                    \MSC\inc\ -Ol --use_c++_inline                           #
#    List file    =  E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWARM\STM32 #
#                    20F_EVAL\List\Key_Process.lst                            #
#    Object file  =  E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\EWARM\STM32 #
#                    20F_EVAL\Obj\Key_Process.o                               #
#                                                                             #
#                                                                             #
###############################################################################

E:\Work\Firmware\DTG\WIFI_RELAY_TEST\Project\Key_Process.c
      1          
      2          //////////////////////////////////////////////////////////////////////////////
      3          //
      4          #include "Key_Process.h"

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void NVIC_SystemReset(void)
   \                     NVIC_SystemReset:
   \   00000000   ........           LDR.W    R0,??DataTable21  ;; 0xe000ed0c
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   10F4E060           ANDS     R0,R0,#0x700
   \   0000000A   ........           LDR.W    R1,??DataTable21_1  ;; 0x5fa0004
   \   0000000E   0843               ORRS     R0,R1,R0
   \   00000010   ........           LDR.W    R1,??DataTable21  ;; 0xe000ed0c
   \   00000014   0860               STR      R0,[R1, #+0]
   \   00000016   BFF34F8F           DSB      
   \                     ??NVIC_SystemReset_0:
   \   0000001A   FEE7               B.N      ??NVIC_SystemReset_0

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp uint8_t IsKey_ECO(void)
   \                     IsKey_ECO:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   0421               MOVS     R1,#+4
   \   00000004   ........           LDR.W    R0,??DataTable21_2  ;; 0x40021000
   \   00000008   ........           BL       GPIO_ReadInputDataBit
   \   0000000C   0128               CMP      R0,#+1
   \   0000000E   01D1               BNE.N    ??IsKey_ECO_0
   \   00000010   0020               MOVS     R0,#+0
   \   00000012   00E0               B.N      ??IsKey_ECO_1
   \                     ??IsKey_ECO_0:
   \   00000014   0120               MOVS     R0,#+1
   \                     ??IsKey_ECO_1:
   \   00000016   02BD               POP      {R1,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp uint8_t IsKey_MODE(void)
   \                     IsKey_MODE:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   0821               MOVS     R1,#+8
   \   00000004   ........           LDR.W    R0,??DataTable21_2  ;; 0x40021000
   \   00000008   ........           BL       GPIO_ReadInputDataBit
   \   0000000C   0128               CMP      R0,#+1
   \   0000000E   01D1               BNE.N    ??IsKey_MODE_0
   \   00000010   0020               MOVS     R0,#+0
   \   00000012   00E0               B.N      ??IsKey_MODE_1
   \                     ??IsKey_MODE_0:
   \   00000014   0120               MOVS     R0,#+1
   \                     ??IsKey_MODE_1:
   \   00000016   02BD               POP      {R1,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp uint8_t IsKey_UP(void)
   \                     IsKey_UP:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   1021               MOVS     R1,#+16
   \   00000004   ........           LDR.W    R0,??DataTable21_2  ;; 0x40021000
   \   00000008   ........           BL       GPIO_ReadInputDataBit
   \   0000000C   0128               CMP      R0,#+1
   \   0000000E   01D1               BNE.N    ??IsKey_UP_0
   \   00000010   0020               MOVS     R0,#+0
   \   00000012   00E0               B.N      ??IsKey_UP_1
   \                     ??IsKey_UP_0:
   \   00000014   0120               MOVS     R0,#+1
   \                     ??IsKey_UP_1:
   \   00000016   02BD               POP      {R1,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp uint8_t IsKey_DOWN(void)
   \                     IsKey_DOWN:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   2021               MOVS     R1,#+32
   \   00000004   ........           LDR.W    R0,??DataTable21_2  ;; 0x40021000
   \   00000008   ........           BL       GPIO_ReadInputDataBit
   \   0000000C   0128               CMP      R0,#+1
   \   0000000E   01D1               BNE.N    ??IsKey_DOWN_0
   \   00000010   0020               MOVS     R0,#+0
   \   00000012   00E0               B.N      ??IsKey_DOWN_1
   \                     ??IsKey_DOWN_0:
   \   00000014   0120               MOVS     R0,#+1
   \                     ??IsKey_DOWN_1:
   \   00000016   02BD               POP      {R1,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp uint8_t IsKey_OK(void)
   \                     IsKey_OK:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   4021               MOVS     R1,#+64
   \   00000004   ........           LDR.W    R0,??DataTable21_2  ;; 0x40021000
   \   00000008   ........           BL       GPIO_ReadInputDataBit
   \   0000000C   0128               CMP      R0,#+1
   \   0000000E   01D1               BNE.N    ??IsKey_OK_0
   \   00000010   0020               MOVS     R0,#+0
   \   00000012   00E0               B.N      ??IsKey_OK_1
   \                     ??IsKey_OK_0:
   \   00000014   0120               MOVS     R0,#+1
   \                     ??IsKey_OK_1:
   \   00000016   02BD               POP      {R1,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp uint8_t IsKey_ESC(void)
   \                     IsKey_ESC:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   4FF40051           MOV      R1,#+8192
   \   00000006   ....               LDR.N    R0,??DataTable21_3  ;; 0x40020800
   \   00000008   ........           BL       GPIO_ReadInputDataBit
   \   0000000C   0128               CMP      R0,#+1
   \   0000000E   01D1               BNE.N    ??IsKey_ESC_0
   \   00000010   0020               MOVS     R0,#+0
   \   00000012   00E0               B.N      ??IsKey_ESC_1
   \                     ??IsKey_ESC_0:
   \   00000014   0120               MOVS     R0,#+1
   \                     ??IsKey_ESC_1:
   \   00000016   02BD               POP      {R1,PC}          ;; return
      5          #include "Display.h"
      6          #include "GraphicLcd.h"
      7          #include "main.h"
      8          #include "Log.h"
      9          #include "Tilt.h"
     10          #include "Memory.h"
     11          #include "Serial.h"
     12          #include "usbh_usr.h"
     13          #include "rtc.h"
     14          #include "Ems_System.h"

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void SET_ENGINE_ON(void)
   \                     SET_ENGINE_ON:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   4FF40061           MOV      R1,#+2048
   \   00000006   ....               LDR.N    R0,??DataTable21_2  ;; 0x40021000
   \   00000008   ........           BL       GPIO_SetBits
   \   0000000C   ....               LDR.N    R0,??DataTable21_4
   \   0000000E   0078               LDRB     R0,[R0, #+0]
   \   00000010   50F00100           ORRS     R0,R0,#0x1
   \   00000014   ....               LDR.N    R1,??DataTable21_4
   \   00000016   0870               STRB     R0,[R1, #+0]
   \   00000018   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void RESET_ENGINE_ON(void)
   \                     RESET_ENGINE_ON:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   4FF40061           MOV      R1,#+2048
   \   00000006   ....               LDR.N    R0,??DataTable21_2  ;; 0x40021000
   \   00000008   ........           BL       GPIO_ResetBits
   \   0000000C   ....               LDR.N    R0,??DataTable21_4
   \   0000000E   0078               LDRB     R0,[R0, #+0]
   \   00000010   10F0FE00           ANDS     R0,R0,#0xFE
   \   00000014   ....               LDR.N    R1,??DataTable21_4
   \   00000016   0870               STRB     R0,[R1, #+0]
   \   00000018   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void SET_ENGINE_OFF(void)
   \                     SET_ENGINE_OFF:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   4FF48051           MOV      R1,#+4096
   \   00000006   ....               LDR.N    R0,??DataTable21_2  ;; 0x40021000
   \   00000008   ........           BL       GPIO_SetBits
   \   0000000C   ....               LDR.N    R0,??DataTable21_4
   \   0000000E   0078               LDRB     R0,[R0, #+0]
   \   00000010   50F00200           ORRS     R0,R0,#0x2
   \   00000014   ....               LDR.N    R1,??DataTable21_4
   \   00000016   0870               STRB     R0,[R1, #+0]
   \   00000018   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void RESET_ENGINE_OFF(void)
   \                     RESET_ENGINE_OFF:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   4FF48051           MOV      R1,#+4096
   \   00000006   ....               LDR.N    R0,??DataTable21_2  ;; 0x40021000
   \   00000008   ........           BL       GPIO_ResetBits
   \   0000000C   ....               LDR.N    R0,??DataTable21_4
   \   0000000E   0078               LDRB     R0,[R0, #+0]
   \   00000010   10F0FD00           ANDS     R0,R0,#0xFD
   \   00000014   ....               LDR.N    R1,??DataTable21_4
   \   00000016   0870               STRB     R0,[R1, #+0]
   \   00000018   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void SET_AIRCON(void)
   \                     SET_AIRCON:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   2021               MOVS     R1,#+32
   \   00000004   ....               LDR.N    R0,??DataTable21_5  ;; 0x40021800
   \   00000006   ........           BL       GPIO_SetBits
   \   0000000A   ....               LDR.N    R0,??DataTable21_4
   \   0000000C   0078               LDRB     R0,[R0, #+0]
   \   0000000E   50F00400           ORRS     R0,R0,#0x4
   \   00000012   ....               LDR.N    R1,??DataTable21_4
   \   00000014   0870               STRB     R0,[R1, #+0]
   \   00000016   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void RESET_AIRCON(void)
   \                     RESET_AIRCON:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   2021               MOVS     R1,#+32
   \   00000004   ....               LDR.N    R0,??DataTable21_5  ;; 0x40021800
   \   00000006   ........           BL       GPIO_ResetBits
   \   0000000A   ....               LDR.N    R0,??DataTable21_4
   \   0000000C   0078               LDRB     R0,[R0, #+0]
   \   0000000E   10F0FB00           ANDS     R0,R0,#0xFB
   \   00000012   ....               LDR.N    R1,??DataTable21_4
   \   00000014   0870               STRB     R0,[R1, #+0]
   \   00000016   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void SET_LIGHT(void)
   \                     SET_LIGHT:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   4FF40051           MOV      R1,#+8192
   \   00000006   ....               LDR.N    R0,??DataTable21_2  ;; 0x40021000
   \   00000008   ........           BL       GPIO_SetBits
   \   0000000C   ....               LDR.N    R0,??DataTable21_4
   \   0000000E   0078               LDRB     R0,[R0, #+0]
   \   00000010   50F00800           ORRS     R0,R0,#0x8
   \   00000014   ....               LDR.N    R1,??DataTable21_4
   \   00000016   0870               STRB     R0,[R1, #+0]
   \   00000018   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void RESET_LIGHT(void)
   \                     RESET_LIGHT:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   4FF40051           MOV      R1,#+8192
   \   00000006   ....               LDR.N    R0,??DataTable21_2  ;; 0x40021000
   \   00000008   ........           BL       GPIO_ResetBits
   \   0000000C   ....               LDR.N    R0,??DataTable21_4
   \   0000000E   0078               LDRB     R0,[R0, #+0]
   \   00000010   10F0F700           ANDS     R0,R0,#0xF7
   \   00000014   ....               LDR.N    R1,??DataTable21_4
   \   00000016   0870               STRB     R0,[R1, #+0]
   \   00000018   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void RESET_HITER(void)
   \                     RESET_HITER:
   \   00000000   80B5               PUSH     {R7,LR}
   \   00000002   0421               MOVS     R1,#+4
   \   00000004   ....               LDR.N    R0,??DataTable21_5  ;; 0x40021800
   \   00000006   ........           BL       GPIO_ResetBits
   \   0000000A   ....               LDR.N    R0,??DataTable21_4
   \   0000000C   0078               LDRB     R0,[R0, #+0]
   \   0000000E   10F0EF00           ANDS     R0,R0,#0xEF
   \   00000012   ....               LDR.N    R1,??DataTable21_4
   \   00000014   0870               STRB     R0,[R1, #+0]
   \   00000016   01BD               POP      {R0,PC}          ;; return
     15          #include "Eeprom.h"
     16          #include "Voice.h"
     17          #include "GPSLIB.h"
     18          
     19          //
     20          //////////////////////////////////////////////////////////////////////////////
     21          
     22          
     23          #include "DAC_Control.h"
     24          

   \                                 In section .bss, align 1
     25          u8 Input_Mode ;
   \                     Input_Mode:
   \   00000000                      DS8 1
     26          

   \                                 In section .bss, align 4
     27          u8 Input_Word[20];
   \                     Input_Word:
   \   00000000                      DS8 20

   \                                 In section .bss, align 1
     28          u8 Input_Index_1;
   \                     Input_Index_1:
   \   00000000                      DS8 1

   \                                 In section .bss, align 1
     29          u8 Input_Index_2;
   \                     Input_Index_2:
   \   00000000                      DS8 1
     30          

   \                                 In section .bss, align 1
     31          u8 Pass_Index;
   \                     Pass_Index:
   \   00000000                      DS8 1

   \                                 In section .text, align 2, keep-with-next
     32          void Key_Config(void)
     33          {
   \                     Key_Config:
   \   00000000   00B5               PUSH     {LR}
   \   00000002   83B0               SUB      SP,SP,#+12
     34          	
     35          	GPIO_InitTypeDef GPIO_InitStructure;
     36          	
     37          	RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOC| RCC_AHB1Periph_GPIOE, ENABLE);
   \   00000004   0121               MOVS     R1,#+1
   \   00000006   1420               MOVS     R0,#+20
   \   00000008   ........           BL       RCC_AHB1PeriphClockCmd
     38          	//  RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOG, ENABLE);  
     39               
     40          	//  키입력 초기화
     41          	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4 | GPIO_Pin_5 | GPIO_Pin_6;
   \   0000000C   7C20               MOVS     R0,#+124
   \   0000000E   0090               STR      R0,[SP, #+0]
     42          	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_2MHz;
   \   00000010   0020               MOVS     R0,#+0
   \   00000012   8DF80500           STRB     R0,[SP, #+5]
     43          	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN;
   \   00000016   0020               MOVS     R0,#+0
   \   00000018   8DF80400           STRB     R0,[SP, #+4]
     44          	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;        
   \   0000001C   0020               MOVS     R0,#+0
   \   0000001E   8DF80600           STRB     R0,[SP, #+6]
     45          	GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_UP;        
   \   00000022   0120               MOVS     R0,#+1
   \   00000024   8DF80700           STRB     R0,[SP, #+7]
     46          	GPIO_Init(GPIOE, &GPIO_InitStructure);
   \   00000028   00A9               ADD      R1,SP,#+0
   \   0000002A   ....               LDR.N    R0,??DataTable21_2  ;; 0x40021000
   \   0000002C   ........           BL       GPIO_Init
     47          	
     48          	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_13;		// ECO 
   \   00000030   4FF40050           MOV      R0,#+8192
   \   00000034   0090               STR      R0,[SP, #+0]
     49          	GPIO_Init(GPIOC, &GPIO_InitStructure);		
   \   00000036   00A9               ADD      R1,SP,#+0
   \   00000038   ....               LDR.N    R0,??DataTable21_3  ;; 0x40020800
   \   0000003A   ........           BL       GPIO_Init
     50          	
     51          }
   \   0000003E   07BD               POP      {R0-R2,PC}       ;; return
     52          
     53          

   \                                 In section .text, align 2, keep-with-next
     54          u8 GetKey(void)
     55          {
   \                     GetKey:
   \   00000000   10B5               PUSH     {R4,LR}
     56               static u16 KeyPush_Timer = 0;
     57               static u8 KeyPush_Flag = 0;
     58          	static   u16   KeyCount=0;
     59          	static   u8    OldKeyData=0;
     60          	static   u8    isPush = 0;
     61          	u8             KeyData = 0;
   \   00000002   0024               MOVS     R4,#+0
     62               
     63          	KeyData = 0;
   \   00000004   0020               MOVS     R0,#+0
   \   00000006   0400               MOVS     R4,R0
     64          	if(IsKey_ESC())
   \   00000008   ........           BL       IsKey_ESC
   \   0000000C   0028               CMP      R0,#+0
   \   0000000E   1ED0               BEQ.N    ??GetKey_0
     65               {
     66                    if(IsKey_OK())
   \   00000010   ........           BL       IsKey_OK
   \   00000014   0028               CMP      R0,#+0
   \   00000016   0BD0               BEQ.N    ??GetKey_1
     67                    {
     68                         if(KeyPush_Flag == 0)
   \   00000018   ....               LDR.N    R0,??DataTable21_6
   \   0000001A   0078               LDRB     R0,[R0, #+0]
   \   0000001C   0028               CMP      R0,#+0
   \   0000001E   09D1               BNE.N    ??GetKey_2
     69                         {
     70                              KeyPush_Timer = MS_TIMER;
   \   00000020   ....               LDR.N    R0,??DataTable21_7  ;; 0x40000c00
   \   00000022   ........           BL       TIM_GetCounter
   \   00000026   ....               LDR.N    R1,??DataTable21_8
   \   00000028   0880               STRH     R0,[R1, #+0]
     71                              KeyPush_Flag = 1;
   \   0000002A   ....               LDR.N    R0,??DataTable21_6
   \   0000002C   0121               MOVS     R1,#+1
   \   0000002E   0170               STRB     R1,[R0, #+0]
     72                         }else
     73                         {
     74                              if(!CheckTimeOver(100,KeyPush_Timer) )
     75                                   return 0;
     76                              KeyData = Key_OKESC;
     77                              return KeyData;
     78                         }
     79                    }
     80                    
     81                    KeyData = Key_ESC;
   \                     ??GetKey_1:
   \   00000030   0124               MOVS     R4,#+1
   \   00000032   29E0               B.N      ??GetKey_3
   \                     ??GetKey_2:
   \   00000034   ....               LDR.N    R0,??DataTable21_8
   \   00000036   0188               LDRH     R1,[R0, #+0]
   \   00000038   6420               MOVS     R0,#+100
   \   0000003A   ........           BL       CheckTimeOver
   \   0000003E   0028               CMP      R0,#+0
   \   00000040   01D1               BNE.N    ??GetKey_4
   \   00000042   0020               MOVS     R0,#+0
   \   00000044   5BE0               B.N      ??GetKey_5
   \                     ??GetKey_4:
   \   00000046   4024               MOVS     R4,#+64
   \   00000048   2000               MOVS     R0,R4
   \   0000004A   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000004C   57E0               B.N      ??GetKey_5
     82               }
     83          	else if(IsKey_OK())
   \                     ??GetKey_0:
   \   0000004E   ........           BL       IsKey_OK
   \   00000052   0028               CMP      R0,#+0
   \   00000054   01D0               BEQ.N    ??GetKey_6
     84          		KeyData = Key_OK;
   \   00000056   0224               MOVS     R4,#+2
   \   00000058   16E0               B.N      ??GetKey_3
     85          	else if(IsKey_DOWN())
   \                     ??GetKey_6:
   \   0000005A   ........           BL       IsKey_DOWN
   \   0000005E   0028               CMP      R0,#+0
   \   00000060   01D0               BEQ.N    ??GetKey_7
     86          		KeyData = Key_DOWN;
   \   00000062   0424               MOVS     R4,#+4
   \   00000064   10E0               B.N      ??GetKey_3
     87          	else if(IsKey_UP())
   \                     ??GetKey_7:
   \   00000066   ........           BL       IsKey_UP
   \   0000006A   0028               CMP      R0,#+0
   \   0000006C   01D0               BEQ.N    ??GetKey_8
     88          		KeyData = Key_UP;
   \   0000006E   0624               MOVS     R4,#+6
   \   00000070   0AE0               B.N      ??GetKey_3
     89          	else if(IsKey_MODE())
   \                     ??GetKey_8:
   \   00000072   ........           BL       IsKey_MODE
   \   00000076   0028               CMP      R0,#+0
   \   00000078   01D0               BEQ.N    ??GetKey_9
     90          		KeyData = Key_MODE;
   \   0000007A   1024               MOVS     R4,#+16
   \   0000007C   04E0               B.N      ??GetKey_3
     91          	else if(IsKey_ECO())
   \                     ??GetKey_9:
   \   0000007E   ........           BL       IsKey_ECO
   \   00000082   0028               CMP      R0,#+0
   \   00000084   00D0               BEQ.N    ??GetKey_3
     92          		KeyData = Key_ECO;        
   \   00000086   2024               MOVS     R4,#+32
     93               
     94          	if (KeyData == 0)                // 모든 키가 입력되지 않았을 경우 리턴
   \                     ??GetKey_3:
   \   00000088   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000008A   002C               CMP      R4,#+0
   \   0000008C   14D1               BNE.N    ??GetKey_10
     95          	{
     96          		KeyCount = 0;
   \   0000008E   ....               LDR.N    R0,??DataTable21_9
   \   00000090   0021               MOVS     R1,#+0
   \   00000092   0180               STRH     R1,[R0, #+0]
     97                    KeyPush_Flag = 0;
   \   00000094   ....               LDR.N    R0,??DataTable21_6
   \   00000096   0021               MOVS     R1,#+0
   \   00000098   0170               STRB     R1,[R0, #+0]
     98          		isPush = 0;
   \   0000009A   ....               LDR.N    R0,??DataTable21_10
   \   0000009C   0021               MOVS     R1,#+0
   \   0000009E   0170               STRB     R1,[R0, #+0]
     99                    RESET_ENGINE_ON();
   \   000000A0   ........           BL       RESET_ENGINE_ON
    100                    RESET_ENGINE_OFF();
   \   000000A4   ........           BL       RESET_ENGINE_OFF
    101                    RESET_AIRCON();
   \   000000A8   ........           BL       RESET_AIRCON
    102                    RESET_LIGHT();
   \   000000AC   ........           BL       RESET_LIGHT
    103                    RESET_HITER();
   \   000000B0   ........           BL       RESET_HITER
    104          		return   0;
   \   000000B4   0020               MOVS     R0,#+0
   \   000000B6   22E0               B.N      ??GetKey_5
    105          	}
    106               
    107          	if (isPush )          return 0;      // 키 누름 상태가 유지되고 있는 경우 리턴
   \                     ??GetKey_10:
   \   000000B8   ....               LDR.N    R0,??DataTable21_10
   \   000000BA   0078               LDRB     R0,[R0, #+0]
   \   000000BC   0028               CMP      R0,#+0
   \   000000BE   01D0               BEQ.N    ??GetKey_11
   \   000000C0   0020               MOVS     R0,#+0
   \   000000C2   1CE0               B.N      ??GetKey_5
    108               
    109          	if (OldKeyData == KeyData) {
   \                     ??GetKey_11:
   \   000000C4   ....               LDR.N    R0,??DataTable21_11
   \   000000C6   0078               LDRB     R0,[R0, #+0]
   \   000000C8   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000000CA   A042               CMP      R0,R4
   \   000000CC   0ED1               BNE.N    ??GetKey_12
    110          		KeyCount++;
   \   000000CE   ....               LDR.N    R0,??DataTable21_9
   \   000000D0   0088               LDRH     R0,[R0, #+0]
   \   000000D2   401C               ADDS     R0,R0,#+1
   \   000000D4   ....               LDR.N    R1,??DataTable21_9
   \   000000D6   0880               STRH     R0,[R1, #+0]
    111          		if (KeyCount >= 3) {             // 30ms이상 유지되어 있으면 키로 인식
   \   000000D8   ....               LDR.N    R0,??DataTable21_9
   \   000000DA   0088               LDRH     R0,[R0, #+0]
   \   000000DC   0328               CMP      R0,#+3
   \   000000DE   0BD3               BCC.N    ??GetKey_13
    112          			//         KeyData = ~KeyData;
    113          			isPush = 1;
   \   000000E0   ....               LDR.N    R0,??DataTable21_10
   \   000000E2   0121               MOVS     R1,#+1
   \   000000E4   0170               STRB     R1,[R0, #+0]
    114          			return KeyData;
   \   000000E6   2000               MOVS     R0,R4
   \   000000E8   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000EA   08E0               B.N      ??GetKey_5
    115          		}
    116          	}
    117          	else {
    118          		KeyCount = 0;
   \                     ??GetKey_12:
   \   000000EC   ....               LDR.N    R0,??DataTable21_9
   \   000000EE   0021               MOVS     R1,#+0
   \   000000F0   0180               STRH     R1,[R0, #+0]
    119          		isPush = 0;
   \   000000F2   ....               LDR.N    R0,??DataTable21_10
   \   000000F4   0021               MOVS     R1,#+0
   \   000000F6   0170               STRB     R1,[R0, #+0]
    120          	}
    121          	OldKeyData = KeyData;
   \                     ??GetKey_13:
   \   000000F8   ....               LDR.N    R0,??DataTable21_11
   \   000000FA   0470               STRB     R4,[R0, #+0]
    122               
    123          	return 0;
   \   000000FC   0020               MOVS     R0,#+0
   \                     ??GetKey_5:
   \   000000FE   10BD               POP      {R4,PC}          ;; return
    124          }

   \                                 In section .bss, align 2
   \                     ??KeyPush_Timer:
   \   00000000                      DS8 2

   \                                 In section .bss, align 1
   \                     ??KeyPush_Flag:
   \   00000000                      DS8 1

   \                                 In section .bss, align 2
   \                     ??KeyCount:
   \   00000000                      DS8 2

   \                                 In section .bss, align 1
   \                     ??OldKeyData:
   \   00000000                      DS8 1

   \                                 In section .bss, align 1
   \                     ??isPush:
   \   00000000                      DS8 1
    125          
    126          

   \                                 In section .text, align 2, keep-with-next
    127          void KeyProcess(void)
    128          {
   \                     KeyProcess:
   \   00000000   1CB5               PUSH     {R2-R4,LR}
    129          	static   u16   KeyTime;
    130          	static u8 Password[6];
                 	          ^
Warning[Pe177]: variable "Password" was declared but never referenced
    131          	const u8 Answer[6] = { 0x06,0x04,0x06,0x06,0x04,0x06};      
                 	         ^
Warning[Pe177]: variable "Answer" was declared but never referenced
   \   00000002   00A8               ADD      R0,SP,#+0
   \   00000004   ........           ADR.W    R1,`?<Constant {6, 4, 6, 6, 4, 6}>`
   \   00000008   0CC9               LDM      R1!,{R2,R3}
   \   0000000A   0CC0               STM      R0!,{R2,R3}
   \   0000000C   0839               SUBS     R1,R1,#+8
   \   0000000E   0838               SUBS     R0,R0,#+8
    132          	u32 Temp;
                 	    ^
Warning[Pe177]: variable "Temp" was declared but never referenced
    133          	u8 KeyData;
    134          
    135          	if (!CheckTimeOver(10,KeyTime))     // 10ms 마다 한번씩만 동작하도록한다.
   \   00000010   ....               LDR.N    R0,??DataTable21_12
   \   00000012   0188               LDRH     R1,[R0, #+0]
   \   00000014   0A20               MOVS     R0,#+10
   \   00000016   ........           BL       CheckTimeOver
   \   0000001A   0028               CMP      R0,#+0
   \   0000001C   52D0               BEQ.N    ??KeyProcess_0
    136          		return ;
    137          	KeyTime = MS_TIMER;     
   \                     ??KeyProcess_1:
   \   0000001E   ....               LDR.N    R0,??DataTable21_7  ;; 0x40000c00
   \   00000020   ........           BL       TIM_GetCounter
   \   00000024   ....               LDR.N    R1,??DataTable21_12
   \   00000026   0880               STRH     R0,[R1, #+0]
    138               
    139          	KeyData = GetKey();
   \   00000028   ........           BL       GetKey
   \   0000002C   0400               MOVS     R4,R0
    140               
    141          	if(KeyData == 0)   // 입력된 키값이 없음
   \   0000002E   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000030   002C               CMP      R4,#+0
   \   00000032   47D0               BEQ.N    ??KeyProcess_0
    142          		return;          
    143               if(LOGWRITE & LOG_KEY)
   \                     ??KeyProcess_2:
   \   00000034   ....               LDR.N    R0,??DataTable21_13
   \   00000036   0078               LDRB     R0,[R0, #+0]
   \   00000038   0007               LSLS     R0,R0,#+28
   \   0000003A   0AD5               BPL.N    ??KeyProcess_3
    144               {
    145                    sprintf((char *)Buffer,"KEY IN %d \r\n", KeyData);
   \   0000003C   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000003E   2200               MOVS     R2,R4
   \   00000040   ........           ADR.W    R1,`?<Constant "KEY IN %d \\r\\n">`
   \   00000044   ....               LDR.N    R0,??DataTable21_14
   \   00000046   ........           BL       sprintf
    146                    Write_Log(Buffer, NORMAL_LOG);
   \   0000004A   0121               MOVS     R1,#+1
   \   0000004C   ....               LDR.N    R0,??DataTable21_14
   \   0000004E   ........           BL       Write_Log
    147               }
    148               
    149               Voice_Play(VOICE_CLICK);
   \                     ??KeyProcess_3:
   \   00000052   0A20               MOVS     R0,#+10
   \   00000054   ........           BL       Voice_Play
    150               
    151          	switch(KeyData)
   \   00000058   E4B2               UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000005A   012C               CMP      R4,#+1
   \   0000005C   24D0               BEQ.N    ??KeyProcess_4
   \   0000005E   022C               CMP      R4,#+2
   \   00000060   21D0               BEQ.N    ??KeyProcess_5
   \   00000062   042C               CMP      R4,#+4
   \   00000064   1CD0               BEQ.N    ??KeyProcess_6
   \   00000066   062C               CMP      R4,#+6
   \   00000068   17D0               BEQ.N    ??KeyProcess_7
   \   0000006A   102C               CMP      R4,#+16
   \   0000006C   12D0               BEQ.N    ??KeyProcess_8
   \   0000006E   112C               CMP      R4,#+17
   \   00000070   0AD0               BEQ.N    ??KeyProcess_9
   \   00000072   202C               CMP      R4,#+32
   \   00000074   0BD0               BEQ.N    ??KeyProcess_10
   \   00000076   402C               CMP      R4,#+64
   \   00000078   17D1               BNE.N    ??KeyProcess_11
    152          	{
    153               case Key_OKESC:          // 엔지니어 모드
    154                    {
    155                         DisplayInfo.Mode = DISPMODE_ENGINER; 
   \                     ??KeyProcess_12:
   \   0000007A   ....               LDR.N    R0,??DataTable21_15
   \   0000007C   0421               MOVS     R1,#+4
   \   0000007E   8171               STRB     R1,[R0, #+6]
    156                         DisplayInfo.Now_View = DISP_ENGINER;               
   \   00000080   ....               LDR.N    R0,??DataTable21_15
   \   00000082   0F21               MOVS     R1,#+15
   \   00000084   4171               STRB     R1,[R0, #+5]
    157                    }break;
   \   00000086   1DE0               B.N      ??KeyProcess_13
    158               case Key_ESCMODE:          // 엔지니어 모드
    159                    {
    160                         NVIC_SystemReset();           // 시스템 재시작
   \                     ??KeyProcess_9:
   \   00000088   ........           BL       NVIC_SystemReset
    161                    }break;          
   \   0000008C   1AE0               B.N      ??KeyProcess_13
    162               case Key_ECO:
    163                    {           
    164                         SET_ENGINE_ON();
   \                     ??KeyProcess_10:
   \   0000008E   ........           BL       SET_ENGINE_ON
    165                    } 
    166                    break;
   \   00000092   17E0               B.N      ??KeyProcess_13
    167               case Key_MODE:
    168                    {
    169                         SET_ENGINE_OFF();
   \                     ??KeyProcess_8:
   \   00000094   ........           BL       SET_ENGINE_OFF
    170                    }  
    171                    break;
   \   00000098   14E0               B.N      ??KeyProcess_13
    172               case Key_UP:
    173                    {
    174                         SET_AIRCON();
   \                     ??KeyProcess_7:
   \   0000009A   ........           BL       SET_AIRCON
    175                    }break;
   \   0000009E   11E0               B.N      ??KeyProcess_13
    176               case Key_DOWN:
    177                    {
    178                         SET_LIGHT();
   \                     ??KeyProcess_6:
   \   000000A0   ........           BL       SET_LIGHT
    179                    }break;
   \   000000A4   0EE0               B.N      ??KeyProcess_13
    180               case Key_OK:
    181                    {
    182                    }
    183                    break;
   \                     ??KeyProcess_5:
   \   000000A6   0DE0               B.N      ??KeyProcess_13
    184               case Key_ESC:
    185                    {
    186                    }break;
   \                     ??KeyProcess_4:
   \   000000A8   0CE0               B.N      ??KeyProcess_13
    187               default:
    188                    {
    189                         if(LOGWRITE & LOG_KEY)
   \                     ??KeyProcess_11:
   \   000000AA   ....               LDR.N    R0,??DataTable21_13
   \   000000AC   0078               LDRB     R0,[R0, #+0]
   \   000000AE   0007               LSLS     R0,R0,#+28
   \   000000B0   08D5               BPL.N    ??KeyProcess_14
    190                         {
    191                              sprintf((char *)Buffer,"KEY-UNKWON IN\r\n");
   \   000000B2   ........           ADR.W    R1,`?<Constant "KEY-UNKWON IN\\r\\n">`
   \   000000B6   ....               LDR.N    R0,??DataTable21_14
   \   000000B8   ........           BL       sprintf
    192                              Write_Log(Buffer, ERROR_LOG);
   \   000000BC   0421               MOVS     R1,#+4
   \   000000BE   ....               LDR.N    R0,??DataTable21_14
   \   000000C0   ........           BL       Write_Log
    193                         }     
    194                         break;
    195                    }
    196          	}   // end of Switch
    197          }
   \                     ??KeyProcess_14:
   \                     ??KeyProcess_13:
   \                     ??KeyProcess_0:
   \   000000C4   13BD               POP      {R0,R1,R4,PC}    ;; return

   \                                 In section .bss, align 2
   \                     ??KeyTime:
   \   00000000                      DS8 2

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21:
   \   00000000   0CED00E0           DC32     0xe000ed0c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_1:
   \   00000000   0400FA05           DC32     0x5fa0004

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_2:
   \   00000000   00100240           DC32     0x40021000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_3:
   \   00000000   00080240           DC32     0x40020800

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_4:
   \   00000000   ........           DC32     OUTPUT_DATA

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_5:
   \   00000000   00180240           DC32     0x40021800

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_6:
   \   00000000   ........           DC32     ??KeyPush_Flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_7:
   \   00000000   000C0040           DC32     0x40000c00

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_8:
   \   00000000   ........           DC32     ??KeyPush_Timer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_9:
   \   00000000   ........           DC32     ??KeyCount

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_10:
   \   00000000   ........           DC32     ??isPush

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_11:
   \   00000000   ........           DC32     ??OldKeyData

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_12:
   \   00000000   ........           DC32     ??KeyTime

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_13:
   \   00000000   ........           DC32     LOGWRITE

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_14:
   \   00000000   ........           DC32     Buffer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable21_15:
   \   00000000   ........           DC32     DisplayInfo

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant {6, 4, 6, 6, 4, 6}>`:
   \   00000000                      ; Initializer data, 8 bytes
   \   00000000   060406060406       DC8 6, 4, 6, 6, 4, 6, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "KEY IN %d \\r\\n">`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   4B455920494E       DC8 75, 69, 89, 32, 73, 78, 32, 37, 100, 32
   \              20256420    
   \   0000000A   0D0A00000000       DC8 13, 10, 0, 0, 0, 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "KEY-UNKWON IN\\r\\n">`:
   \   00000000                      ; Initializer data, 16 bytes
   \   00000000   4B45592D554E       DC8 75, 69, 89, 45, 85, 78, 75, 87, 79, 78
   \              4B574F4E    
   \   0000000A   20494E0D0A00       DC8 32, 73, 78, 13, 10, 0

   Maximum stack usage in bytes:

     Function         .cstack
     --------         -------
     GetKey                8
     IsKey_DOWN            8
     IsKey_ECO             8
     IsKey_ESC             8
     IsKey_MODE            8
     IsKey_OK              8
     IsKey_UP              8
     KeyProcess           16
     Key_Config           16
     NVIC_SystemReset      0
     RESET_AIRCON          8
     RESET_ENGINE_OFF      8
     RESET_ENGINE_ON       8
     RESET_HITER           8
     RESET_LIGHT           8
     SET_AIRCON            8
     SET_ENGINE_OFF        8
     SET_ENGINE_ON         8
     SET_LIGHT             8


   Section sizes:

     Function/Label                  Bytes
     --------------                  -----
     NVIC_SystemReset                  28
     IsKey_ECO                         24
     IsKey_MODE                        24
     IsKey_UP                          24
     IsKey_DOWN                        24
     IsKey_OK                          24
     IsKey_ESC                         24
     SET_ENGINE_ON                     26
     RESET_ENGINE_ON                   26
     SET_ENGINE_OFF                    26
     RESET_ENGINE_OFF                  26
     SET_AIRCON                        24
     RESET_AIRCON                      24
     SET_LIGHT                         26
     RESET_LIGHT                       26
     RESET_HITER                       24
     Input_Mode                         1
     Input_Word                        20
     Input_Index_1                      1
     Input_Index_2                      1
     Pass_Index                         1
     Key_Config                        64
     GetKey                           256
     KeyPush_Timer                      2
     KeyPush_Flag                       1
     KeyCount                           2
     OldKeyData                         1
     isPush                             1
     KeyProcess                       198
     KeyTime                            2
     ??DataTable21                      4
     ??DataTable21_1                    4
     ??DataTable21_2                    4
     ??DataTable21_3                    4
     ??DataTable21_4                    4
     ??DataTable21_5                    4
     ??DataTable21_6                    4
     ??DataTable21_7                    4
     ??DataTable21_8                    4
     ??DataTable21_9                    4
     ??DataTable21_10                   4
     ??DataTable21_11                   4
     ??DataTable21_12                   4
     ??DataTable21_13                   4
     ??DataTable21_14                   4
     ??DataTable21_15                   4
     ?<Constant {6, 4, 6, 6, 4, 6}>     8
     ?<Constant "KEY IN %d \r\n">      16
     ?<Constant "KEY-UNKWON IN\r\n">   16

 
    33 bytes in section .bss
 1 022 bytes in section .text
 
 1 022 bytes of CODE memory
    33 bytes of DATA memory

Errors: none
Warnings: 3
